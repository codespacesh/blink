// This file has been generated by the /home/hugodutka/dev/blink/internal/runtime/scripts/generate.ts script.
// Do not edit this file manually.

export default 'import{createRequire as VD}from"node:module";var AD=Object.defineProperty;var P=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var ln=(i,n)=>{for(var r in n)AD(i,r,{get:n[r],enumerable:!0,configurable:!0,set:(u)=>n[r]=()=>u})};var C=VD(import.meta.url);var dg=P((lB,d0)=>{function CD(){return Object.keys(globalThis).some((i)=>i.startsWith("__NEXT"))}d0.exports=function(){if(globalThis.Deno)return!0;if(globalThis.Bun)return!0;if(CD())return!0;return!1}});var Db=P((gB,jb)=>{var{defineProperty:oo,getOwnPropertyDescriptor:RD,getOwnPropertyNames:dD}=Object,ZD=Object.prototype.hasOwnProperty,k=(i,n)=>oo(i,"name",{value:n,configurable:!0}),aD=(i,n)=>{for(var r in n)oo(i,r,{get:n[r],enumerable:!0})},pD=(i,n,r,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of dD(n))!ZD.call(i,t)&&t!==r&&oo(i,t,{get:()=>n[t],enumerable:!(u=RD(n,t))||u.enumerable});return i},sD=(i)=>pD(oo({},"__esModule",{value:!0}),i),Z0={};aD(Z0,{URLPattern:()=>Ib});jb.exports=sD(Z0);var mt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(i,n,r,u,t,o){this.type=i,this.name=n,this.prefix=r,this.value=u,this.suffix=t,this.modifier=o}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};k(mt,"Part");var iN=/[$_\\p{ID_Start}]/u,nN=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,ag=".*";function a0(i,n){return(n?/^[\\x00-\\xFF]*$/:/^[\\x00-\\x7F]*$/).test(i)}k(a0,"isASCII");function ie(i,n=!1){let r=[],u=0;for(;u<i.length;){let t=i[u],o=k(function(l){if(!n)throw TypeError(l);r.push({type:"INVALID_CHAR",index:u,value:i[u++]})},"ErrorOrInvalid");if(t==="*"){r.push({type:"ASTERISK",index:u,value:i[u++]});continue}if(t==="+"||t==="?"){r.push({type:"OTHER_MODIFIER",index:u,value:i[u++]});continue}if(t==="\\\\"){r.push({type:"ESCAPED_CHAR",index:u++,value:i[u++]});continue}if(t==="{"){r.push({type:"OPEN",index:u,value:i[u++]});continue}if(t==="}"){r.push({type:"CLOSE",index:u,value:i[u++]});continue}if(t===":"){let l="",e=u+1;for(;e<i.length;){let c=i.substr(e,1);if(e===u+1&&iN.test(c)||e!==u+1&&nN.test(c)){l+=i[e++];continue}break}if(!l){o(`Missing parameter name at ${u}`);continue}r.push({type:"NAME",index:u,value:l}),u=e;continue}if(t==="("){let l=1,e="",c=u+1,$=!1;if(i[c]==="?"){o(`Pattern cannot start with "?" at ${c}`);continue}for(;c<i.length;){if(!a0(i[c],!1)){o(`Invalid character \'${i[c]}\' at ${c}.`),$=!0;break}if(i[c]==="\\\\"){e+=i[c++]+i[c++];continue}if(i[c]===")"){if(l--,l===0){c++;break}}else if(i[c]==="("&&(l++,i[c+1]!=="?")){o(`Capturing groups are not allowed at ${c}`),$=!0;break}e+=i[c++]}if($)continue;if(l){o(`Unbalanced pattern at ${u}`);continue}if(!e){o(`Missing pattern at ${u}`);continue}r.push({type:"REGEX",index:u,value:e}),u=c;continue}r.push({type:"CHAR",index:u,value:i[u++]})}return r.push({type:"END",index:u,value:""}),r}k(ie,"lexer");function ne(i,n={}){let r=ie(i);n.delimiter??="/#?",n.prefixes??="./";let u=`[^${Mi(n.delimiter)}]+?`,t=[],o=0,l=0,e="",c=new Set,$=k((O)=>{if(l<r.length&&r[l].type===O)return r[l++].value},"tryConsume"),v=k(()=>$("OTHER_MODIFIER")??$("ASTERISK"),"tryConsumeModifier"),_=k((O)=>{let b=$(O);if(b!==void 0)return b;let{type:I,index:z}=r[l];throw TypeError(`Unexpected ${I} at ${z}, expected ${O}`)},"mustConsume"),w=k(()=>{let O="",b;for(;b=$("CHAR")??$("ESCAPED_CHAR");)O+=b;return O},"consumeText"),h=k((O)=>O,"DefaultEncodePart"),f=n.encodePart||h,U="",j=k((O)=>{U+=O},"appendToPendingFixedValue"),q=k(()=>{U.length&&(t.push(new mt(3,"","",f(U),"",3)),U="")},"maybeAddPartFromPendingFixedValue"),D=k((O,b,I,z,Y)=>{let E=3;switch(Y){case"?":E=1;break;case"*":E=0;break;case"+":E=2;break}if(!b&&!I&&E===3){j(O);return}if(q(),!b&&!I){if(!O)return;t.push(new mt(3,"","",f(O),"",E));return}let S;I?I==="*"?S=ag:S=I:S=u;let K=2;S===u?(K=1,S=""):S===ag&&(K=0,S="");let Q;if(b?Q=b:I&&(Q=o++),c.has(Q))throw TypeError(`Duplicate name \'${Q}\'.`);c.add(Q),t.push(new mt(K,Q,f(O),S,f(z),E))},"addPart");for(;l<r.length;){let O=$("CHAR"),b=$("NAME"),I=$("REGEX");if(!b&&!I&&(I=$("ASTERISK")),b||I){let Y=O??"";n.prefixes.indexOf(Y)===-1&&(j(Y),Y=""),q();let E=v();D(Y,b,I,"",E);continue}let z=O??$("ESCAPED_CHAR");if(z){j(z);continue}if($("OPEN")){let Y=w(),E=$("NAME"),S=$("REGEX");!E&&!S&&(S=$("ASTERISK"));let K=w();_("CLOSE");let Q=v();D(Y,E,S,K,Q);continue}q(),_("END")}return t}k(ne,"parse");function Mi(i){return i.replace(/([.+*?^${}()[\\]|/\\\\])/g,"\\\\$1")}k(Mi,"escapeString");function pg(i){return i&&i.ignoreCase?"ui":"u"}k(pg,"flags");function p0(i,n,r){return te(ne(i,r),n,r)}k(p0,"stringToRegexp");function gt(i){switch(i){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}k(gt,"modifierToString");function te(i,n,r={}){r.delimiter??="/#?",r.prefixes??="./",r.sensitive??=!1,r.strict??=!1,r.end??=!0,r.start??=!0,r.endsWith="";let u=r.start?"^":"";for(let e of i){if(e.type===3){e.modifier===3?u+=Mi(e.value):u+=`(?:${Mi(e.value)})${gt(e.modifier)}`;continue}n&&n.push(e.name);let c=`[^${Mi(r.delimiter)}]+?`,$=e.value;if(e.type===1?$=c:e.type===0&&($=ag),!e.prefix.length&&!e.suffix.length){e.modifier===3||e.modifier===1?u+=`(${$})${gt(e.modifier)}`:u+=`((?:${$})${gt(e.modifier)})`;continue}if(e.modifier===3||e.modifier===1){u+=`(?:${Mi(e.prefix)}(${$})${Mi(e.suffix)})`,u+=gt(e.modifier);continue}u+=`(?:${Mi(e.prefix)}`,u+=`((?:${$})(?:`,u+=Mi(e.suffix),u+=Mi(e.prefix),u+=`(?:${$}))*)${Mi(e.suffix)})`,e.modifier===0&&(u+="?")}let t=`[${Mi(r.endsWith)}]|$`,o=`[${Mi(r.delimiter)}]`;if(r.end)return r.strict||(u+=`${o}?`),r.endsWith.length?u+=`(?=${t})`:u+="$",new RegExp(u,pg(r));r.strict||(u+=`(?:${o}(?=${t}))?`);let l=!1;if(i.length){let e=i[i.length-1];e.type===3&&e.modifier===3&&(l=r.delimiter.indexOf(e)>-1)}return l||(u+=`(?=${o}|${t})`),new RegExp(u,pg(r))}k(te,"partsToRegexp");var Kn={delimiter:"",prefixes:"",sensitive:!0,strict:!0},tN={delimiter:".",prefixes:"",sensitive:!0,strict:!0},rN={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function s0(i,n){return i.length?i[0]==="/"?!0:!n||i.length<2?!1:(i[0]=="\\\\"||i[0]=="{")&&i[1]=="/":!1}k(s0,"isAbsolutePathname");function re(i,n){return i.startsWith(n)?i.substring(n.length,i.length):i}k(re,"maybeStripPrefix");function ib(i,n){return i.endsWith(n)?i.substr(0,i.length-n.length):i}k(ib,"maybeStripSuffix");function ue(i){return!i||i.length<2?!1:i[0]==="["||(i[0]==="\\\\"||i[0]==="{")&&i[1]==="["}k(ue,"treatAsIPv6Hostname");var nb=["ftp","file","http","https","ws","wss"];function oe(i){if(!i)return!0;for(let n of nb)if(i.test(n))return!0;return!1}k(oe,"isSpecialScheme");function tb(i,n){if(i=re(i,"#"),n||i==="")return i;let r=new URL("https://example.com");return r.hash=i,r.hash?r.hash.substring(1,r.hash.length):""}k(tb,"canonicalizeHash");function rb(i,n){if(i=re(i,"?"),n||i==="")return i;let r=new URL("https://example.com");return r.search=i,r.search?r.search.substring(1,r.search.length):""}k(rb,"canonicalizeSearch");function ub(i,n){return n||i===""?i:ue(i)?ee(i):ge(i)}k(ub,"canonicalizeHostname");function ob(i,n){if(n||i==="")return i;let r=new URL("https://example.com");return r.password=i,r.password}k(ob,"canonicalizePassword");function lb(i,n){if(n||i==="")return i;let r=new URL("https://example.com");return r.username=i,r.username}k(lb,"canonicalizeUsername");function gb(i,n,r){if(r||i==="")return i;if(n&&!nb.includes(n))return new URL(`${n}:${i}`).pathname;let u=i[0]=="/";return i=new URL(u?i:"/-"+i,"https://example.com").pathname,u||(i=i.substring(2,i.length)),i}k(gb,"canonicalizePathname");function eb(i,n,r){return le(n)===i&&(i=""),r||i===""?i:ce(i)}k(eb,"canonicalizePort");function cb(i,n){return i=ib(i,":"),n||i===""?i:lo(i)}k(cb,"canonicalizeProtocol");function le(i){switch(i){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}k(le,"defaultPortForProtocol");function lo(i){if(i==="")return i;if(/^[-+.A-Za-z0-9]*$/.test(i))return i.toLowerCase();throw TypeError(`Invalid protocol \'${i}\'.`)}k(lo,"protocolEncodeCallback");function $b(i){if(i==="")return i;let n=new URL("https://example.com");return n.username=i,n.username}k($b,"usernameEncodeCallback");function vb(i){if(i==="")return i;let n=new URL("https://example.com");return n.password=i,n.password}k(vb,"passwordEncodeCallback");function ge(i){if(i==="")return i;if(/[\\t\\n\\r #%/:<>?@[\\]^\\\\|]/g.test(i))throw TypeError(`Invalid hostname \'${i}\'`);let n=new URL("https://example.com");return n.hostname=i,n.hostname}k(ge,"hostnameEncodeCallback");function ee(i){if(i==="")return i;if(/[^0-9a-fA-F[\\]:]/g.test(i))throw TypeError(`Invalid IPv6 hostname \'${i}\'`);return i.toLowerCase()}k(ee,"ipv6HostnameEncodeCallback");function ce(i){if(i===""||/^[0-9]*$/.test(i)&&parseInt(i)<=65535)return i;throw TypeError(`Invalid port \'${i}\'.`)}k(ce,"portEncodeCallback");function _b(i){if(i==="")return i;let n=new URL("https://example.com");return n.pathname=i[0]!=="/"?"/-"+i:i,i[0]!=="/"?n.pathname.substring(2,n.pathname.length):n.pathname}k(_b,"standardURLPathnameEncodeCallback");function wb(i){return i===""?i:new URL(`data:${i}`).pathname}k(wb,"pathURLPathnameEncodeCallback");function hb(i){if(i==="")return i;let n=new URL("https://example.com");return n.search=i,n.search.substring(1,n.search.length)}k(hb,"searchEncodeCallback");function bb(i){if(i==="")return i;let n=new URL("https://example.com");return n.hash=i,n.hash.substring(1,n.hash.length)}k(bb,"hashEncodeCallback");var fb=class{#n;#i=[];#r={};#t=0;#u=1;#o=0;#g=0;#_=0;#w=0;#$=!1;constructor(i){this.#n=i}get result(){return this.#r}parse(){for(this.#i=ie(this.#n,!0);this.#t<this.#i.length;this.#t+=this.#u){if(this.#u=1,this.#i[this.#t].type==="END"){if(this.#g===0){this.#v(),this.#h()?this.#l(9,1):this.#b()?this.#l(8,1):this.#l(7,0);continue}else if(this.#g===2){this.#U(5);continue}this.#l(10,0);break}if(this.#_>0)if(this.#q())this.#_-=1;else continue;if(this.#z()){this.#_+=1;continue}switch(this.#g){case 0:this.#D()&&this.#U(1);break;case 1:if(this.#D()){this.#G();let i=7,n=1;this.#N()?(i=2,n=3):this.#$&&(i=2),this.#l(i,n)}break;case 2:this.#I()?this.#U(3):(this.#j()||this.#b()||this.#h())&&this.#U(5);break;case 3:this.#E()?this.#l(4,1):this.#I()&&this.#l(5,1);break;case 4:this.#I()&&this.#l(5,1);break;case 5:this.#H()?this.#w+=1:this.#W()&&(this.#w-=1),this.#J()&&!this.#w?this.#l(6,1):this.#j()?this.#l(7,0):this.#b()?this.#l(8,1):this.#h()&&this.#l(9,1);break;case 6:this.#j()?this.#l(7,0):this.#b()?this.#l(8,1):this.#h()&&this.#l(9,1);break;case 7:this.#b()?this.#l(8,1):this.#h()&&this.#l(9,1);break;case 8:this.#h()&&this.#l(9,1);break;case 9:break;case 10:break}}this.#r.hostname!==void 0&&this.#r.port===void 0&&(this.#r.port="")}#l(i,n){switch(this.#g){case 0:break;case 1:this.#r.protocol=this.#c();break;case 2:break;case 3:this.#r.username=this.#c();break;case 4:this.#r.password=this.#c();break;case 5:this.#r.hostname=this.#c();break;case 6:this.#r.port=this.#c();break;case 7:this.#r.pathname=this.#c();break;case 8:this.#r.search=this.#c();break;case 9:this.#r.hash=this.#c();break;case 10:break}this.#g!==0&&i!==10&&([1,2,3,4].includes(this.#g)&&[6,7,8,9].includes(i)&&(this.#r.hostname??=""),[1,2,3,4,5,6].includes(this.#g)&&[8,9].includes(i)&&(this.#r.pathname??=this.#$?"/":""),[1,2,3,4,5,6,7].includes(this.#g)&&i===9&&(this.#r.search??="")),this.#f(i,n)}#f(i,n){this.#g=i,this.#o=this.#t+n,this.#t+=n,this.#u=0}#v(){this.#t=this.#o,this.#u=0}#U(i){this.#v(),this.#g=i}#O(i){return i<0&&(i=this.#i.length-i),i<this.#i.length?this.#i[i]:this.#i[this.#i.length-1]}#e(i,n){let r=this.#O(i);return r.value===n&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}#D(){return this.#e(this.#t,":")}#N(){return this.#e(this.#t+1,"/")&&this.#e(this.#t+2,"/")}#I(){return this.#e(this.#t,"@")}#E(){return this.#e(this.#t,":")}#J(){return this.#e(this.#t,":")}#j(){return this.#e(this.#t,"/")}#b(){if(this.#e(this.#t,"?"))return!0;if(this.#i[this.#t].value!=="?")return!1;let i=this.#O(this.#t-1);return i.type!=="NAME"&&i.type!=="REGEX"&&i.type!=="CLOSE"&&i.type!=="ASTERISK"}#h(){return this.#e(this.#t,"#")}#z(){return this.#i[this.#t].type=="OPEN"}#q(){return this.#i[this.#t].type=="CLOSE"}#H(){return this.#e(this.#t,"[")}#W(){return this.#e(this.#t,"]")}#c(){let i=this.#i[this.#t],n=this.#O(this.#o).index;return this.#n.substring(n,i.index)}#G(){let i={};Object.assign(i,Kn),i.encodePart=lo;let n=p0(this.#c(),void 0,i);this.#$=oe(n)}};k(fb,"Parser");var Zg=["protocol","username","password","hostname","port","pathname","search","hash"],Vn="*";function sg(i,n){if(typeof i!="string")throw TypeError("parameter 1 is not of type \'string\'.");let r=new URL(i,n);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}k(sg,"extractValues");function gn(i,n){return n?St(i):i}k(gn,"processBaseURLString");function Xt(i,n,r){let u;if(typeof n.baseURL=="string")try{u=new URL(n.baseURL),n.protocol===void 0&&(i.protocol=gn(u.protocol.substring(0,u.protocol.length-1),r)),!r&&n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&n.username===void 0&&(i.username=gn(u.username,r)),!r&&n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&n.username===void 0&&n.password===void 0&&(i.password=gn(u.password,r)),n.protocol===void 0&&n.hostname===void 0&&(i.hostname=gn(u.hostname,r)),n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&(i.port=gn(u.port,r)),n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&n.pathname===void 0&&(i.pathname=gn(u.pathname,r)),n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&n.pathname===void 0&&n.search===void 0&&(i.search=gn(u.search.substring(1,u.search.length),r)),n.protocol===void 0&&n.hostname===void 0&&n.port===void 0&&n.pathname===void 0&&n.search===void 0&&n.hash===void 0&&(i.hash=gn(u.hash.substring(1,u.hash.length),r))}catch{throw TypeError(`invalid baseURL \'${n.baseURL}\'.`)}if(typeof n.protocol=="string"&&(i.protocol=cb(n.protocol,r)),typeof n.username=="string"&&(i.username=lb(n.username,r)),typeof n.password=="string"&&(i.password=ob(n.password,r)),typeof n.hostname=="string"&&(i.hostname=ub(n.hostname,r)),typeof n.port=="string"&&(i.port=eb(n.port,i.protocol,r)),typeof n.pathname=="string"){if(i.pathname=n.pathname,u&&!s0(i.pathname,r)){let t=u.pathname.lastIndexOf("/");t>=0&&(i.pathname=gn(u.pathname.substring(0,t+1),r)+i.pathname)}i.pathname=gb(i.pathname,i.protocol,r)}return typeof n.search=="string"&&(i.search=rb(n.search,r)),typeof n.hash=="string"&&(i.hash=tb(n.hash,r)),i}k(Xt,"applyInit");function St(i){return i.replace(/([+*?:{}()\\\\])/g,"\\\\$1")}k(St,"escapePatternString");function Ub(i){return i.replace(/([.+*?^${}()[\\]|/\\\\])/g,"\\\\$1")}k(Ub,"escapeRegexpString");function Ob(i,n){n.delimiter??="/#?",n.prefixes??="./",n.sensitive??=!1,n.strict??=!1,n.end??=!0,n.start??=!0,n.endsWith="";let r=".*",u=`[^${Ub(n.delimiter)}]+?`,t=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,o="";for(let l=0;l<i.length;++l){let e=i[l];if(e.type===3){if(e.modifier===3){o+=St(e.value);continue}o+=`{${St(e.value)}}${gt(e.modifier)}`;continue}let c=e.hasCustomName(),$=!!e.suffix.length||!!e.prefix.length&&(e.prefix.length!==1||!n.prefixes.includes(e.prefix)),v=l>0?i[l-1]:null,_=l<i.length-1?i[l+1]:null;if(!$&&c&&e.type===1&&e.modifier===3&&_&&!_.prefix.length&&!_.suffix.length)if(_.type===3){let w=_.value.length>0?_.value[0]:"";$=t.test(w)}else $=!_.hasCustomName();if(!$&&!e.prefix.length&&v&&v.type===3){let w=v.value[v.value.length-1];$=n.prefixes.includes(w)}$&&(o+="{"),o+=St(e.prefix),c&&(o+=`:${e.name}`),e.type===2?o+=`(${e.value})`:e.type===1?c||(o+=`(${u})`):e.type===0&&(!c&&(!v||v.type===3||v.modifier!==3||$||e.prefix!=="")?o+="*":o+=`(${r})`),e.type===1&&c&&e.suffix.length&&t.test(e.suffix[0])&&(o+="\\\\"),o+=St(e.suffix),$&&(o+="}"),e.modifier!==3&&(o+=gt(e.modifier))}return o}k(Ob,"partsToPattern");var Ib=class{#n;#i={};#r={};#t={};#u={};#o=!1;constructor(i={},n,r){try{let u;if(typeof n=="string"?u=n:r=n,typeof i=="string"){let e=new fb(i);if(e.parse(),i=e.result,u===void 0&&typeof i.protocol!="string")throw TypeError("A base URL must be provided for a relative constructor string.");i.baseURL=u}else{if(!i||typeof i!="object")throw TypeError("parameter 1 is not of type \'string\' and cannot convert to dictionary.");if(u)throw TypeError("parameter 1 is not of type \'string\'.")}typeof r>"u"&&(r={ignoreCase:!1});let t={ignoreCase:r.ignoreCase===!0},o={pathname:Vn,protocol:Vn,username:Vn,password:Vn,hostname:Vn,port:Vn,search:Vn,hash:Vn};this.#n=Xt(o,i,!0),le(this.#n.protocol)===this.#n.port&&(this.#n.port="");let l;for(l of Zg){if(!(l in this.#n))continue;let e={},c=this.#n[l];switch(this.#r[l]=[],l){case"protocol":Object.assign(e,Kn),e.encodePart=lo;break;case"username":Object.assign(e,Kn),e.encodePart=$b;break;case"password":Object.assign(e,Kn),e.encodePart=vb;break;case"hostname":Object.assign(e,tN),ue(c)?e.encodePart=ee:e.encodePart=ge;break;case"port":Object.assign(e,Kn),e.encodePart=ce;break;case"pathname":oe(this.#i.protocol)?(Object.assign(e,rN,t),e.encodePart=_b):(Object.assign(e,Kn,t),e.encodePart=wb);break;case"search":Object.assign(e,Kn,t),e.encodePart=hb;break;case"hash":Object.assign(e,Kn,t),e.encodePart=bb;break}try{this.#u[l]=ne(c,e),this.#i[l]=te(this.#u[l],this.#r[l],e),this.#t[l]=Ob(this.#u[l],e),this.#o=this.#o||this.#u[l].some(($)=>$.type===2)}catch{throw TypeError(`invalid ${l} pattern \'${this.#n[l]}\'.`)}}}catch(u){throw TypeError(`Failed to construct \'URLPattern\': ${u.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(i={},n){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof i!="string"&&n)throw TypeError("parameter 1 is not of type \'string\'.");if(typeof i>"u")return!1;try{typeof i=="object"?r=Xt(r,i,!1):r=Xt(r,sg(i,n),!1)}catch{return!1}let u;for(u of Zg)if(!this.#i[u].exec(r[u]))return!1;return!0}exec(i={},n){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof i!="string"&&n)throw TypeError("parameter 1 is not of type \'string\'.");if(typeof i>"u")return;try{typeof i=="object"?r=Xt(r,i,!1):r=Xt(r,sg(i,n),!1)}catch{return null}let u={};n?u.inputs=[i,n]:u.inputs=[i];let t;for(t of Zg){let o=this.#i[t].exec(r[t]);if(!o)return null;let l={};for(let[e,c]of this.#r[t].entries())if(typeof c=="string"||typeof c=="number"){let $=o[e+1];l[c]=$}u[t]={input:r[t]??"",groups:l}}return u}static compareComponent(i,n,r){let u=k((e,c)=>{for(let $ of["type","modifier","prefix","value","suffix"]){if(e[$]<c[$])return-1;if(e[$]===c[$])continue;return 1}return 0},"comparePart"),t=new mt(3,"","","","",3),o=new mt(0,"","","","",3),l=k((e,c)=>{let $=0;for(;$<Math.min(e.length,c.length);++$){let v=u(e[$],c[$]);if(v)return v}return e.length===c.length?0:u(e[$]??t,c[$]??t)},"comparePartList");return!n.#t[i]&&!r.#t[i]?0:n.#t[i]&&!r.#t[i]?l(n.#u[i],[o]):!n.#t[i]&&r.#t[i]?l([o],r.#u[i]):l(n.#u[i],r.#u[i])}get protocol(){return this.#t.protocol}get username(){return this.#t.username}get password(){return this.#t.password}get hostname(){return this.#t.hostname}get port(){return this.#t.port}get pathname(){return this.#t.pathname}get search(){return this.#t.search}get hash(){return this.#t.hash}get hasRegExpGroups(){return this.#o}};k(Ib,"URLPattern")});var Jb=P((vB,Eb)=>{var{URLPattern:Nb}=Db();Eb.exports={URLPattern:Nb};if(!globalThis.URLPattern)globalThis.URLPattern=Nb});var Mn=P((Lb)=>{Object.defineProperty(Lb,"__esModule",{value:!0});Lb.isPromise=go;Lb.isActualPromise=qb;Lb.handleMaybePromise=yn;Lb.fakePromise=en;Lb.createDeferredPromise=uN;Lb.iterateAsync=Hb;Lb.iterateAsyncVoid=Hb;Lb.fakeRejectPromise=et;Lb.mapMaybePromise=oN;Lb.mapAsyncIterator=lN;Lb.promiseLikeFinally=Wb;Lb.unfakePromise=Gb;var eo=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function go(i){return i?.then!=null}function qb(i){let n=i;return n&&n.then&&n.catch&&n.finally}function yn(i,n,r,u){let t=en().then(i).then(n,r);if(u)t=t.finally(u);return Gb(t)}function en(i){if(i&&qb(i))return i;if(go(i))return{then:(n,r)=>en(i.then(n,r)),catch:(n)=>en(i.then((r)=>r,n)),finally:(n)=>en(n?Wb(i,n):i),[Symbol.toStringTag]:"Promise"};return{then(n){if(n)try{return en(n(i))}catch(r){return et(r)}return this},catch(){return this},finally(n){if(n)try{return en(n()).then(()=>i,()=>i)}catch(r){return et(r)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:i,[eo]:"resolved"}}function uN(){if(Promise.withResolvers)return Promise.withResolvers();let i,n;return{promise:new Promise(function(t,o){i=t,n=o}),get resolve(){return i},get reject(){return n}}}function Hb(i,n,r){if(i?.length===0)return;let u=i[Symbol.iterator](),t=0;function o(){let{done:l,value:e}=u.next();if(l)return;let c=!1;function $(){c=!0}return yn(function(){return n(e,$,t++)},function(_){if(_)r?.push(_);if(c)return;return o()})}return o()}function et(i){return{then(n,r){if(r)try{return en(r(i))}catch(u){return et(u)}return this},catch(n){if(n)try{return en(n(i))}catch(r){return et(r)}return this},finally(n){if(n)try{n()}catch(r){return et(r)}return this},__fakeRejectError:i,[Symbol.toStringTag]:"Promise",[eo]:"rejected"}}function oN(i,n,r){return yn(()=>i,n,r)}function lN(i,n,r,u){if(Symbol.asyncIterator in i)i=i[Symbol.asyncIterator]();let t,o,l;if(u){let $;l=(v)=>{return $||=yn(u,()=>v,()=>v),$}}if(typeof i.return==="function")t=i.return,o=($)=>{let v=()=>{throw $};return t.call(i).then(v,v)};function e($){if($.done)return l?l($):$;return yn(()=>$.value,(v)=>yn(()=>n(v),zb,o))}let c;if(r){let $,v=r;c=(_)=>{return $||=yn(()=>_,(w)=>yn(()=>v(w),zb,o)),$}}return{next(){return i.next().then(e,c)},return(){let $=t?t.call(i).then(e,c):en({value:void 0,done:!0});return l?$.then(l):$},throw($){if(typeof i.throw==="function")return i.throw($).then(e,c);if(o)return o($);return et($)},[Symbol.asyncIterator](){return this}}}function zb(i){return{value:i,done:!1}}function gN(i){return i?.[eo]==="resolved"}function eN(i){return i?.[eo]==="rejected"}function Wb(i,n){if("finally"in i)return i.finally(n);return i.then((r)=>{let u=n();return go(u)?u.then(()=>r):r},(r)=>{let u=n();if(go(u))return u.then(()=>{throw r});else throw r})}function Gb(i){if(gN(i))return i.__fakePromiseValue;if(eN(i))throw i.__fakeRejectError;return i}});var $e=P((wB,Xb)=>{var{EventEmitter:DN}=C("node:events"),{inherits:NN}=C("node:util");function ct(i){if(typeof i==="string")i=Buffer.from(i);if(!Buffer.isBuffer(i))throw TypeError("The needle has to be a String or a Buffer.");let n=i.length,r=n-1;if(n===0)throw Error("The needle cannot be an empty String/Buffer.");if(n>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(n),this._lookbehind_size=0,this._needle=i,this._bufpos=0,this._lookbehind=Buffer.alloc(r);for(var u=0;u<r;++u)this._occ[i[u]]=r-u}NN(ct,DN);ct.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};ct.prototype.push=function(i,n){if(!Buffer.isBuffer(i))i=Buffer.from(i,"binary");let r=i.length;this._bufpos=n||0;let u;while(u!==r&&this.matches<this.maxMatches)u=this._sbmh_feed(i);return u};ct.prototype._sbmh_feed=function(i){let n=i.length,r=this._needle,u=r.length,t=u-1,o=r[t],l=-this._lookbehind_size,e;if(l<0){while(l<0&&l<=n-u){if(e=i[l+t],e===o&&this._sbmh_memcmp(i,l,t))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=l+u;l+=this._occ[e]}while(l<0&&!this._sbmh_memcmp(i,l,n-l))++l;if(l>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let c=this._lookbehind_size+l;if(c>0)this.emit("info",!1,this._lookbehind,0,c);return this._lookbehind_size-=c,this._lookbehind.copy(this._lookbehind,0,c,this._lookbehind_size),i.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=n,this._bufpos=n,n}}if(l=i.indexOf(r,l+this._bufpos),l!==-1){if(++this.matches,l===0)this.emit("info",!0);else this.emit("info",!0,i,this._bufpos,l);return this._bufpos=l+u}if(l=n-t,l<0)l=0;while(l!==n&&(i[l]!==r[0]||Buffer.compare(i.subarray(l+1,n),r.subarray(1,n-l))!==0))++l;if(l!==n)i.copy(this._lookbehind,0,l,n),this._lookbehind_size=n-l;if(l!==0)this.emit("info",!1,i,this._bufpos,l);return this._bufpos=n,n};ct.prototype._sbmh_lookup_char=function(i,n){return n<0?this._lookbehind[this._lookbehind_size+n]:i[n]};ct.prototype._sbmh_memcmp=function(i,n,r){for(var u=0;u<r;++u)if(this._sbmh_lookup_char(i,n+u)!==this._needle[u])return!1;return!0};Xb.exports=ct});var Yb=P((hB,mb)=>{var EN=C("node:util").inherits,Sb=C("node:stream").Readable;function ve(i){Sb.call(this,i)}EN(ve,Sb);ve.prototype._read=function(i){};mb.exports=ve});var co=P((bB,Qb)=>{Qb.exports=function(n,r,u){if(!n||n[r]===void 0||n[r]===null)return u;if(typeof n[r]!=="number"||isNaN(n[r]))throw TypeError("Limit "+r+" is not a valid number");return n[r]}});var Kb=P((fB,Vb)=>{var Ab=C("node:events").EventEmitter,JN=C("node:util").inherits,Bb=co(),zN=$e(),qN=Buffer.from(`\\r\n\\r\n`),HN=/\\r\\n/g,WN=/^([^:]+):[ \\t]?([\\x00-\\xFF]+)?$/;function Yt(i){Ab.call(this),i=i||{};let n=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=Bb(i,"maxHeaderPairs",2000),this.maxHeaderSize=Bb(i,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new zN(qN),this.ss.on("info",function(r,u,t,o){if(u&&!n.maxed){if(n.nread+o-t>=n.maxHeaderSize)o=n.maxHeaderSize-n.nread+t,n.nread=n.maxHeaderSize,n.maxed=!0;else n.nread+=o-t;n.buffer+=u.toString("binary",t,o)}if(r)n._finish()})}JN(Yt,Ab);Yt.prototype.push=function(i){let n=this.ss.push(i);if(this.finished)return n};Yt.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};Yt.prototype._finish=function(){if(this.buffer)this._parseHeader();this.ss.matches=this.ss.maxMatches;let i=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",i)};Yt.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let i=this.buffer.split(HN),n=i.length,r,u;for(var t=0;t<n;++t){if(i[t].length===0)continue;if(i[t][0]==="\\t"||i[t][0]===" "){if(u){this.header[u][this.header[u].length-1]+=i[t];continue}}let o=i[t].indexOf(":");if(o===-1||o===0)return;if(r=WN.exec(i[t]),u=r[1].toLowerCase(),this.header[u]=this.header[u]||[],this.header[u].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}};Vb.exports=Yt});var we=P((UB,Mb)=>{var _e=C("node:stream").Writable,GN=C("node:util").inherits,LN=$e(),yb=Yb(),XN=Kb(),SN=Buffer.from("-"),mN=Buffer.from(`\\r\n`),YN=function(){};function ai(i){if(!(this instanceof ai))return new ai(i);if(_e.call(this,i),!i||!i.headerFirst&&typeof i.boundary!=="string")throw TypeError("Boundary required");if(typeof i.boundary==="string")this.setBoundary(i.boundary);else this._bparser=void 0;this._headerFirst=i.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:i.partHwm},this._pause=!1;let n=this;this._hparser=new XN(i),this._hparser.on("header",function(r){n._inHeader=!1,n._part.emit("header",r)})}GN(ai,_e);ai.prototype.emit=function(i){if(i==="finish"&&!this._realFinish){if(!this._finished){let n=this;process.nextTick(function(){if(n.emit("error",Error("Unexpected end of multipart data")),n._part&&!n._ignoreData){let r=n._isPreamble?"Preamble":"Part";n._part.emit("error",Error(r+" terminated early due to unexpected end of multipart data")),n._part.push(null),process.nextTick(function(){n._realFinish=!0,n.emit("finish"),n._realFinish=!1});return}n._realFinish=!0,n.emit("finish"),n._realFinish=!1})}}else _e.prototype.emit.apply(this,arguments)};ai.prototype._write=function(i,n,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){if(!this._part)if(this._part=new yb(this._partOpts),this.listenerCount("preamble")!==0)this.emit("preamble",this._part);else this._ignore();let u=this._hparser.push(i);if(!this._inHeader&&u!==void 0&&u<i.length)i=i.slice(u);else return r()}if(this._firstWrite)this._bparser.push(mN),this._firstWrite=!1;if(this._bparser.push(i),this._pause)this._cb=r;else r()};ai.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};ai.prototype.setBoundary=function(i){let n=this;this._bparser=new LN(`\\r\n--`+i),this._bparser.on("info",function(r,u,t,o){n._oninfo(r,u,t,o)})};ai.prototype._ignore=function(){if(this._part&&!this._ignoreData)this._ignoreData=!0,this._part.on("error",YN),this._part.resume()};ai.prototype._oninfo=function(i,n,r,u){let t,o=this,l=0,e,c=!0;if(!this._part&&this._justMatched&&n){while(this._dashes<2&&r+l<u)if(n[r+l]===45)++l,++this._dashes;else{if(this._dashes)t=SN;this._dashes=0;break}if(this._dashes===2){if(r+l<u&&this.listenerCount("trailer")!==0)this.emit("trailer",n.slice(r+l,u));if(this.reset(),this._finished=!0,o._parts===0)o._realFinish=!0,o.emit("finish"),o._realFinish=!1}if(this._dashes)return}if(this._justMatched)this._justMatched=!1;if(!this._part){if(this._part=new yb(this._partOpts),this._part._read=function($){o._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0)this.emit("preamble",this._part);else if(this._isPreamble!==!0&&this.listenerCount("part")!==0)this.emit("part",this._part);else this._ignore();if(!this._isPreamble)this._inHeader=!0}if(n&&r<u&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(t)c=this._part.push(t);if(c=this._part.push(n.slice(r,u)),!c)this._pause=!0}else if(!this._isPreamble&&this._inHeader){if(t)this._hparser.push(t);if(e=this._hparser.push(n.slice(r,u)),!this._inHeader&&e!==void 0&&e<u)this._oninfo(!1,n,r+e,u)}}if(i){if(this._hparser.reset(),this._isPreamble)this._isPreamble=!1;else if(r!==u)++this._parts,this._part.on("end",function(){if(--o._parts===0)if(o._finished)o._realFinish=!0,o.emit("finish"),o._realFinish=!1;else o._unpause()});this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0}};ai.prototype._unpause=function(){if(!this._pause)return;if(this._pause=!1,this._cb){let i=this._cb;this._cb=void 0,i()}};Mb.exports=ai});var $o=P((he,Tb)=>{var kb=new TextDecoder("utf-8"),Fb=new Map([["utf-8",kb],["utf8",kb]]);function QN(i){let n;while(!0)switch(i){case"utf-8":case"utf8":return Gr.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return Gr.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return Gr.utf16le;case"base64":return Gr.base64;default:if(n===void 0){n=!0,i=i.toLowerCase();continue}return Gr.other.bind(i)}}var Gr={utf8:(i,n)=>{if(i.length===0)return"";if(typeof i==="string")i=Buffer.from(i,n);return i.utf8Slice(0,i.length)},latin1:(i,n)=>{if(i.length===0)return"";if(typeof i==="string")return i;return i.latin1Slice(0,i.length)},utf16le:(i,n)=>{if(i.length===0)return"";if(typeof i==="string")i=Buffer.from(i,n);return i.ucs2Slice(0,i.length)},base64:(i,n)=>{if(i.length===0)return"";if(typeof i==="string")i=Buffer.from(i,n);return i.base64Slice(0,i.length)},other:(i,n)=>{if(i.length===0)return"";if(typeof i==="string")i=Buffer.from(i,n);if(Fb.has(he.toString()))try{return Fb.get(he).decode(i)}catch{}return typeof i==="string"?i:i.toString()}};function BN(i,n,r){if(i)return QN(r)(i,n);return i}Tb.exports=BN});var fe=P((OB,db)=>{var vo=$o(),Pb=/%[a-fA-F0-9][a-fA-F0-9]/g,AN={"%00":"\\x00","%01":"\\x01","%02":"\\x02","%03":"\\x03","%04":"\\x04","%05":"\\x05","%06":"\\x06","%07":"\\x07","%08":"\\b","%09":"\\t","%0a":`\n`,"%0A":`\n`,"%0b":"\\v","%0B":"\\v","%0c":"\\f","%0C":"\\f","%0d":"\\r","%0D":"\\r","%0e":"\\x0E","%0E":"\\x0E","%0f":"\\x0F","%0F":"\\x0F","%10":"\\x10","%11":"\\x11","%12":"\\x12","%13":"\\x13","%14":"\\x14","%15":"\\x15","%16":"\\x16","%17":"\\x17","%18":"\\x18","%19":"\\x19","%1a":"\\x1A","%1A":"\\x1A","%1b":"\\x1B","%1B":"\\x1B","%1c":"\\x1C","%1C":"\\x1C","%1d":"\\x1D","%1D":"\\x1D","%1e":"\\x1E","%1E":"\\x1E","%1f":"\\x1F","%1F":"\\x1F","%20":" ","%21":"!","%22":\'"\',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"\'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\\\","%5C":"\\\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":" ","%A0":" ","%a1":"¡","%A1":"¡","%a2":"¢","%A2":"¢","%a3":"£","%A3":"£","%a4":"¤","%A4":"¤","%a5":"¥","%A5":"¥","%a6":"¦","%A6":"¦","%a7":"§","%A7":"§","%a8":"¨","%A8":"¨","%a9":"©","%A9":"©","%aa":"ª","%Aa":"ª","%aA":"ª","%AA":"ª","%ab":"«","%Ab":"«","%aB":"«","%AB":"«","%ac":"¬","%Ac":"¬","%aC":"¬","%AC":"¬","%ad":"­","%Ad":"­","%aD":"­","%AD":"­","%ae":"®","%Ae":"®","%aE":"®","%AE":"®","%af":"¯","%Af":"¯","%aF":"¯","%AF":"¯","%b0":"°","%B0":"°","%b1":"±","%B1":"±","%b2":"²","%B2":"²","%b3":"³","%B3":"³","%b4":"´","%B4":"´","%b5":"µ","%B5":"µ","%b6":"¶","%B6":"¶","%b7":"·","%B7":"·","%b8":"¸","%B8":"¸","%b9":"¹","%B9":"¹","%ba":"º","%Ba":"º","%bA":"º","%BA":"º","%bb":"»","%Bb":"»","%bB":"»","%BB":"»","%bc":"¼","%Bc":"¼","%bC":"¼","%BC":"¼","%bd":"½","%Bd":"½","%bD":"½","%BD":"½","%be":"¾","%Be":"¾","%bE":"¾","%BE":"¾","%bf":"¿","%Bf":"¿","%bF":"¿","%BF":"¿","%c0":"À","%C0":"À","%c1":"Á","%C1":"Á","%c2":"Â","%C2":"Â","%c3":"Ã","%C3":"Ã","%c4":"Ä","%C4":"Ä","%c5":"Å","%C5":"Å","%c6":"Æ","%C6":"Æ","%c7":"Ç","%C7":"Ç","%c8":"È","%C8":"È","%c9":"É","%C9":"É","%ca":"Ê","%Ca":"Ê","%cA":"Ê","%CA":"Ê","%cb":"Ë","%Cb":"Ë","%cB":"Ë","%CB":"Ë","%cc":"Ì","%Cc":"Ì","%cC":"Ì","%CC":"Ì","%cd":"Í","%Cd":"Í","%cD":"Í","%CD":"Í","%ce":"Î","%Ce":"Î","%cE":"Î","%CE":"Î","%cf":"Ï","%Cf":"Ï","%cF":"Ï","%CF":"Ï","%d0":"Ð","%D0":"Ð","%d1":"Ñ","%D1":"Ñ","%d2":"Ò","%D2":"Ò","%d3":"Ó","%D3":"Ó","%d4":"Ô","%D4":"Ô","%d5":"Õ","%D5":"Õ","%d6":"Ö","%D6":"Ö","%d7":"×","%D7":"×","%d8":"Ø","%D8":"Ø","%d9":"Ù","%D9":"Ù","%da":"Ú","%Da":"Ú","%dA":"Ú","%DA":"Ú","%db":"Û","%Db":"Û","%dB":"Û","%DB":"Û","%dc":"Ü","%Dc":"Ü","%dC":"Ü","%DC":"Ü","%dd":"Ý","%Dd":"Ý","%dD":"Ý","%DD":"Ý","%de":"Þ","%De":"Þ","%dE":"Þ","%DE":"Þ","%df":"ß","%Df":"ß","%dF":"ß","%DF":"ß","%e0":"à","%E0":"à","%e1":"á","%E1":"á","%e2":"â","%E2":"â","%e3":"ã","%E3":"ã","%e4":"ä","%E4":"ä","%e5":"å","%E5":"å","%e6":"æ","%E6":"æ","%e7":"ç","%E7":"ç","%e8":"è","%E8":"è","%e9":"é","%E9":"é","%ea":"ê","%Ea":"ê","%eA":"ê","%EA":"ê","%eb":"ë","%Eb":"ë","%eB":"ë","%EB":"ë","%ec":"ì","%Ec":"ì","%eC":"ì","%EC":"ì","%ed":"í","%Ed":"í","%eD":"í","%ED":"í","%ee":"î","%Ee":"î","%eE":"î","%EE":"î","%ef":"ï","%Ef":"ï","%eF":"ï","%EF":"ï","%f0":"ð","%F0":"ð","%f1":"ñ","%F1":"ñ","%f2":"ò","%F2":"ò","%f3":"ó","%F3":"ó","%f4":"ô","%F4":"ô","%f5":"õ","%F5":"õ","%f6":"ö","%F6":"ö","%f7":"÷","%F7":"÷","%f8":"ø","%F8":"ø","%f9":"ù","%F9":"ù","%fa":"ú","%Fa":"ú","%fA":"ú","%FA":"ú","%fb":"û","%Fb":"û","%fB":"û","%FB":"û","%fc":"ü","%Fc":"ü","%fC":"ü","%FC":"ü","%fd":"ý","%Fd":"ý","%fD":"ý","%FD":"ý","%fe":"þ","%Fe":"þ","%fE":"þ","%FE":"þ","%ff":"ÿ","%Ff":"ÿ","%fF":"ÿ","%FF":"ÿ"};function xb(i){return AN[i]}var _o=0,Cb=1,be=2,Rb=3;function VN(i){let n=[],r=_o,u="",t=!1,o=!1,l=0,e="",c=i.length;for(var $=0;$<c;++$){let v=i[$];if(v==="\\\\"&&t)if(o)o=!1;else{o=!0;continue}else if(v===\'"\')if(!o){if(t){t=!1,r=_o;while($+1<c&&i[$+1]!==";")++$}else t=!0;continue}else o=!1;else{if(o&&t)e+="\\\\";if(o=!1,(r===be||r===Rb)&&v==="\'"){if(r===be)r=Rb,u=e.substring(1);else r=Cb;e="";continue}else if(r===_o&&(v==="*"||v==="=")&&n.length){r=v==="*"?be:Cb,n[l]=[e,void 0],e="";continue}else if(!t&&v===";"){if(r=_o,u){if(e.length)e=vo(e.replace(Pb,xb),"binary",u);u=""}else if(e.length)e=vo(e,"binary","utf8");if(n[l]===void 0)n[l]=e;else n[l][1]=e;e="",++l;continue}else if(!t&&(v===" "||v==="\\t"))continue}e+=v}if(u&&e.length)e=vo(e.replace(Pb,xb),"binary",u);else if(e)e=vo(e,"binary","utf8");if(n[l]===void 0){if(e)n[l]=e}else n[l][1]=e;return n}db.exports=VN});var ab=P((IB,Zb)=>{Zb.exports=function(n){if(typeof n!=="string")return"";for(var r=n.length-1;r>=0;--r)switch(n.charCodeAt(r)){case 47:case 92:return n=n.slice(r+1),n===".."||n==="."?"":n}return n===".."||n==="."?"":n}});var tf=P((jB,nf)=>{var{Readable:sb}=C("node:stream"),{inherits:KN}=C("node:util"),yN=we(),pb=fe(),MN=$o(),kN=ab(),$t=co(),FN=/^boundary$/i,TN=/^form-data$/i,PN=/^charset$/i,xN=/^filename$/i,CN=/^name$/i;wo.detect=/^multipart\\/form-data/i;function wo(i,n){let r,u,t=this,o,l=n.limits,e=n.isPartAFile||((Q,M,ii)=>M==="application/octet-stream"||ii!==void 0),c=n.parsedConType||[],$=n.defCharset||"utf8",v=n.preservePath,_={highWaterMark:n.fileHwm};for(r=0,u=c.length;r<u;++r)if(Array.isArray(c[r])&&FN.test(c[r][0])){o=c[r][1];break}function w(){if(z===0&&S&&!i._done)S=!1,t.end()}if(typeof o!=="string")throw Error("Multipart: Boundary not found");let h=$t(l,"fieldSize",1048576),f=$t(l,"fileSize",1/0),U=$t(l,"files",1/0),j=$t(l,"fields",1/0),q=$t(l,"parts",1/0),D=$t(l,"headerPairs",2000),O=$t(l,"headerSize",81920),b=0,I=0,z=0,Y,E,S=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=i;let K={boundary:o,maxHeaderPairs:D,maxHeaderSize:O,partHwm:_.highWaterMark,highWaterMark:n.highWaterMark};this.parser=new yN(K),this.parser.on("drain",function(){if(t._needDrain=!1,t._cb&&!t._pause){let Q=t._cb;t._cb=void 0,Q()}}).on("part",function Q(M){if(++t._nparts>q)return t.parser.removeListener("part",Q),t.parser.on("part",Qt),i.hitPartsLimit=!0,i.emit("partsLimit"),Qt(M);if(E){let ii=E;ii.emit("end"),ii.removeAllListeners("end")}M.on("header",function(ii){let fi,xi,oi,Zi,qi,Ni,un=0;if(ii["content-type"]){if(oi=pb(ii["content-type"][0]),oi[0]){fi=oi[0].toLowerCase();for(r=0,u=oi.length;r<u;++r)if(PN.test(oi[r][0])){Zi=oi[r][1].toLowerCase();break}}}if(fi===void 0)fi="text/plain";if(Zi===void 0)Zi=$;if(ii["content-disposition"]){if(oi=pb(ii["content-disposition"][0]),!TN.test(oi[0]))return Qt(M);for(r=0,u=oi.length;r<u;++r)if(CN.test(oi[r][0]))xi=oi[r][1];else if(xN.test(oi[r][0])){if(Ni=oi[r][1],!v)Ni=kN(Ni)}}else return Qt(M);if(ii["content-transfer-encoding"])qi=ii["content-transfer-encoding"][0].toLowerCase();else qi="7bit";let kg,Fg;if(e(xi,fi,Ni)){if(b===U){if(!i.hitFilesLimit)i.hitFilesLimit=!0,i.emit("filesLimit");return Qt(M)}if(++b,i.listenerCount("file")===0){t.parser._ignore();return}++z;let ji=new Ue(_);Y=ji,ji.on("end",function(){if(--z,t._pause=!1,w(),t._cb&&!t._needDrain){let on=t._cb;t._cb=void 0,on()}}),ji._read=function(on){if(!t._pause)return;if(t._pause=!1,t._cb&&!t._needDrain){let Dn=t._cb;t._cb=void 0,Dn()}},i.emit("file",xi,ji,Ni,qi,fi),kg=function(on){if((un+=on.length)>f){let Dn=f-un+on.length;if(Dn>0)ji.push(on.slice(0,Dn));ji.truncated=!0,ji.bytesRead=f,M.removeAllListeners("data"),ji.emit("limit");return}else if(!ji.push(on))t._pause=!0;ji.bytesRead=un},Fg=function(){Y=void 0,ji.push(null)}}else{if(I===j){if(!i.hitFieldsLimit)i.hitFieldsLimit=!0,i.emit("fieldsLimit");return Qt(M)}++I,++z;let ji="",on=!1;E=M,kg=function(Dn){if((un+=Dn.length)>h){let BD=h-(un-Dn.length);ji+=Dn.toString("binary",0,BD),on=!0,M.removeAllListeners("data")}else ji+=Dn.toString("binary")},Fg=function(){if(E=void 0,ji.length)ji=MN(ji,"binary",Zi);i.emit("field",xi,ji,!1,on,qi,fi),--z,w()}}M._readableState.sync=!1,M.on("data",kg),M.on("end",Fg)}).on("error",function(ii){if(Y)Y.emit("error",ii)})}).on("error",function(Q){i.emit("error",Q)}).on("finish",function(){S=!0,w()})}wo.prototype.write=function(i,n){let r=this.parser.write(i);if(r&&!this._pause)n();else this._needDrain=!r,this._cb=n};wo.prototype.end=function(){let i=this;if(i.parser.writable)i.parser.end();else if(!i._boy._done)process.nextTick(function(){i._boy._done=!0,i._boy.emit("finish")})};function Qt(i){i.resume()}function Ue(i){sb.call(this,i),this.bytesRead=0,this.truncated=!1}KN(Ue,sb);Ue.prototype._read=function(i){};nf.exports=wo});var uf=P((DB,rf)=>{var RN=/\\+/g,dN=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Oe(){this.buffer=void 0}Oe.prototype.write=function(i){i=i.replace(RN," ");let n="",r=0,u=0,t=i.length;for(;r<t;++r)if(this.buffer!==void 0){if(!dN[i.charCodeAt(r)])n+="%"+this.buffer,this.buffer=void 0,--r;else if(this.buffer+=i[r],++u,this.buffer.length===2)n+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0}else if(i[r]==="%"){if(r>u)n+=i.substring(u,r),u=r;this.buffer="",++u}if(u<t&&this.buffer===void 0)n+=i.substring(u);return n};Oe.prototype.reset=function(){this.buffer=void 0};rf.exports=Oe});var lf=P((NB,of)=>{var ZN=uf(),Bt=$o(),Ie=co(),aN=/^charset$/i;ho.detect=/^application\\/x-www-form-urlencoded/i;function ho(i,n){let{limits:r,parsedConType:u}=n;this.boy=i,this.fieldSizeLimit=Ie(r,"fieldSize",1048576),this.fieldNameSizeLimit=Ie(r,"fieldNameSize",100),this.fieldsLimit=Ie(r,"fields",1/0);let t;for(var o=0,l=u.length;o<l;++o)if(Array.isArray(u[o])&&aN.test(u[o][0])){t=u[o][1].toLowerCase();break}if(t===void 0)t=n.defCharset||"utf8";this.decoder=new ZN,this.charset=t,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}ho.prototype.write=function(i,n){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit)this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit");return n()}let r,u,t,o=0,l=i.length;while(o<l)if(this._state==="key"){r=u=void 0;for(t=o;t<l;++t){if(!this._checkingBytes)++o;if(i[t]===61){r=t;break}else if(i[t]===38){u=t;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else if(this._checkingBytes)++this._bytesKey}if(r!==void 0){if(r>o)this._key+=this.decoder.write(i.toString("binary",o,r));this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),o=r+1}else if(u!==void 0){++this._fields;let e,c=this._keyTrunc;if(u>o)e=this._key+=this.decoder.write(i.toString("binary",o,u));else e=this._key;if(this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),e.length)this.boy.emit("field",Bt(e,"binary",this.charset),"",c,!1);if(o=u+1,this._fields===this.fieldsLimit)return n()}else if(this._hitLimit){if(t>o)this._key+=this.decoder.write(i.toString("binary",o,t));if(o=t,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit)this._checkingBytes=!1,this._keyTrunc=!0}else{if(o<l)this._key+=this.decoder.write(i.toString("binary",o));o=l}}else{u=void 0;for(t=o;t<l;++t){if(!this._checkingBytes)++o;if(i[t]===38){u=t;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else if(this._checkingBytes)++this._bytesVal}if(u!==void 0){if(++this._fields,u>o)this._val+=this.decoder.write(i.toString("binary",o,u));if(this.boy.emit("field",Bt(this._key,"binary",this.charset),Bt(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),o=u+1,this._fields===this.fieldsLimit)return n()}else if(this._hitLimit){if(t>o)this._val+=this.decoder.write(i.toString("binary",o,t));if(o=t,this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)this._checkingBytes=!1,this._valTrunc=!0}else{if(o<l)this._val+=this.decoder.write(i.toString("binary",o));o=l}}n()};ho.prototype.end=function(){if(this.boy._done)return;if(this._state==="key"&&this._key.length>0)this.boy.emit("field",Bt(this._key,"binary",this.charset),"",this._keyTrunc,!1);else if(this._state==="val")this.boy.emit("field",Bt(this._key,"binary",this.charset),Bt(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this.boy._done=!0,this.boy.emit("finish")};of.exports=ho});var cf=P((EB,Lr)=>{var je=C("node:stream").Writable,{inherits:pN}=C("node:util"),sN=we(),gf=tf(),ef=lf(),iE=fe();function En(i){if(!(this instanceof En))return new En(i);if(typeof i!=="object")throw TypeError("Busboy expected an options-Object.");if(typeof i.headers!=="object")throw TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof i.headers["content-type"]!=="string")throw TypeError("Missing Content-Type-header.");let{headers:n,...r}=i;this.opts={autoDestroy:!1,...r},je.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(n),this._finished=!1}pN(En,je);En.prototype.emit=function(i){if(i==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished)return;this._finished=!0}je.prototype.emit.apply(this,arguments)};En.prototype.getParserByHeaders=function(i){let n=iE(i["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:i,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:n,preservePath:this.opts.preservePath};if(gf.detect.test(n[0]))return new gf(this,r);if(ef.detect.test(n[0]))return new ef(this,r);throw Error("Unsupported Content-Type.")};En.prototype._write=function(i,n,r){this._parser.write(i,r)};Lr.exports=En;Lr.exports.default=En;Lr.exports.Busboy=En;Lr.exports.Dicer=sN});var pi=P((De)=>{Object.defineProperty(De,"__esModule",{value:!0});De.fakePromise=void 0;De.getHeadersObj=tE;De.defaultHeadersSerializer=rE;De.isArrayBufferView=oE;De.isNodeReadable=lE;De.isIterable=gE;De.shouldRedirect=eE;De.pipeThrough=cE;De.endStream=$E;De.safeWrite=vE;var nE=C("node:events");function $f(i){return i?.forEach!=null}function tE(i){if(i==null||!$f(i))return i;if(i.headersInit&&!i._map&&!$f(i.headersInit))return i.headersInit;return Object.fromEntries(i.entries())}function rE(i,n){let r=[];return i.forEach((u,t)=>{if(n&&t==="content-length")n(u);r.push(`${t}: ${u}`)}),r}var uE=Mn();Object.defineProperty(De,"fakePromise",{enumerable:!0,get:function(){return uE.fakePromise}});function oE(i){return i!=null&&i.buffer!=null&&i.byteLength!=null&&i.byteOffset!=null}function lE(i){return i!=null&&i.pipe!=null}function gE(i){return i?.[Symbol.iterator]!=null}function eE(i){return i===301||i===302||i===303||i===307||i===308}function cE({src:i,dest:n,signal:r,onError:u}){if(u)n.once("error",u);if(i.once("error",(t)=>{n.destroy(t)}),n.once("close",()=>{if(!i.destroyed)i.destroy()}),r){let l=function(){o.deref()?.removeEventListener("abort",e),t.deref()?.removeListener("end",l),t.deref()?.removeListener("error",l),t.deref()?.removeListener("close",l)},e=function(){t.deref()?.destroy(new vf),l()},t=new WeakRef(i),o=new WeakRef(r);r.addEventListener("abort",e,{once:!0}),i.once("end",l),i.once("error",l),i.once("close",l)}i.pipe(n,{end:!0})}function $E(i){return i.end(null,null,null)}function vE(i,n){if(!n.write(i))return(0,nE.once)(n,"drain")}class vf extends Error{constructor(i="The operation was aborted",n=void 0){super(i,n);this.name="AbortError"}}});var At=P((bf)=>{Object.defineProperty(bf,"__esModule",{value:!0});bf.PonyfillReadableStream=void 0;var _f=C("node:buffer"),Ne=C("node:events"),Ee=C("node:stream"),NE=C("node:stream/promises"),Je=Mn(),ze=pi();function wf(i,n){let r=[],u=!1,t=!1;return{desiredSize:i,enqueue(o){let l=typeof o==="string"?_f.Buffer.from(o):o;if(!t)r.push(l);else n.push(l)},close(){if(r.length>0)this._flush();n.push(null),u=!0},error(o){if(r.length>0)this._flush();n.destroy(o)},get _closed(){return u},_flush(){if(t=!0,r.length>0){let o=r.length>1?_f.Buffer.concat(r):r[0];n.push(o),r=[]}}}}function EE(i){return i?.read!=null}function hf(i){return i?.getReader!=null}class bo{readable;constructor(i){if(i instanceof bo&&i.readable!=null)this.readable=i.readable;else if(EE(i))this.readable=i;else if(hf(i))this.readable=Ee.Readable.fromWeb(i);else{let n=!1,r=!1,u=(o)=>{if(!n){let l=wf(o,this.readable);return n=!0,(0,Je.handleMaybePromise)(()=>i?.start?.(l),()=>{if(l._flush(),l._closed)return!1;return!0})}return!0},t=(o)=>{return(0,Je.handleMaybePromise)(()=>u(o),(l)=>{if(!l)return;let e=wf(o,this.readable);return(0,Je.handleMaybePromise)(()=>i?.pull?.(e),()=>{e._flush(),r=!1})})};this.readable=new Ee.Readable({read(o){if(r)return;return r=!0,t(o)},destroy(o,l){if(i?.cancel)try{let e=i.cancel(o);if(e?.then)return e.then(()=>{l(null)},(c)=>{l(c)})}catch(e){l(e);return}l(null)}})}}cancel(i){return this.readable.destroy(i),(0,Ne.once)(this.readable,"close")}locked=!1;getReader(i){let n=this.readable[Symbol.asyncIterator]();this.locked=!0;let r=this.readable;return{read(){return n.next()},releaseLock:()=>{if(n.return){let u=n.return();if(u.then){u.then(()=>{this.locked=!1});return}}this.locked=!1},cancel:(u)=>{if(n.return){let t=n.return(u);if(t.then)return t.then(()=>{this.locked=!1})}return this.locked=!1,(0,ze.fakePromise)()},get closed(){return Promise.race([(0,Ne.once)(r,"end"),(0,Ne.once)(r,"error").then((u)=>Promise.reject(u))])}}}[Symbol.asyncIterator](){let i=this.readable[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return this},next:()=>i.next(),return:()=>{if(!this.readable.destroyed)this.readable.destroy();return i.return?.()||(0,ze.fakePromise)({done:!0,value:void 0})},throw:(n)=>{if(!this.readable.destroyed)this.readable.destroy(n);return i.throw?.(n)||(0,ze.fakePromise)({done:!0,value:void 0})}}}tee(){throw Error("Not implemented")}async pipeToWriter(i){try{for await(let n of this)await i.write(n);await i.close()}catch(n){await i.abort(n)}}pipeTo(i){if(zE(i))return(0,NE.pipeline)(this.readable,i.writable,{end:!0});else{let n=i.getWriter();return this.pipeToWriter(n)}}pipeThrough({writable:i,readable:n}){if(this.pipeTo(i).catch((r)=>{this.readable.destroy(r)}),JE(n))n.readable.once("error",(r)=>this.readable.destroy(r)),n.readable.once("finish",()=>this.readable.push(null)),n.readable.once("close",()=>this.readable.push(null));return n}static[Symbol.hasInstance](i){return hf(i)}static from(i){return new bo(Ee.Readable.from(i))}[Symbol.toStringTag]="ReadableStream"}bf.PonyfillReadableStream=bo;function JE(i){return i?.readable!=null}function zE(i){return i?.writable!=null}});var fo=P((Ef)=>{Object.defineProperty(Ef,"__esModule",{value:!0});Ef.PonyfillBlob=void 0;Ef.hasBufferMethod=Sr;Ef.hasArrayBufferMethod=mr;Ef.hasBytesMethod=Yr;Ef.hasTextMethod=Uf;Ef.hasSizeProperty=Of;Ef.hasStreamMethod=If;Ef.hasBlobSignature=jf;Ef.isArrayBuffer=Df;var Si=C("node:buffer"),qe=At(),Xi=pi();function Xr(i){if(typeof i==="string")return Si.Buffer.from(i);else if(Si.Buffer.isBuffer(i))return i;else if((0,Xi.isArrayBufferView)(i))return Si.Buffer.from(i.buffer,i.byteOffset,i.byteLength);else return Si.Buffer.from(i)}function Sr(i){return i!=null&&i.buffer!=null&&typeof i.buffer==="function"}function mr(i){return i!=null&&i.arrayBuffer!=null&&typeof i.arrayBuffer==="function"}function Yr(i){return i!=null&&i.bytes!=null&&typeof i.bytes==="function"}function Uf(i){return i!=null&&i.text!=null&&typeof i.text==="function"}function Of(i){return i!=null&&typeof i.size==="number"}function If(i){return i!=null&&i.stream!=null&&typeof i.stream==="function"}function jf(i){return i!=null&&i[Symbol.toStringTag]==="Blob"}function Df(i){return i!=null&&i.byteLength!=null&&i.slice!=null}class Nf{blobParts;type;encoding;_size=null;constructor(i=[],n){if(this.blobParts=i,this.type=n?.type||"application/octet-stream",this.encoding=n?.encoding||"utf8",this._size=n?.size||null,i.length===1&&jf(i[0]))return i[0]}_buffer=null;buffer(){if(this._buffer)return(0,Xi.fakePromise)(this._buffer);if(this.blobParts.length===1){let r=this.blobParts[0];if(Sr(r))return r.buffer().then((u)=>{return this._buffer=u,this._buffer});if(Yr(r))return r.bytes().then((u)=>{return this._buffer=Si.Buffer.from(u),this._buffer});if(mr(r))return r.arrayBuffer().then((u)=>{return this._buffer=Si.Buffer.from(u,void 0,r.size),this._buffer});return this._buffer=Xr(r),(0,Xi.fakePromise)(this._buffer)}let i=[],n=this.blobParts.map((r,u)=>{if(Sr(r)){i.push(r.buffer().then((t)=>{n[u]=t}));return}else if(mr(r)){i.push(r.arrayBuffer().then((t)=>{n[u]=Si.Buffer.from(t,void 0,r.size)}));return}else if(Yr(r)){i.push(r.bytes().then((t)=>{n[u]=Si.Buffer.from(t)}));return}else return Xr(r)});if(i.length>0)return Promise.all(i).then(()=>Si.Buffer.concat(n,this._size||void 0));return(0,Xi.fakePromise)(Si.Buffer.concat(n,this._size||void 0))}arrayBuffer(){if(this._buffer)return(0,Xi.fakePromise)(this._buffer);if(this.blobParts.length===1){if(Df(this.blobParts[0]))return(0,Xi.fakePromise)(this.blobParts[0]);if(mr(this.blobParts[0]))return this.blobParts[0].arrayBuffer()}return this.buffer()}bytes(){if(this._buffer)return(0,Xi.fakePromise)(this._buffer);if(this.blobParts.length===1){if(Si.Buffer.isBuffer(this.blobParts[0]))return this._buffer=this.blobParts[0],(0,Xi.fakePromise)(this._buffer);if(this.blobParts[0]instanceof Uint8Array)return this._buffer=Si.Buffer.from(this.blobParts[0]),(0,Xi.fakePromise)(this._buffer);if(Yr(this.blobParts[0]))return this.blobParts[0].bytes();if(Sr(this.blobParts[0]))return this.blobParts[0].buffer()}return this.buffer()}_text=null;text(){if(this._text)return(0,Xi.fakePromise)(this._text);if(this.blobParts.length===1){let i=this.blobParts[0];if(typeof i==="string")return this._text=i,(0,Xi.fakePromise)(this._text);if(Uf(i))return i.text().then((r)=>{return this._text=r,this._text});let n=Xr(i);return this._text=n.toString(this.encoding),(0,Xi.fakePromise)(this._text)}return this.buffer().then((i)=>{return this._text=i.toString(this.encoding),this._text})}_json=null;json(){if(this._json)return(0,Xi.fakePromise)(this._json);return this.text().then((i)=>{return this._json=JSON.parse(i),this._json})}_formData=null;formData(){if(this._formData)return(0,Xi.fakePromise)(this._formData);throw Error("Not implemented")}get size(){if(this._size==null){this._size=0;for(let i of this.blobParts)if(typeof i==="string")this._size+=Si.Buffer.byteLength(i);else if(Of(i))this._size+=i.size;else if((0,Xi.isArrayBufferView)(i))this._size+=i.byteLength}return this._size}stream(){if(this.blobParts.length===1){let n=this.blobParts[0];if(If(n))return n.stream();let r=Xr(n);return new qe.PonyfillReadableStream({start:(u)=>{u.enqueue(r),u.close()}})}if(this._buffer!=null)return new qe.PonyfillReadableStream({start:(n)=>{n.enqueue(this._buffer),n.close()}});let i;return new qe.PonyfillReadableStream({start:(n)=>{if(this.blobParts.length===0){n.close();return}i=this.blobParts[Symbol.iterator]()},pull:(n)=>{let{value:r,done:u}=i.next();if(u){n.close();return}if(r){if(Sr(r))return r.buffer().then((o)=>{n.enqueue(o)});if(Yr(r))return r.bytes().then((o)=>{let l=Si.Buffer.from(o);n.enqueue(l)});if(mr(r))return r.arrayBuffer().then((o)=>{let l=Si.Buffer.from(o,void 0,r.size);n.enqueue(l)});let t=Xr(r);n.enqueue(t)}}})}slice(){throw Error("Not implemented")}}Ef.PonyfillBlob=Nf});var He=P((qf)=>{Object.defineProperty(qf,"__esModule",{value:!0});qf.PonyfillFile=void 0;var YE=fo();class zf extends YE.PonyfillBlob{name;lastModified;constructor(i,n,r){super(i,r);this.name=n,this.lastModified=r?.lastModified||Date.now()}webkitRelativePath=""}qf.PonyfillFile=zf});var Ge=P((WB,Io)=>{var Wf,Gf,Lf,Xf,Sf,mf,Yf,Qf,Bf,Af,Vf,Kf,yf,Uo,We,Mf,kf,Ff,Vt,Tf,Pf,xf,Cf,Rf,df,Zf,af,pf,Oo,sf,i1,n1;(function(i){var n=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(u){i(r(n,r(u)))});else if(typeof Io==="object"&&typeof WB==="object")i(r(n,r(WB)));else i(r(n));function r(u,t){if(u!==n)if(typeof Object.create==="function")Object.defineProperty(u,"__esModule",{value:!0});else u.__esModule=!0;return function(o,l){return u[o]=t?t(o,l):l}}})(function(i){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e))o[e]=l[e]};Wf=function(o,l){if(typeof l!=="function"&&l!==null)throw TypeError("Class extends value "+String(l)+" is not a constructor or null");n(o,l);function e(){this.constructor=o}o.prototype=l===null?Object.create(l):(e.prototype=l.prototype,new e)},Gf=Object.assign||function(o){for(var l,e=1,c=arguments.length;e<c;e++){l=arguments[e];for(var $ in l)if(Object.prototype.hasOwnProperty.call(l,$))o[$]=l[$]}return o},Lf=function(o,l){var e={};for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&l.indexOf(c)<0)e[c]=o[c];if(o!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var $=0,c=Object.getOwnPropertySymbols(o);$<c.length;$++)if(l.indexOf(c[$])<0&&Object.prototype.propertyIsEnumerable.call(o,c[$]))e[c[$]]=o[c[$]]}return e},Xf=function(o,l,e,c){var $=arguments.length,v=$<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,e):c,_;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")v=Reflect.decorate(o,l,e,c);else for(var w=o.length-1;w>=0;w--)if(_=o[w])v=($<3?_(v):$>3?_(l,e,v):_(l,e))||v;return $>3&&v&&Object.defineProperty(l,e,v),v},Sf=function(o,l){return function(e,c){l(e,c,o)}},mf=function(o,l,e,c,$,v){function _(z){if(z!==void 0&&typeof z!=="function")throw TypeError("Function expected");return z}var w=c.kind,h=w==="getter"?"get":w==="setter"?"set":"value",f=!l&&o?c.static?o:o.prototype:null,U=l||(f?Object.getOwnPropertyDescriptor(f,c.name):{}),j,q=!1;for(var D=e.length-1;D>=0;D--){var O={};for(var b in c)O[b]=b==="access"?{}:c[b];for(var b in c.access)O.access[b]=c.access[b];O.addInitializer=function(z){if(q)throw TypeError("Cannot add initializers after decoration has completed");v.push(_(z||null))};var I=(0,e[D])(w==="accessor"?{get:U.get,set:U.set}:U[h],O);if(w==="accessor"){if(I===void 0)continue;if(I===null||typeof I!=="object")throw TypeError("Object expected");if(j=_(I.get))U.get=j;if(j=_(I.set))U.set=j;if(j=_(I.init))$.unshift(j)}else if(j=_(I))if(w==="field")$.unshift(j);else U[h]=j}if(f)Object.defineProperty(f,c.name,U);q=!0},Yf=function(o,l,e){var c=arguments.length>2;for(var $=0;$<l.length;$++)e=c?l[$].call(o,e):l[$].call(o);return c?e:void 0},Qf=function(o){return typeof o==="symbol"?o:"".concat(o)},Bf=function(o,l,e){if(typeof l==="symbol")l=l.description?"[".concat(l.description,"]"):"";return Object.defineProperty(o,"name",{configurable:!0,value:e?"".concat(e," ",l):l})},Af=function(o,l){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(o,l)},Vf=function(o,l,e,c){function $(v){return v instanceof e?v:new e(function(_){_(v)})}return new(e||(e=Promise))(function(v,_){function w(U){try{f(c.next(U))}catch(j){_(j)}}function h(U){try{f(c.throw(U))}catch(j){_(j)}}function f(U){U.done?v(U.value):$(U.value).then(w,h)}f((c=c.apply(o,l||[])).next())})},Kf=function(o,l){var e={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},c,$,v,_=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return _.next=w(0),_.throw=w(1),_.return=w(2),typeof Symbol==="function"&&(_[Symbol.iterator]=function(){return this}),_;function w(f){return function(U){return h([f,U])}}function h(f){if(c)throw TypeError("Generator is already executing.");while(_&&(_=0,f[0]&&(e=0)),e)try{if(c=1,$&&(v=f[0]&2?$.return:f[0]?$.throw||((v=$.return)&&v.call($),0):$.next)&&!(v=v.call($,f[1])).done)return v;if($=0,v)f=[f[0]&2,v.value];switch(f[0]){case 0:case 1:v=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,$=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if((v=e.trys,!(v=v.length>0&&v[v.length-1]))&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!v||f[1]>v[0]&&f[1]<v[3])){e.label=f[1];break}if(f[0]===6&&e.label<v[1]){e.label=v[1],v=f;break}if(v&&e.label<v[2]){e.label=v[2],e.ops.push(f);break}if(v[2])e.ops.pop();e.trys.pop();continue}f=l.call(o,e)}catch(U){f=[6,U],$=0}finally{c=v=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},yf=function(o,l){for(var e in o)if(e!=="default"&&!Object.prototype.hasOwnProperty.call(l,e))Oo(l,o,e)},Oo=Object.create?function(o,l,e,c){if(c===void 0)c=e;var $=Object.getOwnPropertyDescriptor(l,e);if(!$||("get"in $?!l.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return l[e]}};Object.defineProperty(o,c,$)}:function(o,l,e,c){if(c===void 0)c=e;o[c]=l[e]},Uo=function(o){var l=typeof Symbol==="function"&&Symbol.iterator,e=l&&o[l],c=0;if(e)return e.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&c>=o.length)o=void 0;return{value:o&&o[c++],done:!o}}};throw TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},We=function(o,l){var e=typeof Symbol==="function"&&o[Symbol.iterator];if(!e)return o;var c=e.call(o),$,v=[],_;try{while((l===void 0||l-- >0)&&!($=c.next()).done)v.push($.value)}catch(w){_={error:w}}finally{try{if($&&!$.done&&(e=c.return))e.call(c)}finally{if(_)throw _.error}}return v},Mf=function(){for(var o=[],l=0;l<arguments.length;l++)o=o.concat(We(arguments[l]));return o},kf=function(){for(var o=0,l=0,e=arguments.length;l<e;l++)o+=arguments[l].length;for(var c=Array(o),$=0,l=0;l<e;l++)for(var v=arguments[l],_=0,w=v.length;_<w;_++,$++)c[$]=v[_];return c},Ff=function(o,l,e){if(e||arguments.length===2){for(var c=0,$=l.length,v;c<$;c++)if(v||!(c in l)){if(!v)v=Array.prototype.slice.call(l,0,c);v[c]=l[c]}}return o.concat(v||Array.prototype.slice.call(l))},Vt=function(o){return this instanceof Vt?(this.v=o,this):new Vt(o)},Tf=function(o,l,e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var c=e.apply(o,l||[]),$,v=[];return $=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",_),$[Symbol.asyncIterator]=function(){return this},$;function _(D){return function(O){return Promise.resolve(O).then(D,j)}}function w(D,O){if(c[D]){if($[D]=function(b){return new Promise(function(I,z){v.push([D,b,I,z])>1||h(D,b)})},O)$[D]=O($[D])}}function h(D,O){try{f(c[D](O))}catch(b){q(v[0][3],b)}}function f(D){D.value instanceof Vt?Promise.resolve(D.value.v).then(U,j):q(v[0][2],D)}function U(D){h("next",D)}function j(D){h("throw",D)}function q(D,O){if(D(O),v.shift(),v.length)h(v[0][0],v[0][1])}},Pf=function(o){var l,e;return l={},c("next"),c("throw",function($){throw $}),c("return"),l[Symbol.iterator]=function(){return this},l;function c($,v){l[$]=o[$]?function(_){return(e=!e)?{value:Vt(o[$](_)),done:!1}:v?v(_):_}:v}},xf=function(o){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l=o[Symbol.asyncIterator],e;return l?l.call(o):(o=typeof Uo==="function"?Uo(o):o[Symbol.iterator](),e={},c("next"),c("throw"),c("return"),e[Symbol.asyncIterator]=function(){return this},e);function c(v){e[v]=o[v]&&function(_){return new Promise(function(w,h){_=o[v](_),$(w,h,_.done,_.value)})}}function $(v,_,w,h){Promise.resolve(h).then(function(f){v({value:f,done:w})},_)}},Cf=function(o,l){if(Object.defineProperty)Object.defineProperty(o,"raw",{value:l});else o.raw=l;return o};var r=Object.create?function(o,l){Object.defineProperty(o,"default",{enumerable:!0,value:l})}:function(o,l){o.default=l},u=function(o){return u=Object.getOwnPropertyNames||function(l){var e=[];for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c))e[e.length]=c;return e},u(o)};Rf=function(o){if(o&&o.__esModule)return o;var l={};if(o!=null){for(var e=u(o),c=0;c<e.length;c++)if(e[c]!=="default")Oo(l,o,e[c])}return r(l,o),l},df=function(o){return o&&o.__esModule?o:{default:o}},Zf=function(o,l,e,c){if(e==="a"&&!c)throw TypeError("Private accessor was defined without a getter");if(typeof l==="function"?o!==l||!c:!l.has(o))throw TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?c:e==="a"?c.call(o):c?c.value:l.get(o)},af=function(o,l,e,c,$){if(c==="m")throw TypeError("Private method is not writable");if(c==="a"&&!$)throw TypeError("Private accessor was defined without a setter");if(typeof l==="function"?o!==l||!$:!l.has(o))throw TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?$.call(o,e):$?$.value=e:l.set(o,e),e},pf=function(o,l){if(l===null||typeof l!=="object"&&typeof l!=="function")throw TypeError("Cannot use \'in\' operator on non-object");return typeof o==="function"?l===o:o.has(l)},sf=function(o,l,e){if(l!==null&&l!==void 0){if(typeof l!=="object"&&typeof l!=="function")throw TypeError("Object expected.");var c,$;if(e){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");c=l[Symbol.asyncDispose]}if(c===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(c=l[Symbol.dispose],e)$=c}if(typeof c!=="function")throw TypeError("Object not disposable.");if($)c=function(){try{$.call(this)}catch(v){return Promise.reject(v)}};o.stack.push({value:l,dispose:c,async:e})}else if(e)o.stack.push({async:!0});return l};var t=typeof SuppressedError==="function"?SuppressedError:function(o,l,e){var c=Error(e);return c.name="SuppressedError",c.error=o,c.suppressed=l,c};i1=function(o){function l(v){o.error=o.hasError?new t(v,o.error,"An error was suppressed during disposal."):v,o.hasError=!0}var e,c=0;function $(){while(e=o.stack.pop())try{if(!e.async&&c===1)return c=0,o.stack.push(e),Promise.resolve().then($);if(e.dispose){var v=e.dispose.call(e.value);if(e.async)return c|=2,Promise.resolve(v).then($,function(_){return l(_),$()})}else c|=1}catch(_){l(_)}if(c===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return $()},n1=function(o,l){if(typeof o==="string"&&/^\\.\\.?\\//.test(o))return o.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i,function(e,c,$,v,_){return c?l?".jsx":".js":$&&(!v||!_)?e:$+v+"."+_.toLowerCase()+"js"});return o},i("__extends",Wf),i("__assign",Gf),i("__rest",Lf),i("__decorate",Xf),i("__param",Sf),i("__esDecorate",mf),i("__runInitializers",Yf),i("__propKey",Qf),i("__setFunctionName",Bf),i("__metadata",Af),i("__awaiter",Vf),i("__generator",Kf),i("__exportStar",yf),i("__createBinding",Oo),i("__values",Uo),i("__read",We),i("__spread",Mf),i("__spreadArrays",kf),i("__spreadArray",Ff),i("__await",Vt),i("__asyncGenerator",Tf),i("__asyncDelegator",Pf),i("__asyncValues",xf),i("__makeTemplateObject",Cf),i("__importStar",Rf),i("__importDefault",df),i("__classPrivateFieldGet",Zf),i("__classPrivateFieldSet",af),i("__classPrivateFieldIn",pf),i("__addDisposableResource",sf),i("__disposeResources",i1),i("__rewriteRelativeImportExtension",n1)})});var jo=P((r1)=>{Object.defineProperty(r1,"__esModule",{value:!0});r1.PonyfillSuppressedError=void 0;class t1 extends Error{error;suppressed;constructor(i,n,r){super(r);this.error=i,this.suppressed=n,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}}r1.PonyfillSuppressedError=t1});var Qr=P((o1)=>{Object.defineProperty(o1,"__esModule",{value:!0});o1.DisposableSymbols=void 0;o1.patchSymbols=QE;o1.DisposableSymbols={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function QE(){Symbol.dispose||=Symbol.for("dispose"),Symbol.asyncDispose||=Symbol.for("asyncDispose")}});var Le=P((e1)=>{Object.defineProperty(e1,"__esModule",{value:!0});e1.isSyncDisposable=AE;e1.isAsyncDisposable=VE;var g1=Qr();function AE(i){return i?.[g1.DisposableSymbols.dispose]!=null}function VE(i){return i?.[g1.DisposableSymbols.asyncDispose]!=null}});var _1=P(($1)=>{Object.defineProperty($1,"__esModule",{value:!0});$1.PonyfillAsyncDisposableStack=void 0;var ME=Mn(),kE=jo(),Do=Qr(),c1=Le(),FE=globalThis.SuppressedError||kE.PonyfillSuppressedError;class Xe{callbacks=[];get disposed(){return this.callbacks.length===0}use(i){if((0,c1.isAsyncDisposable)(i))this.callbacks.push(()=>i[Do.DisposableSymbols.asyncDispose]());else if((0,c1.isSyncDisposable)(i))this.callbacks.push(()=>i[Do.DisposableSymbols.dispose]());return i}adopt(i,n){if(n)this.callbacks.push(()=>n(i));return i}defer(i){if(i)this.callbacks.push(i)}move(){let i=new Xe;return i.callbacks=this.callbacks,this.callbacks=[],i}disposeAsync(){return this[Do.DisposableSymbols.asyncDispose]()}_error;_iterateCallbacks(){let i=this.callbacks.pop();if(i)return(0,ME.handleMaybePromise)(i,()=>this._iterateCallbacks(),(n)=>{return this._error=this._error?new FE(n,this._error):n,this._iterateCallbacks()})}[Do.DisposableSymbols.asyncDispose](){let i=this._iterateCallbacks();if(i?.then)return i.then(()=>{if(this._error){let n=this._error;throw this._error=void 0,n}});if(this._error){let n=this._error;throw this._error=void 0,n}return}[Symbol.toStringTag]="AsyncDisposableStack"}$1.PonyfillAsyncDisposableStack=Xe});var b1=P((w1)=>{Object.defineProperty(w1,"__esModule",{value:!0});w1.PonyfillDisposableStack=void 0;var TE=jo(),Se=Qr(),PE=Le(),xE=globalThis.SuppressedError||TE.PonyfillSuppressedError;class me{callbacks=[];get disposed(){return this.callbacks.length===0}use(i){if((0,PE.isSyncDisposable)(i))this.callbacks.push(()=>i[Se.DisposableSymbols.dispose]());return i}adopt(i,n){if(n)this.callbacks.push(()=>n(i));return i}defer(i){if(i)this.callbacks.push(i)}move(){let i=new me;return i.callbacks=this.callbacks,this.callbacks=[],i}dispose(){return this[Se.DisposableSymbols.dispose]()}_error;_iterateCallbacks(){let i=this.callbacks.pop();if(i){try{i()}catch(n){this._error=this._error?new xE(n,this._error):n}return this._iterateCallbacks()}}[Se.DisposableSymbols.dispose](){if(this._iterateCallbacks(),this._error){let i=this._error;throw this._error=void 0,i}}[Symbol.toStringTag]="DisposableStack"}w1.PonyfillDisposableStack=me});var U1=P((Ye)=>{Object.defineProperty(Ye,"__esModule",{value:!0});Ye.SuppressedError=Ye.AsyncDisposableStack=Ye.DisposableStack=void 0;var CE=Ge(),RE=_1(),dE=b1(),ZE=jo();Ye.DisposableStack=globalThis.DisposableStack||dE.PonyfillDisposableStack;Ye.AsyncDisposableStack=globalThis.AsyncDisposableStack||RE.PonyfillAsyncDisposableStack;Ye.SuppressedError=globalThis.SuppressedError||ZE.PonyfillSuppressedError;CE.__exportStar(Qr(),Ye)});var No=P((j1)=>{Object.defineProperty(j1,"__esModule",{value:!0});j1.PonyfillIteratorObject=void 0;var O1=C("node:util"),sE=U1(),iJ=pi();class I1{iterableIterator;[Symbol.toStringTag]="IteratorObject";constructor(i,n){this.iterableIterator=i,this[Symbol.toStringTag]=n}*map(i){let n=0;for(let r of this.iterableIterator)yield i(r,n++);return}*filter(i){let n=0;for(let r of this.iterableIterator)if(i(r,n++))yield r;return}reduce(i,n){let r=0,u=n;for(let t of this.iterableIterator)u=i(u,t,r++);return u}forEach(i){let n=0;for(let r of this.iterableIterator)i(r,n++)}*take(i){let n=0;for(let r of this.iterableIterator){if(n>=i)break;yield r,n++}return}*drop(i){let n=0;for(let r of this.iterableIterator){if(n>=i)yield r;n++}return}*flatMap(i){let n=0;for(let r of this.iterableIterator){let u=i(r,n++);if((0,iJ.isIterable)(u))for(let t of u)yield t;else for(let t of{[Symbol.iterator]:()=>u})yield t}return}some(i){let n=0;for(let r of this.iterableIterator)if(i(r,n++))return!0;return!1}every(i){let n=0;for(let r of this.iterableIterator)if(!i(r,n++))return!1;return!0}find(i){let n=0;for(let r of this.iterableIterator)if(i(r,n++))return r;return}toArray(){return Array.from(this.iterableIterator)}[sE.DisposableSymbols.dispose](){this.iterableIterator.return?.()}next(...[i]){return this.iterableIterator.next(i)}[Symbol.iterator](){return this}[Symbol.for("nodejs.util.inspect.custom")](){let i={};return this.forEach((n,r)=>{let u=(0,O1.inspect)(n);i[r]=u.includes(",")?u.split(",").map((t)=>t.trim()):u}),`${this[Symbol.toStringTag]} ${(0,O1.inspect)(i)}`}}j1.PonyfillIteratorObject=I1});var Be=P((z1)=>{Object.defineProperty(z1,"__esModule",{value:!0});z1.PonyfillFormData=void 0;z1.getStreamFromFormData=tJ;var vt=C("node:buffer"),Qe=No(),nJ=At();class J1{map=new Map;append(i,n,r){let u=this.map.get(i);if(!u)u=[],this.map.set(i,u);let t=E1(n)?N1(i,n,r):n;u.push(t)}delete(i){this.map.delete(i)}get(i){let n=this.map.get(i);return n?n[0]:null}getAll(i){return this.map.get(i)||[]}has(i){return this.map.has(i)}set(i,n,r){let u=E1(n)?N1(i,n,r):n;this.map.set(i,[u])}[Symbol.iterator](){return this._entries()}*_entries(){for(let[i,n]of this.map)for(let r of n)yield[i,r]}entries(){return new Qe.PonyfillIteratorObject(this._entries(),"FormDataIterator")}_keys(){return this.map.keys()}keys(){return new Qe.PonyfillIteratorObject(this._keys(),"FormDataIterator")}*_values(){for(let i of this.map.values())for(let n of i)yield n}values(){return new Qe.PonyfillIteratorObject(this._values(),"FormDataIterator")}forEach(i){for(let[n,r]of this)i(r,n,this)}}z1.PonyfillFormData=J1;function tJ(i,n="---"){let r,u=!1,t,o=!1;function l(e){let{done:c,value:$}=r.next();if(c)return e.enqueue(vt.Buffer.from(`\\r\n--${n}--\\r\n`)),e.close();if(o)e.enqueue(vt.Buffer.from(`\\r\n--${n}\\r\n`));if($){let[v,_]=$;if(typeof _==="string")e.enqueue(vt.Buffer.from(`Content-Disposition: form-data; name="${v}"\\r\n\\r\n`)),e.enqueue(vt.Buffer.from(_));else{let w="";if(_.name)w=`; filename="${_.name}"`;e.enqueue(vt.Buffer.from(`Content-Disposition: form-data; name="${v}"${w}\\r\n`)),e.enqueue(vt.Buffer.from(`Content-Type: ${_.type||"application/octet-stream"}\\r\n\\r\n`)),t=_.stream()[Symbol.asyncIterator]()}o=!0}}return new nJ.PonyfillReadableStream({start:()=>{r=i.entries()},pull:(e)=>{if(!u)return u=!0,e.enqueue(vt.Buffer.from(`--${n}\\r\n`));if(t)return t.next().then(({done:c,value:$})=>{if(c)t=void 0;if($)return e.enqueue($);else return l(e)});return l(e)},cancel:(e)=>{r?.return?.(e),t?.return?.(e)}})}function N1(i,n,r){return Object.defineProperty(n,"name",{configurable:!0,enumerable:!0,value:r||n.name||i}),n}function E1(i){return i?.arrayBuffer!=null}});var Jo=P((G1)=>{Object.defineProperty(G1,"__esModule",{value:!0});G1.PonyfillBody=void 0;var cn=C("node:buffer"),zn=C("node:stream"),uJ=cf(),Eo=Mn(),Kt=fo(),oJ=He(),H1=Be(),Jn=At(),Ji=pi(),Oi;(function(i){i.ReadableStream="ReadableStream",i.Blob="Blob",i.FormData="FormData",i.String="String",i.Readable="Readable",i.Buffer="Buffer",i.AsyncIterable="AsyncIterable"})(Oi||(Oi={}));class W1{bodyInit;options;bodyUsed=!1;contentType=null;contentLength=null;constructor(i,n={}){this.bodyInit=i,this.options=n;let{bodyFactory:r,contentType:u,contentLength:t,bodyType:o,buffer:l}=lJ(i);this._bodyFactory=r,this.contentType=u,this.contentLength=t,this.bodyType=o,this._buffer=l,this._signal=n.signal}bodyType;_bodyFactory=()=>null;_generatedBody=null;_buffer;_signal;generateBody(){if(this._generatedBody?.readable?.destroyed&&this._buffer)this._generatedBody.readable=zn.Readable.from(this._buffer);if(this._generatedBody)return this._generatedBody;let i=this._bodyFactory();return this._generatedBody=i,i}handleContentLengthHeader(i=!1){let n=this.headers.get("content-type");if(!n){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=n;let r=this.headers.get("content-length");if(i&&this.bodyInit==null&&!r)this.contentLength=0,this.headers.set("content-length","0");if(!r){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(r,10)}get body(){let i=this.generateBody();if(i!=null){let n=i,r=i.readable;return new Proxy(i.readable,{get(u,t){if(t in n){let o=n[t];if(typeof o==="function")return o.bind(n);return o}if(t in r){let o=r[t];if(typeof o==="function")return o.bind(r);return o}}})}return null}_chunks=null;_doCollectChunksFromReadableJob(){if(this.bodyType===Oi.AsyncIterable){if(Array.fromAsync)return(0,Eo.handleMaybePromise)(()=>Array.fromAsync(this.bodyInit),(o)=>{return this._chunks=o,this._chunks});let r=this.bodyInit[Symbol.asyncIterator](),u=[],t=()=>(0,Eo.handleMaybePromise)(()=>r.next(),({value:o,done:l})=>{if(o)u.push(o);if(!l)return t();return this._chunks=u,this._chunks});return t()}let i=this.generateBody();if(!i)return this._chunks=[],(0,Ji.fakePromise)(this._chunks);if(i.readable.destroyed)return(0,Ji.fakePromise)(this._chunks=[]);let n=[];return new Promise((r,u)=>{i.readable.on("data",(t)=>{n.push(t)}),i.readable.once("error",u),i.readable.once("end",()=>{r(this._chunks=n)})})}_collectChunksFromReadable(){if(this._chunks)return(0,Ji.fakePromise)(this._chunks);return this._chunks||=this._doCollectChunksFromReadableJob(),this._chunks}_blob=null;blob(){if(this._blob)return(0,Ji.fakePromise)(this._blob);if(this.bodyType===Oi.String)this._text=this.bodyInit,this._blob=new Kt.PonyfillBlob([this._text],{type:this.contentType||"text/plain;charset=UTF-8",size:this.contentLength});if(this.bodyType===Oi.Blob)return this._blob=this.bodyInit,(0,Ji.fakePromise)(this._blob);if(this._buffer)return this._blob=new Kt.PonyfillBlob([this._buffer],{type:this.contentType||"",size:this.contentLength}),(0,Ji.fakePromise)(this._blob);return(0,Ji.fakePromise)((0,Eo.handleMaybePromise)(()=>this._collectChunksFromReadable(),(i)=>{return this._blob=new Kt.PonyfillBlob(i,{type:this.contentType||"",size:this.contentLength}),this._blob}))}_formData=null;formData(i){if(this._formData)return(0,Ji.fakePromise)(this._formData);if(this.bodyType===Oi.FormData)return this._formData=this.bodyInit,(0,Ji.fakePromise)(this._formData);if(this._formData=new H1.PonyfillFormData,this.generateBody()==null)return(0,Ji.fakePromise)(this._formData);let r={...this.options.formDataLimits,...i?.formDataLimits};return new Promise((u,t)=>{let o=this.body?.readable;if(!o)return t(Error("No stream available"));let l=null,e=new uJ.Busboy({headers:{"content-length":typeof this.contentLength==="number"?this.contentLength.toString():this.contentLength||"","content-type":this.contentType||""},limits:r,defCharset:"utf-8"});if(this._signal)(0,zn.addAbortSignal)(this._signal,e);let c=!1,$=(v)=>{if(c)return;if(c=!0,o.unpipe(e),e.destroy(),l)l.destroy(),l=null;if(v)t(v);else u(this._formData)};o.on("error",$),e.on("field",(v,_,w,h)=>{if(w)return $(Error(`Field name size exceeded: ${r?.fieldNameSize} bytes`));if(h)return $(Error(`Field value size exceeded: ${r?.fieldSize} bytes`));this._formData.set(v,_)}),e.on("file",(v,_,w,h,f)=>{l=_;let U=[];_.on("data",(j)=>{U.push(j)}),_.on("error",$),_.on("limit",()=>{$(Error(`File size limit exceeded: ${r?.fileSize} bytes`))}),_.on("close",()=>{if(_.truncated)$(Error(`File size limit exceeded: ${r?.fileSize} bytes`));l=null;let j=new oJ.PonyfillFile(U,w,{type:f});this._formData.set(v,j)})}),e.on("fieldsLimit",()=>{$(Error(`Fields limit exceeded: ${r?.fields}`))}),e.on("filesLimit",()=>{$(Error(`Files limit exceeded: ${r?.files}`))}),e.on("partsLimit",()=>{$(Error(`Parts limit exceeded: ${r?.parts}`))}),e.on("end",$),e.on("finish",$),e.on("close",$),e.on("error",$),o.pipe(e)})}buffer(){if(this._buffer)return(0,Ji.fakePromise)(this._buffer);if(this._text)return this._buffer=cn.Buffer.from(this._text,"utf-8"),(0,Ji.fakePromise)(this._buffer);if(this.bodyType===Oi.String)return this.text().then((i)=>{return this._text=i,this._buffer=cn.Buffer.from(i,"utf-8"),this._buffer});if(this.bodyType===Oi.Blob){if((0,Kt.hasBufferMethod)(this.bodyInit))return this.bodyInit.buffer().then((i)=>{return this._buffer=i,this._buffer});if((0,Kt.hasBytesMethod)(this.bodyInit))return this.bodyInit.bytes().then((i)=>{return this._buffer=cn.Buffer.from(i),this._buffer});if((0,Kt.hasArrayBufferMethod)(this.bodyInit))return this.bodyInit.arrayBuffer().then((i)=>{return this._buffer=cn.Buffer.from(i,void 0,i.byteLength),this._buffer})}return(0,Ji.fakePromise)((0,Eo.handleMaybePromise)(()=>this._collectChunksFromReadable(),(i)=>{if(i.length===1)return this._buffer=i[0],this._buffer;return this._buffer=cn.Buffer.concat(i),this._buffer}))}bytes(){return this.buffer()}arrayBuffer(){return this.buffer()}_json=null;json(){if(this._json)return(0,Ji.fakePromise)(this._json);return this.text().then((i)=>{try{this._json=JSON.parse(i)}catch(n){if(n instanceof SyntaxError)n.message+=`, "${i}" is not valid JSON`;throw n}return this._json})}_text=null;text(){if(this._text)return(0,Ji.fakePromise)(this._text);if(this.bodyType===Oi.String)return this._text=this.bodyInit,(0,Ji.fakePromise)(this._text);return this.buffer().then((i)=>{return this._text=i.toString("utf-8"),this._text})}}G1.PonyfillBody=W1;function lJ(i){if(i==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof i==="string"){let n=cn.Buffer.byteLength(i);return{bodyType:Oi.String,contentType:"text/plain;charset=UTF-8",contentLength:n,bodyFactory(){let r=zn.Readable.from(cn.Buffer.from(i,"utf-8"));return new Jn.PonyfillReadableStream(r)}}}if(cn.Buffer.isBuffer(i)){let n=i;return{bodyType:Oi.Buffer,contentType:null,contentLength:i.length,buffer:i,bodyFactory(){let r=zn.Readable.from(n);return new Jn.PonyfillReadableStream(r)}}}if((0,Ji.isArrayBufferView)(i)){let n=cn.Buffer.from(i.buffer,i.byteOffset,i.byteLength);return{bodyType:Oi.Buffer,contentLength:i.byteLength,contentType:null,buffer:n,bodyFactory(){let r=zn.Readable.from(n);return new Jn.PonyfillReadableStream(r)}}}if(i instanceof Jn.PonyfillReadableStream&&i.readable!=null){let n=i;return{bodyType:Oi.ReadableStream,bodyFactory:()=>n,contentType:null,contentLength:null}}if(eJ(i)){let n=i;return{bodyType:Oi.Blob,contentType:i.type,contentLength:i.size,bodyFactory(){return n.stream()}}}if(i instanceof ArrayBuffer){let n=i.byteLength,r=cn.Buffer.from(i,void 0,i.byteLength);return{bodyType:Oi.Buffer,contentType:null,contentLength:n,buffer:r,bodyFactory(){let u=zn.Readable.from(r);return new Jn.PonyfillReadableStream(u)}}}if(i instanceof zn.Readable)return{bodyType:Oi.Readable,contentType:null,contentLength:null,bodyFactory(){return new Jn.PonyfillReadableStream(i)}};if(cJ(i))return{bodyType:Oi.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new Jn.PonyfillReadableStream(zn.Readable.from(i.toString()))}};if(gJ(i)){let n=Math.random().toString(36).substr(2),r=`multipart/form-data; boundary=${n}`;return{bodyType:Oi.FormData,contentType:r,contentLength:null,bodyFactory(){return(0,H1.getStreamFromFormData)(i,n)}}}if($J(i))return{contentType:null,contentLength:null,bodyFactory(){return new Jn.PonyfillReadableStream(i)}};if(i[Symbol.iterator]||i[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyType:Oi.AsyncIterable,bodyFactory(){let n=zn.Readable.from(i);return new Jn.PonyfillReadableStream(n)}};throw Error("Unknown body type")}function gJ(i){return i?.forEach!=null}function eJ(i){return i?.stream!=null&&typeof i.stream==="function"}function cJ(i){return i?.sort!=null}function $J(i){return i?.getReader!=null}});var zo=P((S1)=>{Object.defineProperty(S1,"__esModule",{value:!0});S1.PonyfillHeaders=void 0;S1.isHeadersLike=kn;var vJ=C("node:util"),Ae=No();function kn(i){return i?.get&&i?.forEach}class X1{headersInit;_map;objectNormalizedKeysOfHeadersInit=[];objectOriginalKeysOfHeadersInit=[];_setCookies;constructor(i){this.headersInit=i}_get(i){let n=i.toLowerCase();if(n==="set-cookie"&&this._setCookies?.length)return this._setCookies.join(", ");if(this._map)return this._map.get(n)||null;if(this.headersInit==null)return null;if(Array.isArray(this.headersInit)){let r=this.headersInit.filter(([u])=>u.toLowerCase()===n);if(r.length===0)return null;if(r.length===1)return r[0][1];return r.map(([,u])=>u).join(", ")}else if(kn(this.headersInit))return this.headersInit.get(n);else{let r=this.headersInit[i]||this.headersInit[n];if(r!=null)return r;if(!this.objectNormalizedKeysOfHeadersInit.length)Object.keys(this.headersInit).forEach((o)=>{this.objectOriginalKeysOfHeadersInit.push(o),this.objectNormalizedKeysOfHeadersInit.push(o.toLowerCase())});let u=this.objectNormalizedKeysOfHeadersInit.indexOf(n);if(u===-1)return null;let t=this.objectOriginalKeysOfHeadersInit[u];return this.headersInit[t]}}getMap(){if(!this._map)if(this._setCookies||=[],this.headersInit!=null)if(Array.isArray(this.headersInit)){this._map=new Map;for(let[i,n]of this.headersInit){let r=i.toLowerCase();if(r==="set-cookie"){this._setCookies.push(n);continue}this._map.set(r,n)}}else if(kn(this.headersInit))this._map=new Map,this.headersInit.forEach((i,n)=>{if(n==="set-cookie"){this._setCookies||=[],this._setCookies.push(i);return}this._map.set(n,i)});else{this._map=new Map;for(let i in this.headersInit){let n=this.headersInit[i];if(n!=null){let r=i.toLowerCase();if(r==="set-cookie"){this._setCookies||=[],this._setCookies.push(n);continue}this._map.set(r,n)}}}else this._map=new Map;return this._map}append(i,n){let r=i.toLowerCase();if(r==="set-cookie"){this._setCookies||=[],this._setCookies.push(n);return}let u=this.getMap().get(r),t=u?`${u}, ${n}`:n;this.getMap().set(r,t)}get(i){let n=this._get(i);if(n==null)return null;return n.toString()}has(i){if(i.toLowerCase()==="set-cookie")return!!this._setCookies?.length;return!!this._get(i)}set(i,n){let r=i.toLowerCase();if(r==="set-cookie"){this._setCookies=[n];return}if(!this._map&&this.headersInit!=null)if(Array.isArray(this.headersInit)){let u=this.headersInit.find(([t])=>t.toLowerCase()===r);if(u)u[1]=n;else this.headersInit.push([r,n]);return}else if(kn(this.headersInit)){this.headersInit.set(r,n);return}else{this.headersInit[r]=n;return}this.getMap().set(r,n)}delete(i){let n=i.toLowerCase();if(n==="set-cookie"){this._setCookies=[];return}this.getMap().delete(n)}forEach(i){if(this._setCookies?.forEach((n)=>{i(n,"set-cookie",this)}),!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){this.headersInit.forEach(([n,r])=>{i(r,n,this)});return}if(kn(this.headersInit)){this.headersInit.forEach(i);return}Object.entries(this.headersInit).forEach(([n,r])=>{if(r!=null)i(r,n,this)})}return}this.getMap().forEach((n,r)=>{i(n,r,this)})}*_keys(){if(this._setCookies?.length)yield"set-cookie";if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([i])=>i)[Symbol.iterator]();return}if(kn(this.headersInit)){yield*this.headersInit.keys();return}yield*Object.keys(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().keys()}keys(){return new Ae.PonyfillIteratorObject(this._keys(),"HeadersIterator")}*_values(){if(this._setCookies?.length)yield*this._setCookies;if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([,i])=>i)[Symbol.iterator]();return}if(kn(this.headersInit)){yield*this.headersInit.values();return}yield*Object.values(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().values()}values(){return new Ae.PonyfillIteratorObject(this._values(),"HeadersIterator")}*_entries(){if(this._setCookies?.length)yield*this._setCookies.map((i)=>["set-cookie",i]);if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit;return}if(kn(this.headersInit)){yield*this.headersInit.entries();return}yield*Object.entries(this.headersInit);return}}yield*this.getMap().entries()}entries(){return new Ae.PonyfillIteratorObject(this._entries(),"HeadersIterator")}getSetCookie(){if(!this._setCookies)this.getMap();return this._setCookies}[Symbol.iterator](){return this.entries()}[Symbol.for("nodejs.util.inspect.custom")](){let i={};return this.forEach((n,r)=>{if(r==="set-cookie")i["set-cookie"]=this._setCookies||[];else i[r]=n?.includes(",")?n.split(",").map((u)=>u.trim()):n}),`Headers ${(0,vJ.inspect)(i)}`}}S1.PonyfillHeaders=X1});var Vr=P((Y1)=>{Object.defineProperty(Y1,"__esModule",{value:!0});Y1.PonyfillResponse=void 0;var wJ=C("node:http"),hJ=Jo(),Ve=zo(),Br="application/json; charset=utf-8";class Ar extends hJ.PonyfillBody{headers;constructor(i,n){super(i||null,n);this.headers=n?.headers&&(0,Ve.isHeadersLike)(n.headers)?n.headers:new Ve.PonyfillHeaders(n?.headers),this.status=n?.status||200,this.statusText=n?.statusText||wJ.STATUS_CODES[this.status]||"OK",this.url=n?.url||"",this.redirected=n?.redirected||!1,this.type=n?.type||"default",this.handleContentLengthHeader()}get ok(){return this.status>=200&&this.status<300}status;statusText;url;redirected;type;clone(){return this}static error(){return new Ar(null,{status:500,statusText:"Internal Server Error"})}static redirect(i,n=302){if(n<300||n>399)throw RangeError("Invalid status code");return new Ar(null,{headers:{location:i},status:n})}static json(i,n){let r=JSON.stringify(i);if(!n)n={headers:{"content-type":Br,"content-length":Buffer.byteLength(r).toString()}};else if(!n.headers)n.headers={"content-type":Br,"content-length":Buffer.byteLength(r).toString()};else if((0,Ve.isHeadersLike)(n.headers)){if(!n.headers.has("content-type"))n.headers.set("content-type",Br);if(!n.headers.has("content-length"))n.headers.set("content-length",Buffer.byteLength(r).toString())}else if(Array.isArray(n.headers)){let u=!1,t=!1;for(let[o]of n.headers){if(t&&u)break;if(!u&&o.toLowerCase()==="content-type")u=!0;else if(!t&&o.toLowerCase()==="content-length")t=!0}if(!u)n.headers.push(["content-type",Br]);if(!t)n.headers.push(["content-length",Buffer.byteLength(r).toString()])}else if(typeof n.headers==="object"){if(n.headers?.["content-type"]==null)n.headers["content-type"]=Br;if(n.headers?.["content-length"]==null)n.headers["content-length"]=Buffer.byteLength(r).toString()}return new Ar(r,n)}[Symbol.toStringTag]="Response"}Y1.PonyfillResponse=Ar});var V1=P((A1)=>{Object.defineProperty(A1,"__esModule",{value:!0});A1.fetchCurl=OJ;var B1=C("node:stream"),bJ=C("node:tls"),fJ=Mn(),UJ=Vr(),Ke=pi();function OJ(i){let{Curl:n,CurlFeature:r,CurlPause:u,CurlProgressFunc:t}=globalThis.libcurl,o=new n;if(o.enable(r.NoDataParsing),o.setOpt("URL",i.url),process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0")o.setOpt("SSL_VERIFYPEER",!1);if(process.env.NODE_EXTRA_CA_CERTS)o.setOpt("CAINFO",process.env.NODE_EXTRA_CA_CERTS);else o.setOpt("CAINFO_BLOB",bJ.rootCertificates.join(`\n`));o.enable(r.StreamResponse);let l;if(i._signal===null)l=void 0;else if(i._signal)l=i._signal;if(o.setStreamProgressCallback(function(){return l?.aborted?process.env.DEBUG?t.Continue:1:0}),i.bodyType==="String")o.setOpt("POSTFIELDS",i.bodyInit);else{let h=i.body!=null?(0,Ke.isNodeReadable)(i.body)?i.body:B1.Readable.from(i.body):null;if(h)o.setOpt("UPLOAD",!0),o.setUploadStream(h)}if(process.env.DEBUG)o.setOpt("VERBOSE",!0);o.setOpt("TRANSFER_ENCODING",!1),o.setOpt("HTTP_TRANSFER_DECODING",!0),o.setOpt("FOLLOWLOCATION",i.redirect==="follow"),o.setOpt("MAXREDIRS",20),o.setOpt("ACCEPT_ENCODING",""),o.setOpt("CUSTOMREQUEST",i.method);let e=i.headersSerializer||Ke.defaultHeadersSerializer,c,$=e(i.headers,(h)=>{c=Number(h)});if(c!=null)o.setOpt("INFILESIZE",c);o.setOpt("HTTPHEADER",$),o.enable(r.NoHeaderParsing);let v=(0,fJ.createDeferredPromise)(),_;function w(){if(o.isOpen)try{o.pause(u.Recv)}catch(h){v.reject(h)}}return l?.addEventListener("abort",w,{once:!0}),o.once("end",function(){try{o.close()}catch(f){v.reject(f)}l?.removeEventListener("abort",w)}),o.once("error",function(f){if(_&&!_.closed&&!_.destroyed)_.destroy(f);else{if(f.message==="Operation was aborted by an application callback")f.message="The operation was aborted.";v.reject(f)}try{o.close()}catch(U){v.reject(U)}}),o.once("stream",function(f,U,j){let q=f.pipe(new B1.PassThrough,{end:!0}),O=j.toString("utf8").split(/\\r?\\n|\\r/g).filter((I)=>{if(I&&!I.startsWith("HTTP/")){if(i.redirect==="error"&&I.toLowerCase().includes("location")&&(0,Ke.shouldRedirect)(U)){if(!f.destroyed)f.resume();q.destroy(),v.reject(Error("redirect is not allowed"))}return!0}return!1}).map((I)=>I.split(/:\\s(.+)/).slice(0,2)),b=new UJ.PonyfillResponse(q,{status:U,headers:O,url:o.getInfo(n.info.REDIRECT_URL)?.toString()||i.url,redirected:Number(o.getInfo(n.info.REDIRECT_COUNT))>0});v.resolve(b),_=q}),setImmediate(()=>{o.perform()}),v.promise}});var Kr=P((M1)=>{Object.defineProperty(M1,"__esModule",{value:!0});M1.PonyfillURL=void 0;var jJ=Ge(),DJ=jJ.__importDefault(C("node:buffer")),NJ=C("node:crypto"),K1=globalThis.URL;class y1 extends K1{static blobRegistry=new Map;static createObjectURL(i){let n=`blob:whatwgnode:${(0,NJ.randomUUID)()}`;return this.blobRegistry.set(n,i),n}static revokeObjectURL(i){if(!this.blobRegistry.has(i))K1.revokeObjectURL(i);else this.blobRegistry.delete(i)}static getBlobFromURL(i){return this.blobRegistry.get(i)||DJ.default?.resolveObjectURL?.(i)}}M1.PonyfillURL=y1});var qo=P((P1)=>{Object.defineProperty(P1,"__esModule",{value:!0});P1.PonyfillRequest=void 0;var EJ=C("node:http"),JJ=C("node:https"),zJ=Jo(),F1=zo(),qJ=Kr();function HJ(i){return i[Symbol.toStringTag]==="Request"}function WJ(i){return i?.href!=null}class T1 extends zJ.PonyfillBody{constructor(i,n){let r,u,t=null,o;if(typeof i==="string")r=i;else if(WJ(i))u=i;else if(HJ(i)){if(i._parsedUrl)u=i._parsedUrl;else if(i._url)r=i._url;else r=i.url;t=i.body,o=i}if(n!=null)t=n.body||null,o=n;super(t,o);if(this._url=r,this._parsedUrl=u,this.cache=o?.cache||"default",this.credentials=o?.credentials||"same-origin",this.headers=o?.headers&&(0,F1.isHeadersLike)(o.headers)?o.headers:new F1.PonyfillHeaders(o?.headers),this.integrity=o?.integrity||"",this.keepalive=o?.keepalive!=null?o?.keepalive:!1,this.method=o?.method?.toUpperCase()||"GET",this.mode=o?.mode||"cors",this.redirect=o?.redirect||"follow",this.referrer=o?.referrer||"about:client",this.referrerPolicy=o?.referrerPolicy||"no-referrer",this.headersSerializer=o?.headersSerializer,this.duplex=o?.duplex||"half",this.destination="document",this.priority="auto",this.method!=="GET"&&this.method!=="HEAD")this.handleContentLengthHeader(!0);if(o?.agent!=null){let l=u?.protocol||r||this.url;if(o.agent===!1)this.agent=!1;else if(l.startsWith("http:")&&o.agent instanceof EJ.Agent)this.agent=o.agent;else if(l.startsWith("https:")&&o.agent instanceof JJ.Agent)this.agent=o.agent}}headersSerializer;cache;credentials;destination;headers;integrity;keepalive;method;mode;priority;redirect;referrer;referrerPolicy;_url;get signal(){return this._signal||=new AbortController().signal,this._signal}get url(){if(this._url==null)if(this._parsedUrl)this._url=this._parsedUrl.toString();else throw TypeError("Invalid URL");return this._url}_parsedUrl;get parsedUrl(){if(this._parsedUrl==null)if(this._url!=null)this._parsedUrl=new qJ.PonyfillURL(this._url,"http://localhost");else throw TypeError("Invalid URL");return this._parsedUrl}duplex;agent;clone(){return this}[Symbol.toStringTag]="Request"}P1.PonyfillRequest=T1});var a1=P((Z1)=>{Object.defineProperty(Z1,"__esModule",{value:!0});Z1.fetchNodeHttp=d1;var R1=C("node:http"),GJ=C("node:https"),C1=C("node:stream"),Ho=C("node:zlib"),LJ=Mn(),XJ=qo(),SJ=Vr(),mJ=Kr(),_t=pi();function YJ(i){if(i.startsWith("http:"))return R1.request;else if(i.startsWith("https:"))return GJ.request;throw Error(`Unsupported protocol: ${i.split(":")[0]||i}`)}function d1(i){return new Promise((n,r)=>{try{let u=YJ(i.parsedUrl?.protocol||i.url),o=(i.headersSerializer||_t.getHeadersObj)(i.headers);o["accept-encoding"]||="gzip, deflate, br",o["user-agent"]||="node";let l;if(i._signal==null)l=void 0;else if(i._signal)l=i._signal;let e;if(i.parsedUrl)e=u(i.parsedUrl,{method:i.method,headers:o,signal:l,agent:i.agent});else e=u(i.url,{method:i.method,headers:o,signal:l,agent:i.agent});if(e.once("error",r),e.once("response",(c)=>{let $;switch(c.headers["content-encoding"]){case"x-gzip":case"gzip":$=(0,Ho.createGunzip)();break;case"x-deflate":case"deflate":$=(0,Ho.createInflate)();break;case"x-deflate-raw":case"deflate-raw":$=(0,Ho.createInflateRaw)();break;case"br":$=(0,Ho.createBrotliDecompress)();break}if(c.headers.location&&(0,_t.shouldRedirect)(c.statusCode)){if(i.redirect==="error"){let f=Error("Redirects are not allowed");r(f),c.resume();return}if(i.redirect==="follow"){let f=new mJ.PonyfillURL(c.headers.location,i.parsedUrl||i.url),U=d1(new XJ.PonyfillRequest(f,i));n(U.then((j)=>{return j.redirected=!0,j})),c.resume();return}}$||=new C1.PassThrough,(0,_t.pipeThrough)({src:c,dest:$,signal:l,onError:(f)=>{if(!c.destroyed)c.destroy(f);if(!$.destroyed)$.destroy(f);r(f)}});let _=c.statusCode||200,w=c.statusMessage||R1.STATUS_CODES[_];if(w==null)w="";let h=new SJ.PonyfillResponse($||c,{status:_,statusText:w,headers:c.headers,url:i.url,signal:l});n(h)}),i._buffer!=null)(0,LJ.handleMaybePromise)(()=>(0,_t.safeWrite)(i._buffer,e),()=>(0,_t.endStream)(e),r);else{let c=i.body!=null?(0,_t.isNodeReadable)(i.body)?i.body:C1.Readable.from(i.body):null;if(c)c.pipe(e);else(0,_t.endStream)(e)}}catch(u){r(u)}})}});var t4=P((n4)=>{Object.defineProperty(n4,"__esModule",{value:!0});n4.fetchPonyfill=i4;var BJ=C("node:buffer"),Wo=C("node:fs"),AJ=C("node:url"),VJ=V1(),KJ=a1(),yJ=qo(),yt=Vr(),MJ=Kr(),p1=pi(),s1=";base64";async function kJ(i){let n=(0,AJ.fileURLToPath)(i);try{await Wo.promises.access(n,Wo.promises.constants.R_OK);let r=await Wo.promises.stat(n,{bigint:!0}),u=(0,Wo.createReadStream)(n);return new yt.PonyfillResponse(u,{status:200,statusText:"OK",headers:{"content-type":"application/octet-stream","last-modified":r.mtime.toUTCString()}})}catch(r){if(r.code==="ENOENT")return new yt.PonyfillResponse(null,{status:404,statusText:"Not Found"});else if(r.code==="EACCES")return new yt.PonyfillResponse(null,{status:403,statusText:"Forbidden"});throw r}}function FJ(i){let[n="text/plain",...r]=i.substring(5).split(","),u=decodeURIComponent(r.join(","));if(n.endsWith(s1)){let t=BJ.Buffer.from(u,"base64url"),o=n.slice(0,-s1.length);return new yt.PonyfillResponse(t,{status:200,statusText:"OK",headers:{"content-type":o}})}return new yt.PonyfillResponse(u,{status:200,statusText:"OK",headers:{"content-type":n}})}function TJ(i){let n=MJ.PonyfillURL.getBlobFromURL(i);if(!n)throw TypeError("Invalid Blob URL");return new yt.PonyfillResponse(n,{status:200,headers:{"content-type":n.type,"content-length":n.size.toString()}})}function PJ(i){return i!=null&&i.href!=null}function i4(i,n){if(typeof i==="string"||PJ(i)){let u=new yJ.PonyfillRequest(i,n);return i4(u)}let r=i;if(r.url.startsWith("data:")){let u=FJ(r.url);return(0,p1.fakePromise)(u)}if(r.url.startsWith("file:"))return kJ(r.url);if(r.url.startsWith("blob:")){let u=TJ(r.url);return(0,p1.fakePromise)(u)}if(globalThis.libcurl&&!r.agent)return(0,VJ.fetchCurl)(r);return(0,KJ.fetchNodeHttp)(r)}});var ye=P((o4)=>{Object.defineProperty(o4,"__esModule",{value:!0});o4.PonyfillTextDecoder=o4.PonyfillTextEncoder=void 0;o4.PonyfillBtoa=RJ;var yr=C("node:buffer"),CJ=pi();class r4{encoding;constructor(i="utf-8"){this.encoding=i}encode(i){return yr.Buffer.from(i,this.encoding)}encodeInto(i,n){let u=this.encode(i).copy(n);return{read:u,written:u}}}o4.PonyfillTextEncoder=r4;class u4{encoding;fatal=!1;ignoreBOM=!1;constructor(i="utf-8",n){if(this.encoding=i,n)this.fatal=n.fatal||!1,this.ignoreBOM=n.ignoreBOM||!1}decode(i){if(yr.Buffer.isBuffer(i))return i.toString(this.encoding);if((0,CJ.isArrayBufferView)(i))return yr.Buffer.from(i.buffer,i.byteOffset,i.byteLength).toString(this.encoding);return yr.Buffer.from(i).toString(this.encoding)}}o4.PonyfillTextDecoder=u4;function RJ(i){return yr.Buffer.from(i,"binary").toString("base64")}});var c4=P((g4)=>{Object.defineProperty(g4,"__esModule",{value:!0});g4.PonyfillURLSearchParams=void 0;g4.PonyfillURLSearchParams=globalThis.URLSearchParams});var ke=P((_4)=>{Object.defineProperty(_4,"__esModule",{value:!0});_4.PonyfillWritableStream=void 0;var Go=C("node:events"),Me=C("node:stream"),$4=Mn(),Fn=pi();class v4{writable;constructor(i){if(i instanceof Me.Writable)this.writable=i;else if(i){let n=new Me.Writable({write(t,o,l){try{let e=i.write?.(t,u);if(e instanceof Promise)e.then(()=>{l()},(c)=>{l(c)});else l()}catch(e){l(e)}},final(t){let o=i.close?.();if(o instanceof Promise)o.then(()=>{t()},(l)=>{t(l)});else t()}});this.writable=n;let r=new AbortController,u={signal:r.signal,error(t){n.destroy(t)}};n.once("error",(t)=>r.abort(t)),n.once("close",()=>r.abort())}else this.writable=new Me.Writable}getWriter(){let i=this.writable;return{get closed(){return(0,Go.once)(i,"close")},get desiredSize(){return i.writableLength},get ready(){return(0,Go.once)(i,"drain")},releaseLock(){},write(n){let r=(0,Fn.fakePromise)();if(n==null)return r;return r.then(()=>(0,Fn.safeWrite)(n,i))},close(){if(!i.errored&&i.closed)return(0,Fn.fakePromise)();if(i.errored)return(0,$4.fakeRejectPromise)(i.errored);return(0,Fn.fakePromise)().then(()=>(0,Fn.endStream)(i))},abort(n){return i.destroy(n),(0,Go.once)(i,"close")}}}close(){if(!this.writable.errored&&this.writable.closed)return(0,Fn.fakePromise)();if(this.writable.errored)return(0,$4.fakeRejectPromise)(this.writable.errored);return(0,Fn.fakePromise)().then(()=>(0,Fn.endStream)(this.writable))}abort(i){return this.writable.destroy(i),(0,Go.once)(this.writable,"close")}locked=!1}_4.PonyfillWritableStream=v4});var Mr=P((b4)=>{Object.defineProperty(b4,"__esModule",{value:!0});b4.PonyfillTransformStream=void 0;var Fe=C("node:stream"),aJ=At(),pJ=pi(),sJ=ke();class h4{transform;writable;readable;constructor(i){if(i instanceof Fe.Transform)this.transform=i;else if(i){let n={enqueue(u){r.push(u)},error(u){r.destroy(u)},terminate(){(0,pJ.endStream)(r)},get desiredSize(){return r.writableLength}},r=new Fe.Transform({read(){},write(u,t,o){try{let l=i.transform?.(u,n);if(l instanceof Promise)l.then(()=>{o()},(e)=>{o(e)});else o()}catch(l){o(l)}},final(u){try{let t=i.flush?.(n);if(t instanceof Promise)t.then(()=>{u()},(o)=>{u(o)});else u()}catch(t){u(t)}}});this.transform=r}else this.transform=new Fe.Transform;this.writable=new sJ.PonyfillWritableStream(this.transform),this.readable=new aJ.PonyfillReadableStream(this.transform)}}b4.PonyfillTransformStream=h4});var j4=P((O4)=>{Object.defineProperty(O4,"__esModule",{value:!0});O4.PonyfillCompressionStream=void 0;var Lo=C("node:zlib"),iz=Mr();class U4 extends iz.PonyfillTransformStream{static supportedFormats=globalThis.process?.version?.startsWith("v2")?["gzip","deflate","br"]:["gzip","deflate","deflate-raw","br"];constructor(i){switch(i){case"x-gzip":case"gzip":super((0,Lo.createGzip)());break;case"x-deflate":case"deflate":super((0,Lo.createDeflate)());break;case"deflate-raw":super((0,Lo.createDeflateRaw)());break;case"br":super((0,Lo.createBrotliCompress)());break;default:throw Error(`Unsupported compression format: ${i}`)}}}O4.PonyfillCompressionStream=U4});var J4=P((N4)=>{Object.defineProperty(N4,"__esModule",{value:!0});N4.PonyfillDecompressionStream=void 0;var Xo=C("node:zlib"),nz=Mr();class D4 extends nz.PonyfillTransformStream{static supportedFormats=globalThis.process?.version?.startsWith("v2")?["gzip","deflate","br"]:["gzip","deflate","deflate-raw","br"];constructor(i){switch(i){case"x-gzip":case"gzip":super((0,Xo.createGunzip)());break;case"x-deflate":case"deflate":super((0,Xo.createInflate)());break;case"deflate-raw":super((0,Xo.createInflateRaw)());break;case"br":super((0,Xo.createBrotliDecompress)());break;default:throw TypeError(`Unsupported compression format: \'${i}\'`)}}}N4.PonyfillDecompressionStream=D4});var X4=P((G4)=>{Object.defineProperty(G4,"__esModule",{value:!0});G4.PonyfillTextEncoderStream=G4.PonyfillTextDecoderStream=void 0;var z4=ye(),q4=Mr();class H4 extends q4.PonyfillTransformStream{textDecoder;constructor(i,n){super({transform:(r,u)=>u.enqueue(this.textDecoder.decode(r,{stream:!0}))});this.textDecoder=new z4.PonyfillTextDecoder(i,n)}get encoding(){return this.textDecoder.encoding}get fatal(){return this.textDecoder.fatal}get ignoreBOM(){return this.textDecoder.ignoreBOM}}G4.PonyfillTextDecoderStream=H4;class W4 extends q4.PonyfillTransformStream{textEncoder;constructor(i){super({transform:(n,r)=>r.enqueue(this.textEncoder.encode(n))});this.textEncoder=new z4.PonyfillTextEncoder(i)}get encoding(){return this.textEncoder.encoding}encode(i){return this.textEncoder.encode(i)}}G4.PonyfillTextEncoderStream=W4});var m4=P((ei)=>{Object.defineProperty(ei,"__esModule",{value:!0});ei.TextEncoderStream=ei.TextDecoderStream=ei.IteratorObject=ei.DecompressionStream=ei.CompressionStream=ei.TransformStream=ei.WritableStream=ei.URLSearchParams=ei.URL=ei.btoa=ei.TextDecoder=ei.TextEncoder=ei.Blob=ei.FormData=ei.File=ei.ReadableStream=ei.Response=ei.Request=ei.Body=ei.Headers=ei.fetch=void 0;var rz=t4();Object.defineProperty(ei,"fetch",{enumerable:!0,get:function(){return rz.fetchPonyfill}});var uz=zo();Object.defineProperty(ei,"Headers",{enumerable:!0,get:function(){return uz.PonyfillHeaders}});var oz=Jo();Object.defineProperty(ei,"Body",{enumerable:!0,get:function(){return oz.PonyfillBody}});var lz=qo();Object.defineProperty(ei,"Request",{enumerable:!0,get:function(){return lz.PonyfillRequest}});var gz=Vr();Object.defineProperty(ei,"Response",{enumerable:!0,get:function(){return gz.PonyfillResponse}});var ez=At();Object.defineProperty(ei,"ReadableStream",{enumerable:!0,get:function(){return ez.PonyfillReadableStream}});var cz=He();Object.defineProperty(ei,"File",{enumerable:!0,get:function(){return cz.PonyfillFile}});var $z=Be();Object.defineProperty(ei,"FormData",{enumerable:!0,get:function(){return $z.PonyfillFormData}});var vz=fo();Object.defineProperty(ei,"Blob",{enumerable:!0,get:function(){return vz.PonyfillBlob}});var Te=ye();Object.defineProperty(ei,"TextEncoder",{enumerable:!0,get:function(){return Te.PonyfillTextEncoder}});Object.defineProperty(ei,"TextDecoder",{enumerable:!0,get:function(){return Te.PonyfillTextDecoder}});Object.defineProperty(ei,"btoa",{enumerable:!0,get:function(){return Te.PonyfillBtoa}});var _z=Kr();Object.defineProperty(ei,"URL",{enumerable:!0,get:function(){return _z.PonyfillURL}});var wz=c4();Object.defineProperty(ei,"URLSearchParams",{enumerable:!0,get:function(){return wz.PonyfillURLSearchParams}});var hz=ke();Object.defineProperty(ei,"WritableStream",{enumerable:!0,get:function(){return hz.PonyfillWritableStream}});var bz=Mr();Object.defineProperty(ei,"TransformStream",{enumerable:!0,get:function(){return bz.PonyfillTransformStream}});var fz=j4();Object.defineProperty(ei,"CompressionStream",{enumerable:!0,get:function(){return fz.PonyfillCompressionStream}});var Uz=J4();Object.defineProperty(ei,"DecompressionStream",{enumerable:!0,get:function(){return Uz.PonyfillDecompressionStream}});var Oz=No();Object.defineProperty(ei,"IteratorObject",{enumerable:!0,get:function(){return Oz.PonyfillIteratorObject}});var S4=X4();Object.defineProperty(ei,"TextDecoderStream",{enumerable:!0,get:function(){return S4.PonyfillTextDecoderStream}});Object.defineProperty(ei,"TextEncoderStream",{enumerable:!0,get:function(){return S4.PonyfillTextEncoderStream}})});var Q4=P((IA,Y4)=>{var jz=dg(),ci;Y4.exports=function(n={}){let r={};if(r.URLPattern=globalThis.URLPattern,!r.URLPattern){let u=Jb();r.URLPattern=u.URLPattern}if(n.skipPonyfill||jz())return{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,FormData:globalThis.FormData,ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,CompressionStream:globalThis.CompressionStream,DecompressionStream:globalThis.DecompressionStream,TextDecoderStream:globalThis.TextDecoderStream,TextEncoderStream:globalThis.TextEncoderStream,Blob:globalThis.Blob,File:globalThis.File,crypto:globalThis.crypto,btoa:globalThis.btoa,TextEncoder:globalThis.TextEncoder,TextDecoder:globalThis.TextDecoder,URLPattern:r.URLPattern,URL:globalThis.URL,URLSearchParams:globalThis.URLSearchParams};if(ci||=m4(),r.fetch=ci.fetch,r.Request=ci.Request,r.Response=ci.Response,r.Headers=ci.Headers,r.FormData=ci.FormData,r.ReadableStream=ci.ReadableStream,r.URL=ci.URL,r.URLSearchParams=ci.URLSearchParams,r.WritableStream=ci.WritableStream,r.TransformStream=ci.TransformStream,r.CompressionStream=ci.CompressionStream,r.DecompressionStream=ci.DecompressionStream,r.TextDecoderStream=ci.TextDecoderStream,r.TextEncoderStream=ci.TextEncoderStream,r.Blob=ci.Blob,r.File=ci.File,r.crypto=globalThis.crypto,r.btoa=ci.btoa,r.TextEncoder=ci.TextEncoder,r.TextDecoder=ci.TextDecoder,n.formDataLimits)r.Body=class extends ci.Body{constructor(t,o){super(t,{formDataLimits:n.formDataLimits,...o})}},r.Request=class extends ci.Request{constructor(t,o){super(t,{formDataLimits:n.formDataLimits,...o})}},r.Response=class extends ci.Response{constructor(t,o){super(t,{formDataLimits:n.formDataLimits,...o})}};if(!r.crypto){let u=C("crypto");r.crypto=u.webcrypto}return r}});var M0="x-blink-invocation-token";var k0="INTERNAL_BLINK_API_SERVER_URL",Tg="INTERNAL_BLINK_API_SERVER_LISTEN_PORT",F0="BLINK_DEPLOYMENT_TOKEN",au="BLINK_INVOCATION_AUTH_TOKEN";import{AsyncLocalStorage as KD}from"node:async_hooks";var Pg=Symbol.for("@blink/authContext");function xg(){let i=globalThis;return i[Pg]||(i[Pg]=new KD),i[Pg]}var yD=xg();function pu(){return xg().getStore()?.authToken}function Cg(i,n){return xg().run({authToken:i},n)}import J8 from"http";import{resolve as z8}from"node:path";class su{baseURL;authToken;deploymentToken;constructor(i){this.baseURL=i?.baseURL??"https://blink.so",this.authToken=i?.authToken,this.deploymentToken=i?.deploymentToken}async deleteStorage(i){let n=await this.request("DELETE",`/api/agents/me/storage/${encodeURIComponent(i)}`);await this.assertResponseStatus(n,204)}async setStorage(i,n,r){let u=new URLSearchParams;if(r?.ttl)u.set("ttl",r.ttl.toString());let t=await this.request("PUT",`/api/agents/me/storage/${encodeURIComponent(i)}?${u.toString()}`,n);await this.assertResponseStatus(t,204)}async getStorage(i){let n=await this.request("GET",`/api/agents/me/storage/${encodeURIComponent(i)}`);if(n.status===404)return;return await this.assertResponseStatus(n,200),await n.text()}async listStorage(i,n){let r=await this.request("GET","/api/agents/me/storage",JSON.stringify({prefix:i,limit:n?.limit,cursor:n?.cursor}));return await this.assertResponseStatus(r,200),await r.json()}async upsertChat(i){let n=await this.request("PUT",`/api/agents/me/chats/${encodeURIComponent(i)}`);if(n.status!==200&&n.status!==204)await this.assertResponseStatus(n,200);return await n.json()}async sendMessages(i,n){let r=await this.request("POST",`/api/agents/me/chats/${encodeURIComponent(i)}/messages`,JSON.stringify(n));await this.assertResponseStatus(r,204)}async getChat(i){let n=await this.request("GET",`/api/agents/me/chats/${encodeURIComponent(i)}`);if(n.status===404)return;return await this.assertResponseStatus(n,200),await n.json()}async deleteChat(i){let n=await this.request("DELETE",`/api/agents/me/chats/${encodeURIComponent(i)}`);await this.assertResponseStatus(n,204)}async startChat(i){let n=await this.request("POST",`/api/agents/me/chats/${encodeURIComponent(i)}/start`);await this.assertResponseStatus(n,204)}async stopChat(i){let n=await this.request("POST",`/api/agents/me/chats/${encodeURIComponent(i)}/stop`);await this.assertResponseStatus(n,204)}async getMessages(i){let n=await this.request("GET",`/api/agents/me/chats/${encodeURIComponent(i)}/messages`);return await this.assertResponseStatus(n,200),await n.json()}async deleteMessages(i,n){let r=await this.request("POST",`/api/agents/me/chats/${encodeURIComponent(i)}/messages/delete`,JSON.stringify({message_ids:n}));await this.assertResponseStatus(r,204)}async proxyOtlpTraces(i){if(!this.authToken&&!this.deploymentToken){if((i.headers.get("content-type")?.toLowerCase()||"").includes("application/x-protobuf"))return new Response(new Uint8Array(0),{status:200,headers:{"Content-Type":"application/x-protobuf"}});return new Response(JSON.stringify({}),{status:200,headers:{"Content-Type":"application/json"}})}let n=new Set(["transfer-encoding","content-length","host","connection","keep-alive","proxy-authenticate","proxy-authorization","te","trailer","upgrade"]),r={};if(i.headers.forEach((u,t)=>{if(n.has(t.toLowerCase()))return;r[t]=u}),this.deploymentToken)r.Authorization=`Bearer ${this.deploymentToken}`;else if(this.authToken)r.Authorization=`Bearer ${this.authToken}`;return this.request(i.method,"/api/otlp/v1/traces",i.body??void 0,{headers:r})}async assertResponseStatus(i,n){if(i.status===n)return;let r=await i.text();try{let u=JSON.parse(r);if(u.error)throw Error(u.error);throw Error(r)}catch(u){throw Error(`Expected status ${n}, got ${i.status}: ${r}`)}}request(i,n,r,u){let t=new URL(n,this.baseURL),o=new Headers;if(this.authToken)o.set("Authorization",`Bearer ${this.authToken}`);if(typeof r==="string")o.set("Content-Type","application/json");if(u?.headers)for(let[e,c]of Object.entries(u.headers))o.set(e,c);let l;if(u?.timeout)l=AbortSignal.timeout(u.timeout);return fetch(t.toString(),{method:i,headers:o,body:r,signal:l,duplex:r?"half":void 0})}}var io=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function Nn(i){return i?.then!=null}function MD(i){let n=i;return n&&n.then&&n.catch&&n.finally}function Di(i,n,r,u){let t=Ei().then(i).then(n,r);if(u)t=t.finally(u);return Rg(t)}function Ei(i){if(i&&MD(i))return i;if(Nn(i))return{then:(n,r)=>Ei(i.then(n,r)),catch:(n)=>Ei(i.then((r)=>r,n)),finally:(n)=>Ei(n?TD(i,n):i),[Symbol.toStringTag]:"Promise"};return{then(n){if(n)try{return Ei(n(i))}catch(r){return Wr(r)}return this},catch(){return this},finally(n){if(n)try{return Ei(n()).then(()=>i,()=>i)}catch(r){return Wr(r)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:i,[io]:"resolved"}}function T0(){if(Promise.withResolvers)return Promise.withResolvers();let i,n;return{promise:new Promise(function(t,o){i=t,n=o}),get resolve(){return i},get reject(){return n}}}function no(i,n,r){if(i?.length===0)return;let u=i[Symbol.iterator](),t=0;function o(){let{done:l,value:e}=u.next();if(l)return;let c=!1;function $(){c=!0}return Di(function(){return n(e,$,t++)},function(_){if(_)r?.push(_);if(c)return;return o()})}return o()}function Wr(i){return{then(n,r){if(r)try{return Ei(r(i))}catch(u){return Wr(u)}return this},catch(n){if(n)try{return Ei(n(i))}catch(r){return Wr(r)}return this},finally(n){if(n)try{n()}catch(r){return Wr(r)}return this},__fakeRejectError:i,[Symbol.toStringTag]:"Promise",[io]:"rejected"}}function kD(i){return i?.[io]==="resolved"}function FD(i){return i?.[io]==="rejected"}function TD(i,n){if("finally"in i)return i.finally(n);return i.then((r)=>{let u=n();return Nn(u)?u.then(()=>r):r},(r)=>{let u=n();if(Nn(u))return u.then(()=>{throw r});else throw r})}function Rg(i){if(kD(i))return i.__fakePromiseValue;if(FD(i))throw i.__fakeRejectError;return i}function P0(i,n){let r={...n,...i};for(let u of Object.keys(r))if(u in i&&u in n)r[u]=(t,o)=>i[u](t,()=>n[u](t,o));return r}var x0=(i)=>({fn(n,r){if(!n)return r;return(...u)=>{let t;return n(i,()=>{t=r(...u)}),t}},asyncFn(n,r){if(!n)return r;return(...u)=>{let t;return Di(()=>n(i,()=>{return t=r(...u),Nn(t)?t.then(()=>{return}):void 0}),()=>{return t})}}});class lt extends Error{error;suppressed;constructor(i,n,r){super(r);this.error=i,this.suppressed=n,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}}var Hi={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function to(i){return i?.[Hi.dispose]!=null}function C0(i){return i?.[Hi.asyncDispose]!=null}var PD=globalThis.SuppressedError||lt;class ro{callbacks=[];get disposed(){return this.callbacks.length===0}use(i){if(C0(i))this.callbacks.push(()=>i[Hi.asyncDispose]());else if(to(i))this.callbacks.push(()=>i[Hi.dispose]());return i}adopt(i,n){if(n)this.callbacks.push(()=>n(i));return i}defer(i){if(i)this.callbacks.push(i)}move(){let i=new ro;return i.callbacks=this.callbacks,this.callbacks=[],i}disposeAsync(){return this[Hi.asyncDispose]()}_error;_iterateCallbacks(){let i=this.callbacks.pop();if(i)return Di(i,()=>this._iterateCallbacks(),(n)=>{return this._error=this._error?new PD(n,this._error):n,this._iterateCallbacks()})}[Hi.asyncDispose](){let i=this._iterateCallbacks();if(i?.then)return i.then(()=>{if(this._error){let n=this._error;throw this._error=void 0,n}});if(this._error){let n=this._error;throw this._error=void 0,n}return}[Symbol.toStringTag]="AsyncDisposableStack"}var xD=globalThis.SuppressedError||lt;class uo{callbacks=[];get disposed(){return this.callbacks.length===0}use(i){if(to(i))this.callbacks.push(()=>i[Hi.dispose]());return i}adopt(i,n){if(n)this.callbacks.push(()=>n(i));return i}defer(i){if(i)this.callbacks.push(i)}move(){let i=new uo;return i.callbacks=this.callbacks,this.callbacks=[],i}dispose(){return this[Hi.dispose]()}_error;_iterateCallbacks(){let i=this.callbacks.pop();if(i){try{i()}catch(n){this._error=this._error?new xD(n,this._error):n}return this._iterateCallbacks()}}[Hi.dispose](){if(this._iterateCallbacks(),this._error){let i=this._error;throw this._error=void 0,i}}[Symbol.toStringTag]="DisposableStack"}var tB=globalThis.DisposableStack||uo,R0=globalThis.AsyncDisposableStack||ro,rB=globalThis.SuppressedError||lt;var Pe={};ln(Pe,{fetch:()=>A4,crypto:()=>a4,createFetch:()=>u6,btoa:()=>p4,WritableStream:()=>F4,URLSearchParams:()=>r6,URLPattern:()=>n6,URL:()=>t6,TransformStream:()=>T4,TextEncoderStream:()=>R4,TextEncoder:()=>s4,TextDecoderStream:()=>C4,TextDecoder:()=>i6,Response:()=>y4,Request:()=>K4,ReadableStream:()=>k4,Headers:()=>V4,FormData:()=>M4,File:()=>Z4,DecompressionStream:()=>x4,CompressionStream:()=>P4,Blob:()=>d4});var B4=Q4(),Dz=dg(),wi=B4();if(!Dz())try{globalThis.libcurl=globalThis.libcurl||(()=>{throw new Error("Cannot require module "+"node-libcurl");})()}catch(i){}var{fetch:A4,Headers:V4,Request:K4,Response:y4,FormData:M4,ReadableStream:k4,WritableStream:F4,TransformStream:T4,CompressionStream:P4,DecompressionStream:x4,TextDecoderStream:C4,TextEncoderStream:R4,Blob:d4,File:Z4,crypto:a4,btoa:p4,TextEncoder:s4,TextDecoder:i6,URLPattern:n6,URL:t6,URLSearchParams:r6}=wi,u6=B4;function l6(i){return i!=null&&typeof i==="object"&&typeof i[Symbol.asyncIterator]==="function"}function Nz(i){if(i.socket?.localPort)return i.socket?.localPort;let r=(i.headers?.[":authority"]||i.headers?.host)?.split(":")?.[1];if(r)return r;return 80}function Ez(i){if(i.headers?.[":authority"])return i.headers?.[":authority"];if(i.headers?.host)return i.headers?.host;let n=Nz(i);if(i.hostname)return i.hostname+":"+n;let r=i.socket?.localAddress;if(r&&!r?.includes("::")&&!r?.includes("ffff"))return`${r}:${n}`;return"localhost"}function Jz(i){let n=Ez(i),r=i.protocol||(i.socket?.encrypted?"https":"http"),u=i.originalUrl||i.url||"/graphql";return`${r}://${n}${u}`}function zz(i){let n=i[Symbol.toStringTag];if(typeof i==="string"||n==="Uint8Array"||n==="Blob"||n==="FormData"||n==="URLSearchParams"||l6(i))return!0;return!1}function xe(i,n,r,u){let t=i.raw||i.req||i,o=Jz(t);if(i.query){let $=new n.URL(o);for(let v in i.query)$.searchParams.set(v,i.query[v]);o=$.toString()}let l=i.headers;if(i.headers?.[":method"]){l={};for(let $ in i.headers)if(!$.startsWith(":"))l[$]=i.headers[$]}let e=u?ae():new AbortController;if(r?.once){let $=()=>{if(!e.signal.aborted)Object.defineProperty(t,"aborted",{value:!0}),e.abort(r.errored??void 0)};r.once("error",$),r.once("close",$),r.once("finish",()=>{r.removeListener("close",$)})}if(i.method==="GET"||i.method==="HEAD")return new n.Request(o,{method:i.method,headers:l,signal:e.signal});let c=i.body;if(c!=null&&Object.keys(c).length>0){if(zz(c))return new n.Request(o,{method:i.method||"GET",headers:l,body:c,signal:e.signal});let $=new n.Request(o,{method:i.method||"GET",headers:l,signal:e.signal});if(!$.headers.get("content-type")?.includes("json"))$.headers.set("content-type","application/json; charset=utf-8");return new Proxy($,{get:(v,_,w)=>{switch(_){case"json":return()=>Ei(c);case"text":return()=>Ei(JSON.stringify(c));default:if(globalThis.Bun)return Reflect.get(v,_);return Reflect.get(v,_,w)}}})}return new n.Request(o,{method:i.method,headers:l,signal:e.signal,body:t,duplex:"half"})}function g6(i){return i.read!=null}function e6(i){return g6(i)}function Ce(i){return i!=null&&i.setHeader!=null&&i.end!=null&&i.once!=null&&i.write!=null}function qz(i){return i!=null&&i.getReader!=null}function c6(i){return i!=null&&i.request!=null&&i.respondWith!=null}function Hz(i){i?.socket?.setTimeout?.(0),i?.socket?.setNoDelay?.(!0),i?.socket?.setKeepAlive?.(!0)}function wt(i){i.end(null,null,null)}function Wz(i,n){let r=!1,u=()=>{r=!0};i.once("error",u),i.once("close",u),i.once("finish",()=>{i.removeListener("close",u),i.removeListener("error",u)});let t=n[Symbol.asyncIterator](),o=()=>t.next().then(({done:l,value:e})=>{if(r||l)return;return Di(()=>kr(e,i),()=>r?wt(i):o())});return o()}function kr(i,n){if(!n.write(i))return new Promise((u)=>n.once("drain",u))}function $6(i,n,r,u){if(n.closed||n.destroyed||n.writableEnded)return;if(!i){n.statusCode=404,wt(n);return}if(u&&i.headers?.headersInit&&!Array.isArray(i.headers.headersInit)&&!i.headers.headersInit.get&&!i.headers._map&&!i.headers._setCookies?.length)n.writeHead(i.status,i.statusText,i.headers.headersInit);else{if(n.setHeaders)n.setHeaders(i.headers);else{let l=!1;i.headers.forEach((e,c)=>{if(c==="set-cookie"){if(l)return;l=!0;let $=i.headers.getSetCookie?.();if($){n.setHeader("set-cookie",$);return}}n.setHeader(c,e)})}n.writeHead(i.status,i.statusText)}if(i.bodyType==="String")return Di(()=>kr(i.bodyInit,n),()=>wt(n));let t=i._buffer;if(t)return Di(()=>kr(t,n),()=>wt(n));let o=i.body;if(o==null){wt(n);return}if(o[Symbol.toStringTag]==="Uint8Array")return Di(()=>kr(o,n),()=>wt(n));if(Hz(r),g6(o)){n.once("close",()=>{o.destroy()}),o.pipe(n,{end:!0});return}if(qz(o))return Gz(r,n,o);if(l6(o))return Wz(n,o)}function Gz(i,n,r){let u=r.getReader();i?.once?.("error",(o)=>{u.cancel(o)});function t(){return u.read().then(({done:o,value:l})=>o?wt(n):Di(()=>kr(l,n),t))}return t()}function v6(i){return i!=null&&typeof i==="object"&&(("body"in i)||("cache"in i)||("credentials"in i)||("headers"in i)||("integrity"in i)||("keepalive"in i)||("method"in i)||("mode"in i)||("redirect"in i)||("referrer"in i)||("referrerPolicy"in i)||("signal"in i)||("window"in i))}function ht(...i){let[n,...r]=i.filter((u)=>u!=null&&typeof u==="object");return r.forEach((u)=>{let t=Object.getOwnPropertyNames(u).reduce((o,l)=>{if(Object.getOwnPropertyDescriptor(u,l))o[l]=Object.getOwnPropertyDescriptor(u,l);return o},{});Object.getOwnPropertySymbols(u).forEach((o)=>{let l=Object.getOwnPropertyDescriptor(u,o);if(l?.enumerable)t[o]=l}),Object.defineProperties(n,t)}),n}function Re(i,n){return new n(i.stack||i.message||i.toString(),{status:i.status||500})}function de(i,n){if(i==null){if(n==null)return{};return{waitUntil:n}}return ht(Object.create(i),{waitUntil:n},i)}function Ze(i,n){if(n?.aborted)throw n.reason;if(Nn(i)&&n){let u=function(){r.reject(n.reason)},r=T0();return n.addEventListener("abort",u,{once:!0}),i.then(function(o){r.resolve(o)}).catch(function(o){r.reject(o)}).finally(()=>{n.removeEventListener("abort",u)}),r.promise}return i}var Lz=["SIGINT","exit","SIGTERM"],So=new Set,o6=!1;function Xz(){if(o6)return;o6=!0;for(let i of Lz)globalThis.process.once(i,function(){return Promise.allSettled([...So].map((r)=>!r.disposed&&r.disposeAsync()))})}function _6(i){if(globalThis.process){if(Xz(),!So.has(i))So.add(i),i.defer(()=>{So.delete(i)})}}class w6 extends EventTarget{aborted=!1;_onabort=null;_reason;constructor(){super();let i=globalThis.process?.getBuiltinModule?.("node:events");if(i?.kMaxEventTargetListeners)this[i.kMaxEventTargetListeners]=0}throwIfAborted(){if(this._nativeCtrl?.signal?.throwIfAborted)return this._nativeCtrl.signal.throwIfAborted();if(this.aborted)throw this._reason}_nativeCtrl;ensureNativeCtrl(){if(!this._nativeCtrl){let i=this.aborted;if(this._nativeCtrl=new AbortController,i)this._nativeCtrl.abort(this._reason)}return this._nativeCtrl}abort(i){if(this._nativeCtrl?.abort)return this._nativeCtrl?.abort(i);this._reason=i||new DOMException("This operation was aborted","AbortError"),this.aborted=!0,this.dispatchEvent(new Event("abort"))}get signal(){if(this._nativeCtrl?.signal)return this._nativeCtrl.signal;return this}get reason(){if(this._nativeCtrl?.signal)return this._nativeCtrl.signal.reason;return this._reason}get onabort(){if(this._onabort)return this._onabort;return this._onabort}set onabort(i){if(this._nativeCtrl?.signal){this._nativeCtrl.signal.onabort=i;return}if(this._onabort)this.removeEventListener("abort",this._onabort);if(this._onabort=i,i)this.addEventListener("abort",i)}}function ae(){if(globalThis.Bun||globalThis.Deno)return new AbortController;return new Proxy(new w6,{get(i,n,r){if(n.toString().includes("kDependantSignals")){let u=i.ensureNativeCtrl();return Reflect.get(u.signal,n,u.signal)}return Reflect.get(i,n,r)},set(i,n,r,u){if(n.toString().includes("kDependantSignals")){let t=i.ensureNativeCtrl();return Reflect.set(t.signal,n,r,t.signal)}return Reflect.set(i,n,r,u)},getPrototypeOf(){return AbortSignal.prototype}})}function h6(i){return!!i.onData}function b6({req:i,res:n,fetchAPI:r,controller:u}){let t=i.getMethod(),o,l=[],e=[(I)=>{l.push(I)}],c=(I)=>{for(let z of e)z(I)},$=!1,v=[()=>{$=!0}],_=()=>{for(let I of v)I()};n.onData(function(I,z){if(c(Buffer.from(Buffer.from(I,0,I.byteLength))),z)_()});let w;if(t!=="get"&&t!=="head"){o="half",u.signal.addEventListener("abort",()=>{_()},{once:!0});let I;w=()=>{if(!I)I=new r.ReadableStream({start(z){for(let Y of l)z.enqueue(Y);if($){z.close();return}e.push((Y)=>{z.enqueue(Y)}),v.push(()=>{if(u.signal.reason){z.error(u.signal.reason);return}if(z.desiredSize)z.close()})}});return I}}let h=new r.Headers;i.forEach((I,z)=>{h.append(I,z)});let f=`http://localhost${i.getUrl()}`,U=i.getQuery();if(U)f+=`?${U}`;let j;function q(){if(!w)return null;if($)return O();return w()}let D=new r.Request(f,{method:t,headers:h,get body(){return q()},signal:u.signal,duplex:o});function O(){if(!j)j=l.length===1?l[0]:Buffer.concat(l);return j}function b(){if($)return Ei(O());return new Promise((I,z)=>{try{v.push(()=>{I(O())})}catch(Y){z(Y)}})}return Object.defineProperties(D,{body:{get(){return q()},configurable:!0,enumerable:!0},json:{value(){return b().then((I)=>I.toString("utf8")).then((I)=>JSON.parse(I))},configurable:!0,enumerable:!0},text:{value(){return b().then((I)=>I.toString("utf8"))},configurable:!0,enumerable:!0},arrayBuffer:{value(){return b()},configurable:!0,enumerable:!0}}),D}function Sz(i,n){return new n.WritableStream({write(r){i.cork(()=>{i.write(r)})},close(){i.cork(()=>{i.end()})}})}function f6(i,n,r,u){if(!n){i.writeStatus("404 Not Found"),i.end();return}let t=n._buffer,o=n.bodyType==="String"?n.bodyInit:void 0;if(r.signal.aborted)return;if(i.cork(()=>{i.writeStatus(`${n.status} ${n.statusText}`);for(let[l,e]of n.headers)if(l!=="content-length"){if(l==="set-cookie"){let c=n.headers.getSetCookie?.();if(c){for(let $ of c)i.writeHeader(l,$);continue}}i.writeHeader(l,e)}if(o)i.end(o);else if(t)i.end(t);else if(!n.body)i.end()}),o||t||!n.body)return;return r.signal.addEventListener("abort",()=>{if(!n.body?.locked)n.body?.cancel(r.signal.reason)},{once:!0}),n.body.pipeTo(Sz(i,u),{signal:r.signal}).catch((l)=>{if(r.signal.aborted)return;throw l})}function mz(i){try{return!!i?.request}catch{return!1}}var Yz={};function pe(i,n){let r=n?.__useSingleWriteHead==null?!0:n.__useSingleWriteHead,u={...Pe,...n?.fetchAPI},t=n?.__useCustomAbortCtrl==null?u.Request!==globalThis.Request:n.__useCustomAbortCtrl,o=typeof i==="function"?i:i.handle,l=[],e=[],c,$=new Set,v;function _(){if(!v){if(v=new R0,n?.disposeOnProcessTerminate)_6(v);v.defer(()=>{if($.size>0)return Promise.allSettled($).then(()=>{$.clear()},()=>{$.clear()})})}return v}function w(E){if(Nn(E))_(),$.add(E),E.then(()=>{$.delete(E)},(S)=>{console.error(`Unexpected error while waiting: ${S.message||S}`),$.delete(E)})}if(n?.plugins!=null)for(let E of n.plugins){if(E.instrumentation)c=c?P0(c,E.instrumentation):E.instrumentation;if(E.onRequest)l.push(E.onRequest);if(E.onResponse)e.push(E.onResponse);let S=E[Hi.dispose];if(S)_().defer(S);let K=E[Hi.asyncDispose];if(K)_().defer(K);if(E.onDispose)_().defer(E.onDispose)}let h=l.length>0||e.length>0?function(S,K){let Q=o,M;if(l.length===0)return xi();let ii=S.parsedUrl||new Proxy(Yz,{get(oi,Zi,qi){return ii=new u.URL(S.url,"http://localhost"),Reflect.get(ii,Zi,ii)}});function fi(oi){if(e.length===0)return oi;return Di(()=>no(e,(Zi)=>Zi({request:S,response:oi,serverContext:K,setResponse(qi){oi=qi},fetchAPI:u})),()=>oi)}function xi(){if(!M)return Di(()=>Q(S,K),fi);return fi(M)}return Di(()=>no(l,(oi,Zi)=>oi({request:S,setRequest(qi){S=qi},serverContext:K,fetchAPI:u,url:ii,requestHandler:Q,setRequestHandler(qi){Q=qi},endResponse(qi){if(M=qi,qi)Zi()}})),xi)}:o;if(c?.request){let E=h;h=(S,K)=>{return x0({request:S}).asyncFn(c.request,E)(S,K)}}function f(E,...S){let K=S.length>1?ht(...S):S[0]||{};if(!K.waitUntil)K.waitUntil=w;let Q=xe(E,u,void 0,t);return h(Q,K)}function U(E,S,...K){let Q=S.raw||S,M=K.length>1?ht(...K):K[0]||{};if(!M.waitUntil)M.waitUntil=w;let ii=xe(E,u,Q,t);return h(ii,M)}function j(E,S,...K){let Q={req:E,res:S,waitUntil:w};return Rg(Ei().then(()=>U(E,S,Q,...K)).catch((M)=>Re(M,u.Response)).then((M)=>$6(M,S,E,r)).catch((M)=>console.error(`Unexpected error while handling request: ${M.message||M}`)))}function q(E,S,...K){let Q={res:E,req:S,waitUntil:w},ii=K.filter((Ni)=>Ni!=null).length>0?ht(Q,...K):Q,fi=t?ae():new AbortController,xi=E.end.bind(E),oi=!1;E.end=function(Ni){return oi=!0,xi(Ni)},E.onAborted.bind(E)(function(){fi.abort()}),E.onAborted=function(Ni){fi.signal.addEventListener("abort",Ni,{once:!0})};let qi=b6({req:S,res:E,fetchAPI:u,controller:fi});return Di(()=>Di(()=>h(qi,ii),(Ni)=>Ni,(Ni)=>Re(Ni,u.Response)),(Ni)=>{if(!fi.signal.aborted&&!oi)return Di(()=>f6(E,Ni,fi,u),(un)=>un,(un)=>{console.error(`Unexpected error while handling request: ${un.message||un}`)})})}function D(E,...S){if(!E.respondWith||!E.request)throw TypeError(`Expected FetchEvent, got ${E}`);let K=S.filter((ii)=>ii!=null),Q=K.length>0?ht({},E,...K):de(E),M=h(E.request,Q);E.respondWith(M)}function O(E,...S){let K=S.filter((M)=>M!=null),Q=K.length>1?ht({},...K):de(K[0],K[0]==null||K[0].waitUntil==null?w:void 0);return h(E,Q)}let b=(E,...S)=>{if(typeof E==="string"||"href"in E){let[Q,...M]=S;if(v6(Q)){let fi=new u.Request(E,Q),xi=O(fi,...M),oi=Q.signal;if(oi)return Ze(xi,oi);return xi}let ii=new u.Request(E);return O(ii,...S)}let K=O(E,...S);return Ze(K,E.signal)},I=(E,...S)=>{let[K,...Q]=S;if(e6(E)){if(!Ce(K))throw TypeError(`Expected ServerResponse, got ${K}`);return j(E,K,...Q)}if(h6(E))return q(E,K,...Q);if(Ce(K))throw TypeError("Got Node response without Node request");if(mz(E)){if(c6(E))return D(E,...S);return O(E.request,E,...S)}return b(E,...S)},z={handleRequest:O,fetch:b,handleNodeRequest:f,handleNodeRequestAndResponse:U,requestListener:j,handleEvent:D,handleUWS:q,handle:I,get disposableStack(){return _()},[Hi.asyncDispose](){if(v&&!v.disposed)return v.disposeAsync();return Ei()},dispose(){if(v&&!v.disposed)return v.disposeAsync();return Ei()},waitUntil:w},Y=new Proxy(I,{has:(E,S)=>{return S in z||S in I||i&&S in i},get:(E,S)=>{if(globalThis.Deno||S===Symbol.asyncDispose||S===Symbol.dispose){let M=Reflect.get(z,S,z);if(M)return M}let K=z[S];if(K){if(K.bind)return K.bind(z);return K}let Q=I[S];if(Q){if(Q.bind)return Q.bind(I);return Q}if(i){let M=i[S];if(M){if(M.bind)return function(...ii){let fi=i[S](...ii);if(fi===i)return Y;return fi};return M}}},apply(E,S,K){return I(...K)}});return Y}var U6="vercel.ai.error",Qz=Symbol.for(U6),O6,Bz=class i extends Error{constructor({name:n,message:r,cause:u}){super(r);this[O6]=!0,this.name=n,this.cause=u}static isInstance(n){return i.hasMarker(n,U6)}static hasMarker(n,r){let u=Symbol.for(r);return n!=null&&typeof n==="object"&&u in n&&typeof n[u]==="boolean"&&n[u]===!0}};O6=Qz;var Ci=Bz,Az="AI_APICallError",Vz=`vercel.ai.error.${Az}`,Kz=Symbol.for(Vz),yz;yz=Kz;var Mz="AI_EmptyResponseBodyError",kz=`vercel.ai.error.${Mz}`,Fz=Symbol.for(kz),Tz;Tz=Fz;function mo(i){if(i==null)return"unknown error";if(typeof i==="string")return i;if(i instanceof Error)return i.message;return JSON.stringify(i)}var I6="AI_InvalidArgumentError",j6=`vercel.ai.error.${I6}`,Pz=Symbol.for(j6),D6,N6=class extends Ci{constructor({message:i,cause:n,argument:r}){super({name:I6,message:i,cause:n});this[D6]=!0,this.argument=r}static isInstance(i){return Ci.hasMarker(i,j6)}};D6=Pz;var xz="AI_InvalidPromptError",Cz=`vercel.ai.error.${xz}`,Rz=Symbol.for(Cz),dz;dz=Rz;var Zz="AI_InvalidResponseDataError",az=`vercel.ai.error.${Zz}`,pz=Symbol.for(az),sz;sz=pz;var E6="AI_JSONParseError",J6=`vercel.ai.error.${E6}`,iq=Symbol.for(J6),z6,se=class extends Ci{constructor({text:i,cause:n}){super({name:E6,message:`JSON parsing failed: Text: ${i}.\nError message: ${mo(n)}`,cause:n});this[z6]=!0,this.text=i}static isInstance(i){return Ci.hasMarker(i,J6)}};z6=iq;var nq="AI_LoadAPIKeyError",tq=`vercel.ai.error.${nq}`,rq=Symbol.for(tq),uq;uq=rq;var oq="AI_LoadSettingError",lq=`vercel.ai.error.${oq}`,gq=Symbol.for(lq),eq;eq=gq;var cq="AI_NoContentGeneratedError",$q=`vercel.ai.error.${cq}`,vq=Symbol.for($q),_q;_q=vq;var wq="AI_NoSuchModelError",hq=`vercel.ai.error.${wq}`,bq=Symbol.for(hq),fq;fq=bq;var Uq="AI_TooManyEmbeddingValuesForCallError",Oq=`vercel.ai.error.${Uq}`,Iq=Symbol.for(Oq),jq;jq=Iq;var q6="AI_TypeValidationError",H6=`vercel.ai.error.${q6}`,Dq=Symbol.for(H6),W6,Nq=class i extends Ci{constructor({value:n,cause:r}){super({name:q6,message:`Type validation failed: Value: ${JSON.stringify(n)}.\nError message: ${mo(r)}`,cause:r});this[W6]=!0,this.value=n}static isInstance(n){return Ci.hasMarker(n,H6)}static wrap({value:n,cause:r}){return i.isInstance(r)&&r.value===n?r:new i({value:n,cause:r})}};W6=Dq;var bt=Nq,Eq="AI_UnsupportedFunctionalityError",Jq=`vercel.ai.error.${Eq}`,zq=Symbol.for(Jq),qq;qq=zq;var g={};ln(g,{xor:()=>nO,xid:()=>JU,void:()=>dU,uuidv7:()=>fU,uuidv6:()=>bU,uuidv4:()=>hU,uuid:()=>wU,util:()=>L,url:()=>UU,uppercase:()=>pt,unknown:()=>Et,union:()=>gg,undefined:()=>CU,ulid:()=>EU,uint64:()=>PU,uint32:()=>kU,tuple:()=>bh,trim:()=>ur,treeifyError:()=>vc,transform:()=>cg,toUpperCase:()=>lr,toLowerCase:()=>or,toJSONSchema:()=>$r,templateLiteral:()=>hO,symbol:()=>xU,superRefine:()=>kh,success:()=>vO,stringbool:()=>NO,stringFormat:()=>QU,string:()=>yl,strictObject:()=>sU,startsWith:()=>ir,slugify:()=>gr,size:()=>jt,setErrorMap:()=>rG,set:()=>lO,safeParseAsync:()=>wu,safeParse:()=>Fw,safeEncodeAsync:()=>Zw,safeEncode:()=>Rw,safeDecodeAsync:()=>aw,safeDecode:()=>dw,registry:()=>ll,regexes:()=>di,regex:()=>Zt,refine:()=>Mh,record:()=>fh,readonly:()=>Qh,property:()=>Xl,promise:()=>bO,prettifyError:()=>_c,preprocess:()=>JO,prefault:()=>Wh,positive:()=>Hl,pipe:()=>Uu,partialRecord:()=>rO,parseAsync:()=>kw,parse:()=>Mw,overwrite:()=>si,optional:()=>bu,object:()=>pU,number:()=>sw,nullish:()=>$O,nullable:()=>fu,null:()=>uh,normalize:()=>rr,nonpositive:()=>Gl,nonoptional:()=>Gh,nonnegative:()=>Ll,never:()=>lg,negative:()=>Wl,nativeEnum:()=>gO,nanoid:()=>jU,nan:()=>_O,multipleOf:()=>Rn,minSize:()=>wn,minLength:()=>Hn,mime:()=>tr,meta:()=>jO,maxSize:()=>dn,maxLength:()=>Dt,map:()=>oO,mac:()=>HU,lte:()=>Fi,lt:()=>vn,lowercase:()=>at,looseRecord:()=>uO,looseObject:()=>iO,locales:()=>cu,literal:()=>eO,length:()=>Nt,lazy:()=>Vh,ksuid:()=>zU,keyof:()=>aU,jwt:()=>YU,json:()=>EO,iso:()=>vr,ipv6:()=>WU,ipv4:()=>qU,intersection:()=>wh,int64:()=>TU,int32:()=>MU,int:()=>Ml,instanceof:()=>DO,includes:()=>st,httpUrl:()=>OU,hostname:()=>BU,hex:()=>AU,hash:()=>VU,guid:()=>_U,gte:()=>Yi,gt:()=>_n,globalRegistry:()=>zi,getErrorMap:()=>uG,function:()=>fO,fromJSONSchema:()=>qO,formatError:()=>pr,float64:()=>yU,float32:()=>KU,flattenError:()=>ar,file:()=>cO,exactOptional:()=>Eh,enum:()=>eg,endsWith:()=>nr,encodeAsync:()=>xw,encode:()=>Tw,emoji:()=>IU,email:()=>vU,e164:()=>mU,discriminatedUnion:()=>tO,describe:()=>IO,decodeAsync:()=>Cw,decode:()=>Pw,date:()=>ZU,custom:()=>OO,cuid2:()=>NU,cuid:()=>DU,core:()=>Wn,config:()=>bi,coerce:()=>Th,codec:()=>wO,clone:()=>mi,cidrv6:()=>LU,cidrv4:()=>GU,check:()=>UO,catch:()=>Sh,boolean:()=>ih,bigint:()=>FU,base64url:()=>SU,base64:()=>XU,array:()=>ju,any:()=>RU,_function:()=>fO,_default:()=>qh,_ZodString:()=>kl,ZodXor:()=>$h,ZodXID:()=>dl,ZodVoid:()=>eh,ZodUnknown:()=>lh,ZodUnion:()=>Nu,ZodUndefined:()=>th,ZodUUID:()=>hn,ZodURL:()=>Ou,ZodULID:()=>Rl,ZodType:()=>R,ZodTuple:()=>hh,ZodTransform:()=>Dh,ZodTemplateLiteral:()=>Bh,ZodSymbol:()=>nh,ZodSuccess:()=>Lh,ZodStringFormat:()=>ui,ZodString:()=>wr,ZodSet:()=>Oh,ZodRecord:()=>Eu,ZodRealError:()=>yi,ZodReadonly:()=>Yh,ZodPromise:()=>Kh,ZodPrefault:()=>Hh,ZodPipe:()=>_g,ZodOptional:()=>$g,ZodObject:()=>Du,ZodNumberFormat:()=>Jt,ZodNumber:()=>br,ZodNullable:()=>Jh,ZodNull:()=>rh,ZodNonOptional:()=>vg,ZodNever:()=>gh,ZodNanoID:()=>Pl,ZodNaN:()=>mh,ZodMap:()=>Uh,ZodMAC:()=>pw,ZodLiteral:()=>Ih,ZodLazy:()=>Ah,ZodKSUID:()=>Zl,ZodJWT:()=>ug,ZodIssueCode:()=>tG,ZodIntersection:()=>_h,ZodISOTime:()=>Vl,ZodISODuration:()=>Kl,ZodISODateTime:()=>Bl,ZodISODate:()=>Al,ZodIPv6:()=>pl,ZodIPv4:()=>al,ZodGUID:()=>hu,ZodFunction:()=>yh,ZodFirstPartyTypeKind:()=>Fh,ZodFile:()=>jh,ZodExactOptional:()=>Nh,ZodError:()=>iG,ZodEnum:()=>_r,ZodEmoji:()=>Tl,ZodEmail:()=>Fl,ZodE164:()=>rg,ZodDiscriminatedUnion:()=>vh,ZodDefault:()=>zh,ZodDate:()=>Iu,ZodCustomStringFormat:()=>hr,ZodCustom:()=>Ju,ZodCodec:()=>wg,ZodCatch:()=>Xh,ZodCUID2:()=>Cl,ZodCUID:()=>xl,ZodCIDRv6:()=>ig,ZodCIDRv4:()=>sl,ZodBoolean:()=>fr,ZodBigIntFormat:()=>og,ZodBigInt:()=>Ur,ZodBase64URL:()=>tg,ZodBase64:()=>ng,ZodArray:()=>ch,ZodAny:()=>oh,TimePrecision:()=>f_,NEVER:()=>ic,$output:()=>$_,$input:()=>v_,$brand:()=>nc});var Wn={};ln(Wn,{version:()=>g$,util:()=>L,treeifyError:()=>vc,toJSONSchema:()=>$r,toDotPath:()=>Y6,safeParseAsync:()=>hc,safeParse:()=>wc,safeEncodeAsync:()=>oH,safeEncode:()=>rH,safeDecodeAsync:()=>lH,safeDecode:()=>uH,registry:()=>ll,regexes:()=>di,process:()=>ni,prettifyError:()=>_c,parseAsync:()=>Ao,parse:()=>Bo,meta:()=>Z_,locales:()=>cu,isValidJWT:()=>s6,isValidBase64URL:()=>p6,isValidBase64:()=>G$,initializeContext:()=>Zn,globalRegistry:()=>zi,globalConfig:()=>Fr,formatError:()=>pr,flattenError:()=>ar,finalize:()=>pn,extractDefs:()=>an,encodeAsync:()=>nH,encode:()=>sq,describe:()=>d_,decodeAsync:()=>tH,decode:()=>iH,createToJSONSchemaMethod:()=>p_,createStandardJSONSchemaMethod:()=>cr,config:()=>bi,clone:()=>mi,_xor:()=>LW,_xid:()=>Ul,_void:()=>y_,_uuidv7:()=>vl,_uuidv6:()=>$l,_uuidv4:()=>cl,_uuid:()=>el,_url:()=>vu,_uppercase:()=>pt,_unknown:()=>V_,_union:()=>GW,_undefined:()=>Q_,_ulid:()=>fl,_uint64:()=>m_,_uint32:()=>H_,_tuple:()=>mW,_trim:()=>ur,_transform:()=>yW,_toUpperCase:()=>lr,_toLowerCase:()=>or,_templateLiteral:()=>dW,_symbol:()=>Y_,_superRefine:()=>R_,_success:()=>PW,_stringbool:()=>a_,_stringFormat:()=>er,_string:()=>w_,_startsWith:()=>ir,_slugify:()=>gr,_size:()=>jt,_set:()=>BW,_safeParseAsync:()=>Ct,_safeParse:()=>xt,_safeEncodeAsync:()=>To,_safeEncode:()=>ko,_safeDecodeAsync:()=>Po,_safeDecode:()=>Fo,_regex:()=>Zt,_refine:()=>C_,_record:()=>YW,_readonly:()=>RW,_property:()=>Xl,_promise:()=>aW,_positive:()=>Hl,_pipe:()=>CW,_parseAsync:()=>Pt,_parse:()=>Tt,_overwrite:()=>si,_optional:()=>MW,_number:()=>D_,_nullable:()=>kW,_null:()=>B_,_normalize:()=>rr,_nonpositive:()=>Gl,_nonoptional:()=>TW,_nonnegative:()=>Ll,_never:()=>K_,_negative:()=>Wl,_nativeEnum:()=>VW,_nanoid:()=>wl,_nan:()=>F_,_multipleOf:()=>Rn,_minSize:()=>wn,_minLength:()=>Hn,_min:()=>Yi,_mime:()=>tr,_maxSize:()=>dn,_maxLength:()=>Dt,_max:()=>Fi,_map:()=>QW,_mac:()=>b_,_lte:()=>Fi,_lt:()=>vn,_lowercase:()=>at,_literal:()=>KW,_length:()=>Nt,_lazy:()=>ZW,_ksuid:()=>Ol,_jwt:()=>ql,_isoTime:()=>I_,_isoDuration:()=>j_,_isoDateTime:()=>U_,_isoDate:()=>O_,_ipv6:()=>jl,_ipv4:()=>Il,_intersection:()=>SW,_int64:()=>S_,_int32:()=>q_,_int:()=>E_,_includes:()=>st,_guid:()=>$u,_gte:()=>Yi,_gt:()=>_n,_float64:()=>z_,_float32:()=>J_,_file:()=>P_,_enum:()=>AW,_endsWith:()=>nr,_encodeAsync:()=>yo,_encode:()=>Vo,_emoji:()=>_l,_email:()=>gl,_e164:()=>zl,_discriminatedUnion:()=>XW,_default:()=>FW,_decodeAsync:()=>Mo,_decode:()=>Ko,_date:()=>M_,_custom:()=>x_,_cuid2:()=>bl,_cuid:()=>hl,_coercedString:()=>h_,_coercedNumber:()=>N_,_coercedDate:()=>k_,_coercedBoolean:()=>G_,_coercedBigint:()=>X_,_cidrv6:()=>Nl,_cidrv4:()=>Dl,_check:()=>eU,_catch:()=>xW,_boolean:()=>W_,_bigint:()=>L_,_base64url:()=>Jl,_base64:()=>El,_array:()=>T_,_any:()=>A_,TimePrecision:()=>f_,NEVER:()=>ic,JSONSchemaGenerator:()=>Bw,JSONSchema:()=>cU,Doc:()=>Zo,$output:()=>$_,$input:()=>v_,$constructor:()=>N,$brand:()=>nc,$ZodXor:()=>C$,$ZodXID:()=>O$,$ZodVoid:()=>F$,$ZodUnknown:()=>M$,$ZodUnion:()=>ru,$ZodUndefined:()=>V$,$ZodUUID:()=>$$,$ZodURL:()=>_$,$ZodULID:()=>U$,$ZodType:()=>x,$ZodTuple:()=>ul,$ZodTransform:()=>tv,$ZodTemplateLiteral:()=>wv,$ZodSymbol:()=>A$,$ZodSuccess:()=>ev,$ZodStringFormat:()=>ri,$ZodString:()=>It,$ZodSet:()=>p$,$ZodRegistry:()=>__,$ZodRecord:()=>Z$,$ZodRealError:()=>Ki,$ZodReadonly:()=>_v,$ZodPromise:()=>bv,$ZodPrefault:()=>lv,$ZodPipe:()=>vv,$ZodOptional:()=>ol,$ZodObjectJIT:()=>x$,$ZodObject:()=>tU,$ZodNumberFormat:()=>Q$,$ZodNumber:()=>tl,$ZodNullable:()=>uv,$ZodNull:()=>K$,$ZodNonOptional:()=>gv,$ZodNever:()=>k$,$ZodNanoID:()=>h$,$ZodNaN:()=>$v,$ZodMap:()=>a$,$ZodMAC:()=>q$,$ZodLiteral:()=>iv,$ZodLazy:()=>fv,$ZodKSUID:()=>I$,$ZodJWT:()=>m$,$ZodIntersection:()=>d$,$ZodISOTime:()=>N$,$ZodISODuration:()=>E$,$ZodISODateTime:()=>j$,$ZodISODate:()=>D$,$ZodIPv6:()=>z$,$ZodIPv4:()=>J$,$ZodGUID:()=>c$,$ZodFunction:()=>hv,$ZodFile:()=>nv,$ZodExactOptional:()=>rv,$ZodError:()=>Zr,$ZodEnum:()=>s$,$ZodEncodeError:()=>ft,$ZodEmoji:()=>w$,$ZodEmail:()=>v$,$ZodE164:()=>S$,$ZodDiscriminatedUnion:()=>R$,$ZodDefault:()=>ov,$ZodDate:()=>T$,$ZodCustomStringFormat:()=>Y$,$ZodCustom:()=>Uv,$ZodCodec:()=>uu,$ZodCheckUpperCase:()=>i$,$ZodCheckStringFormat:()=>Rt,$ZodCheckStartsWith:()=>t$,$ZodCheckSizeEquals:()=>Rc,$ZodCheckRegex:()=>pc,$ZodCheckProperty:()=>u$,$ZodCheckOverwrite:()=>l$,$ZodCheckNumberFormat:()=>Tc,$ZodCheckMultipleOf:()=>Fc,$ZodCheckMinSize:()=>Cc,$ZodCheckMinLength:()=>Zc,$ZodCheckMimeType:()=>o$,$ZodCheckMaxSize:()=>xc,$ZodCheckMaxLength:()=>dc,$ZodCheckLowerCase:()=>sc,$ZodCheckLessThan:()=>Co,$ZodCheckLengthEquals:()=>ac,$ZodCheckIncludes:()=>n$,$ZodCheckGreaterThan:()=>Ro,$ZodCheckEndsWith:()=>r$,$ZodCheckBigIntFormat:()=>Pc,$ZodCheck:()=>li,$ZodCatch:()=>cv,$ZodCUID2:()=>f$,$ZodCUID:()=>b$,$ZodCIDRv6:()=>W$,$ZodCIDRv4:()=>H$,$ZodBoolean:()=>tu,$ZodBigIntFormat:()=>B$,$ZodBigInt:()=>rl,$ZodBase64URL:()=>X$,$ZodBase64:()=>L$,$ZodAsyncError:()=>$n,$ZodArray:()=>P$,$ZodAny:()=>y$});var ic=Object.freeze({status:"aborted"});function N(i,n,r){function u(e,c){if(!e._zod)Object.defineProperty(e,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1});if(e._zod.traits.has(i))return;e._zod.traits.add(i),n(e,c);let $=l.prototype,v=Object.keys($);for(let _=0;_<v.length;_++){let w=v[_];if(!(w in e))e[w]=$[w].bind(e)}}let t=r?.Parent??Object;class o extends t{}Object.defineProperty(o,"name",{value:i});function l(e){var c;let $=r?.Parent?new o:this;u($,e),(c=$._zod).deferred??(c.deferred=[]);for(let v of $._zod.deferred)v();return $}return Object.defineProperty(l,"init",{value:u}),Object.defineProperty(l,Symbol.hasInstance,{value:(e)=>{if(r?.Parent&&e instanceof r.Parent)return!0;return e?._zod?.traits?.has(i)}}),Object.defineProperty(l,"name",{value:i}),l}var nc=Symbol("zod_brand");class $n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ft extends Error{constructor(i){super(`Encountered unidirectional transform during encode: ${i}`);this.name="ZodEncodeError"}}var Fr={};function bi(i){if(i)Object.assign(Fr,i);return Fr}var L={};ln(L,{unwrapMessage:()=>Tr,uint8ArrayToHex:()=>aq,uint8ArrayToBase64url:()=>dq,uint8ArrayToBase64:()=>X6,stringifyPrimitive:()=>H,slugify:()=>uc,shallowClone:()=>lc,safeExtend:()=>Fq,required:()=>xq,randomString:()=>Bq,propertyKeyTypes:()=>Cr,promiseAllObject:()=>Qq,primitiveTypes:()=>gc,prefixIssues:()=>ki,pick:()=>yq,partial:()=>Pq,parsedType:()=>G,optionalKeys:()=>ec,omit:()=>Mq,objectClone:()=>Sq,numKeys:()=>Aq,nullish:()=>Tn,normalizeParams:()=>m,mergeDefs:()=>qn,merge:()=>Tq,jsonStringifyReplacer:()=>Mt,joinValues:()=>J,issue:()=>Ft,isPlainObject:()=>xn,isObject:()=>Ut,hexToUint8Array:()=>Zq,getSizableOrigin:()=>Rr,getParsedType:()=>Vq,getLengthableOrigin:()=>dr,getEnumValues:()=>Pr,getElementAtPath:()=>Yq,floatSafeRemainder:()=>rc,finalizeIssue:()=>Vi,extend:()=>kq,escapeRegex:()=>Ri,esc:()=>Yo,defineLazy:()=>Z,createTransparentProxy:()=>Kq,cloneDef:()=>mq,clone:()=>mi,cleanRegex:()=>xr,cleanEnum:()=>Cq,captureStackTrace:()=>Qo,cached:()=>kt,base64urlToUint8Array:()=>Rq,base64ToUint8Array:()=>L6,assignProp:()=>Pn,assertNotEqual:()=>Wq,assertNever:()=>Lq,assertIs:()=>Gq,assertEqual:()=>Hq,assert:()=>Xq,allowsEval:()=>oc,aborted:()=>Cn,NUMBER_FORMAT_RANGES:()=>cc,Class:()=>S6,BIGINT_FORMAT_RANGES:()=>$c});function Hq(i){return i}function Wq(i){return i}function Gq(i){}function Lq(i){throw Error("Unexpected value in exhaustive check")}function Xq(i){}function Pr(i){let n=Object.values(i).filter((u)=>typeof u==="number");return Object.entries(i).filter(([u,t])=>n.indexOf(+u)===-1).map(([u,t])=>t)}function J(i,n="|"){return i.map((r)=>H(r)).join(n)}function Mt(i,n){if(typeof n==="bigint")return n.toString();return n}function kt(i){return{get value(){{let r=i();return Object.defineProperty(this,"value",{value:r}),r}throw Error("cached value already set")}}}function Tn(i){return i===null||i===void 0}function xr(i){let n=i.startsWith("^")?1:0,r=i.endsWith("$")?i.length-1:i.length;return i.slice(n,r)}function rc(i,n){let r=(i.toString().split(".")[1]||"").length,u=n.toString(),t=(u.split(".")[1]||"").length;if(t===0&&/\\d?e-\\d?/.test(u)){let c=u.match(/\\d?e-(\\d?)/);if(c?.[1])t=Number.parseInt(c[1])}let o=r>t?r:t,l=Number.parseInt(i.toFixed(o).replace(".","")),e=Number.parseInt(n.toFixed(o).replace(".",""));return l%e/10**o}var G6=Symbol("evaluating");function Z(i,n,r){let u=void 0;Object.defineProperty(i,n,{get(){if(u===G6)return;if(u===void 0)u=G6,u=r();return u},set(t){Object.defineProperty(i,n,{value:t})},configurable:!0})}function Sq(i){return Object.create(Object.getPrototypeOf(i),Object.getOwnPropertyDescriptors(i))}function Pn(i,n,r){Object.defineProperty(i,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function qn(...i){let n={};for(let r of i){let u=Object.getOwnPropertyDescriptors(r);Object.assign(n,u)}return Object.defineProperties({},n)}function mq(i){return qn(i._zod.def)}function Yq(i,n){if(!n)return i;return n.reduce((r,u)=>r?.[u],i)}function Qq(i){let n=Object.keys(i),r=n.map((u)=>i[u]);return Promise.all(r).then((u)=>{let t={};for(let o=0;o<n.length;o++)t[n[o]]=u[o];return t})}function Bq(i=10){let r="";for(let u=0;u<i;u++)r+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return r}function Yo(i){return JSON.stringify(i)}function uc(i){return i.toLowerCase().trim().replace(/[^\\w\\s-]/g,"").replace(/[\\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var Qo="captureStackTrace"in Error?Error.captureStackTrace:(...i)=>{};function Ut(i){return typeof i==="object"&&i!==null&&!Array.isArray(i)}var oc=kt(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(i){return!1}});function xn(i){if(Ut(i)===!1)return!1;let n=i.constructor;if(n===void 0)return!0;if(typeof n!=="function")return!0;let r=n.prototype;if(Ut(r)===!1)return!1;if(Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)return!1;return!0}function lc(i){if(xn(i))return{...i};if(Array.isArray(i))return[...i];return i}function Aq(i){let n=0;for(let r in i)if(Object.prototype.hasOwnProperty.call(i,r))n++;return n}var Vq=(i)=>{let n=typeof i;switch(n){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(i)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(i.then&&typeof i.then==="function"&&i.catch&&typeof i.catch==="function")return"promise";if(typeof Map<"u"&&i instanceof Map)return"map";if(typeof Set<"u"&&i instanceof Set)return"set";if(typeof Date<"u"&&i instanceof Date)return"date";if(typeof File<"u"&&i instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${n}`)}},Cr=new Set(["string","number","symbol"]),gc=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Ri(i){return i.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&")}function mi(i,n,r){let u=new i._zod.constr(n??i._zod.def);if(!n||r?.parent)u._zod.parent=i;return u}function m(i){let n=i;if(!n)return{};if(typeof n==="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");n.error=n.message}if(delete n.message,typeof n.error==="string")return{...n,error:()=>n.error};return n}function Kq(i){let n;return new Proxy({},{get(r,u,t){return n??(n=i()),Reflect.get(n,u,t)},set(r,u,t,o){return n??(n=i()),Reflect.set(n,u,t,o)},has(r,u){return n??(n=i()),Reflect.has(n,u)},deleteProperty(r,u){return n??(n=i()),Reflect.deleteProperty(n,u)},ownKeys(r){return n??(n=i()),Reflect.ownKeys(n)},getOwnPropertyDescriptor(r,u){return n??(n=i()),Reflect.getOwnPropertyDescriptor(n,u)},defineProperty(r,u,t){return n??(n=i()),Reflect.defineProperty(n,u,t)}})}function H(i){if(typeof i==="bigint")return i.toString()+"n";if(typeof i==="string")return`"${i}"`;return`${i}`}function ec(i){return Object.keys(i).filter((n)=>{return i[n]._zod.optin==="optional"&&i[n]._zod.optout==="optional"})}var cc={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},$c={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function yq(i,n){let r=i._zod.def,u=r.checks;if(u&&u.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let o=qn(i._zod.def,{get shape(){let l={};for(let e in n){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);if(!n[e])continue;l[e]=r.shape[e]}return Pn(this,"shape",l),l},checks:[]});return mi(i,o)}function Mq(i,n){let r=i._zod.def,u=r.checks;if(u&&u.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let o=qn(i._zod.def,{get shape(){let l={...i._zod.def.shape};for(let e in n){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);if(!n[e])continue;delete l[e]}return Pn(this,"shape",l),l},checks:[]});return mi(i,o)}function kq(i,n){if(!xn(n))throw Error("Invalid input to extend: expected a plain object");let r=i._zod.def.checks;if(r&&r.length>0){let o=i._zod.def.shape;for(let l in n)if(Object.getOwnPropertyDescriptor(o,l)!==void 0)throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let t=qn(i._zod.def,{get shape(){let o={...i._zod.def.shape,...n};return Pn(this,"shape",o),o}});return mi(i,t)}function Fq(i,n){if(!xn(n))throw Error("Invalid input to safeExtend: expected a plain object");let r=qn(i._zod.def,{get shape(){let u={...i._zod.def.shape,...n};return Pn(this,"shape",u),u}});return mi(i,r)}function Tq(i,n){let r=qn(i._zod.def,{get shape(){let u={...i._zod.def.shape,...n._zod.def.shape};return Pn(this,"shape",u),u},get catchall(){return n._zod.def.catchall},checks:[]});return mi(i,r)}function Pq(i,n,r){let t=n._zod.def.checks;if(t&&t.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let l=qn(n._zod.def,{get shape(){let e=n._zod.def.shape,c={...e};if(r)for(let $ in r){if(!($ in e))throw Error(`Unrecognized key: "${$}"`);if(!r[$])continue;c[$]=i?new i({type:"optional",innerType:e[$]}):e[$]}else for(let $ in e)c[$]=i?new i({type:"optional",innerType:e[$]}):e[$];return Pn(this,"shape",c),c},checks:[]});return mi(n,l)}function xq(i,n,r){let u=qn(n._zod.def,{get shape(){let t=n._zod.def.shape,o={...t};if(r)for(let l in r){if(!(l in o))throw Error(`Unrecognized key: "${l}"`);if(!r[l])continue;o[l]=new i({type:"nonoptional",innerType:t[l]})}else for(let l in t)o[l]=new i({type:"nonoptional",innerType:t[l]});return Pn(this,"shape",o),o}});return mi(n,u)}function Cn(i,n=0){if(i.aborted===!0)return!0;for(let r=n;r<i.issues.length;r++)if(i.issues[r]?.continue!==!0)return!0;return!1}function ki(i,n){return n.map((r)=>{var u;return(u=r).path??(u.path=[]),r.path.unshift(i),r})}function Tr(i){return typeof i==="string"?i:i?.message}function Vi(i,n,r){let u={...i,path:i.path??[]};if(!i.message){let t=Tr(i.inst?._zod.def?.error?.(i))??Tr(n?.error?.(i))??Tr(r.customError?.(i))??Tr(r.localeError?.(i))??"Invalid input";u.message=t}if(delete u.inst,delete u.continue,!n?.reportInput)delete u.input;return u}function Rr(i){if(i instanceof Set)return"set";if(i instanceof Map)return"map";if(i instanceof File)return"file";return"unknown"}function dr(i){if(Array.isArray(i))return"array";if(typeof i==="string")return"string";return"unknown"}function G(i){let n=typeof i;switch(n){case"number":return Number.isNaN(i)?"nan":"number";case"object":{if(i===null)return"null";if(Array.isArray(i))return"array";let r=i;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return n}function Ft(...i){let[n,r,u]=i;if(typeof n==="string")return{message:n,code:"custom",input:r,inst:u};return{...n}}function Cq(i){return Object.entries(i).filter(([n,r])=>{return Number.isNaN(Number.parseInt(n,10))}).map((n)=>n[1])}function L6(i){let n=atob(i),r=new Uint8Array(n.length);for(let u=0;u<n.length;u++)r[u]=n.charCodeAt(u);return r}function X6(i){let n="";for(let r=0;r<i.length;r++)n+=String.fromCharCode(i[r]);return btoa(n)}function Rq(i){let n=i.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-n.length%4)%4);return L6(n+r)}function dq(i){return X6(i).replace(/\\+/g,"-").replace(/\\//g,"_").replace(/=/g,"")}function Zq(i){let n=i.replace(/^0x/,"");if(n.length%2!==0)throw Error("Invalid hex string length");let r=new Uint8Array(n.length/2);for(let u=0;u<n.length;u+=2)r[u/2]=Number.parseInt(n.slice(u,u+2),16);return r}function aq(i){return Array.from(i).map((n)=>n.toString(16).padStart(2,"0")).join("")}class S6{constructor(...i){}}var m6=(i,n)=>{i.name="$ZodError",Object.defineProperty(i,"_zod",{value:i._zod,enumerable:!1}),Object.defineProperty(i,"issues",{value:n,enumerable:!1}),i.message=JSON.stringify(n,Mt,2),Object.defineProperty(i,"toString",{value:()=>i.message,enumerable:!1})},Zr=N("$ZodError",m6),Ki=N("$ZodError",m6,{Parent:Error});function ar(i,n=(r)=>r.message){let r={},u=[];for(let t of i.issues)if(t.path.length>0)r[t.path[0]]=r[t.path[0]]||[],r[t.path[0]].push(n(t));else u.push(n(t));return{formErrors:u,fieldErrors:r}}function pr(i,n=(r)=>r.message){let r={_errors:[]},u=(t)=>{for(let o of t.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map((l)=>u({issues:l}));else if(o.code==="invalid_key")u({issues:o.issues});else if(o.code==="invalid_element")u({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let l=r,e=0;while(e<o.path.length){let c=o.path[e];if(e!==o.path.length-1)l[c]=l[c]||{_errors:[]};else l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(o));l=l[c],e++}}};return u(i),r}function vc(i,n=(r)=>r.message){let r={errors:[]},u=(t,o=[])=>{var l,e;for(let c of t.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(($)=>u({issues:$},c.path));else if(c.code==="invalid_key")u({issues:c.issues},c.path);else if(c.code==="invalid_element")u({issues:c.issues},c.path);else{let $=[...o,...c.path];if($.length===0){r.errors.push(n(c));continue}let v=r,_=0;while(_<$.length){let w=$[_],h=_===$.length-1;if(typeof w==="string")v.properties??(v.properties={}),(l=v.properties)[w]??(l[w]={errors:[]}),v=v.properties[w];else v.items??(v.items=[]),(e=v.items)[w]??(e[w]={errors:[]}),v=v.items[w];if(h)v.errors.push(n(c));_++}}};return u(i),r}function Y6(i){let n=[],r=i.map((u)=>typeof u==="object"?u.key:u);for(let u of r)if(typeof u==="number")n.push(`[${u}]`);else if(typeof u==="symbol")n.push(`[${JSON.stringify(String(u))}]`);else if(/[^\\w$]/.test(u))n.push(`[${JSON.stringify(u)}]`);else{if(n.length)n.push(".");n.push(u)}return n.join("")}function _c(i){let n=[],r=[...i.issues].sort((u,t)=>(u.path??[]).length-(t.path??[]).length);for(let u of r)if(n.push(`✖ ${u.message}`),u.path?.length)n.push(`  → at ${Y6(u.path)}`);return n.join(`\n`)}var Tt=(i)=>(n,r,u,t)=>{let o=u?Object.assign(u,{async:!1}):{async:!1},l=n._zod.run({value:r,issues:[]},o);if(l instanceof Promise)throw new $n;if(l.issues.length){let e=new(t?.Err??i)(l.issues.map((c)=>Vi(c,o,bi())));throw Qo(e,t?.callee),e}return l.value},Bo=Tt(Ki),Pt=(i)=>async(n,r,u,t)=>{let o=u?Object.assign(u,{async:!0}):{async:!0},l=n._zod.run({value:r,issues:[]},o);if(l instanceof Promise)l=await l;if(l.issues.length){let e=new(t?.Err??i)(l.issues.map((c)=>Vi(c,o,bi())));throw Qo(e,t?.callee),e}return l.value},Ao=Pt(Ki),xt=(i)=>(n,r,u)=>{let t=u?{...u,async:!1}:{async:!1},o=n._zod.run({value:r,issues:[]},t);if(o instanceof Promise)throw new $n;return o.issues.length?{success:!1,error:new(i??Zr)(o.issues.map((l)=>Vi(l,t,bi())))}:{success:!0,data:o.value}},wc=xt(Ki),Ct=(i)=>async(n,r,u)=>{let t=u?Object.assign(u,{async:!0}):{async:!0},o=n._zod.run({value:r,issues:[]},t);if(o instanceof Promise)o=await o;return o.issues.length?{success:!1,error:new i(o.issues.map((l)=>Vi(l,t,bi())))}:{success:!0,data:o.value}},hc=Ct(Ki),Vo=(i)=>(n,r,u)=>{let t=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return Tt(i)(n,r,t)},sq=Vo(Ki),Ko=(i)=>(n,r,u)=>{return Tt(i)(n,r,u)},iH=Ko(Ki),yo=(i)=>async(n,r,u)=>{let t=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return Pt(i)(n,r,t)},nH=yo(Ki),Mo=(i)=>async(n,r,u)=>{return Pt(i)(n,r,u)},tH=Mo(Ki),ko=(i)=>(n,r,u)=>{let t=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return xt(i)(n,r,t)},rH=ko(Ki),Fo=(i)=>(n,r,u)=>{return xt(i)(n,r,u)},uH=Fo(Ki),To=(i)=>async(n,r,u)=>{let t=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return Ct(i)(n,r,t)},oH=To(Ki),Po=(i)=>async(n,r,u)=>{return Ct(i)(n,r,u)},lH=Po(Ki);var di={};ln(di,{xid:()=>Oc,uuid7:()=>$H,uuid6:()=>cH,uuid4:()=>eH,uuid:()=>Ot,uppercase:()=>kc,unicodeEmail:()=>Q6,undefined:()=>yc,ulid:()=>Uc,time:()=>mc,string:()=>Qc,sha512_hex:()=>XH,sha512_base64url:()=>mH,sha512_base64:()=>SH,sha384_hex:()=>WH,sha384_base64url:()=>LH,sha384_base64:()=>GH,sha256_hex:()=>zH,sha256_base64url:()=>HH,sha256_base64:()=>qH,sha1_hex:()=>NH,sha1_base64url:()=>JH,sha1_base64:()=>EH,rfc5322Email:()=>_H,number:()=>sr,null:()=>Kc,nanoid:()=>jc,md5_hex:()=>IH,md5_base64url:()=>DH,md5_base64:()=>jH,mac:()=>Hc,lowercase:()=>Mc,ksuid:()=>Ic,ipv6:()=>qc,ipv4:()=>zc,integer:()=>Ac,idnEmail:()=>wH,html5Email:()=>vH,hostname:()=>fH,hex:()=>OH,guid:()=>Nc,extendedDuration:()=>gH,emoji:()=>Jc,email:()=>Ec,e164:()=>Xc,duration:()=>Dc,domain:()=>UH,datetime:()=>Yc,date:()=>Sc,cuid2:()=>fc,cuid:()=>bc,cidrv6:()=>Gc,cidrv4:()=>Wc,browserEmail:()=>hH,boolean:()=>Vc,bigint:()=>Bc,base64url:()=>xo,base64:()=>Lc});var bc=/^[cC][^\\s-]{8,}$/,fc=/^[0-9a-z]+$/,Uc=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Oc=/^[0-9a-vA-V]{20}$/,Ic=/^[A-Za-z0-9]{27}$/,jc=/^[a-zA-Z0-9_-]{21}$/,Dc=/^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/,gH=/^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/,Nc=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ot=(i)=>{if(!i)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${i}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},eH=Ot(4),cH=Ot(6),$H=Ot(7),Ec=/^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_\'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/,vH=/^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_H=/^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,Q6=/^[^\\s@"]{1,64}@[^\\s@]{1,255}$/u,wH=Q6,hH=/^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bH="^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$";function Jc(){return new RegExp(bH,"u")}var zc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Hc=(i)=>{let n=Ri(i??":");return new RegExp(`^(?:[0-9A-F]{2}${n}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${n}){5}[0-9a-f]{2}$`)},Wc=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/,Gc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lc=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,xo=/^[A-Za-z0-9_-]*$/,fH=/^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/,UH=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/,Xc=/^\\+[1-9]\\d{6,14}$/,B6="(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))",Sc=new RegExp(`^${B6}$`);function A6(i){return typeof i.precision==="number"?i.precision===-1?"(?:[01]\\\\d|2[0-3]):[0-5]\\\\d":i.precision===0?"(?:[01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d":`(?:[01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d\\\\.\\\\d{${i.precision}}`:"(?:[01]\\\\d|2[0-3]):[0-5]\\\\d(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?"}function mc(i){return new RegExp(`^${A6(i)}$`)}function Yc(i){let n=A6({precision:i.precision}),r=["Z"];if(i.local)r.push("");if(i.offset)r.push("([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)");let u=`${n}(?:${r.join("|")})`;return new RegExp(`^${B6}T(?:${u})$`)}var Qc=(i)=>{let n=i?`[\\\\s\\\\S]{${i?.minimum??0},${i?.maximum??""}}`:"[\\\\s\\\\S]*";return new RegExp(`^${n}$`)},Bc=/^-?\\d+n?$/,Ac=/^-?\\d+$/,sr=/^-?\\d+(?:\\.\\d+)?$/,Vc=/^(?:true|false)$/i,Kc=/^null$/i;var yc=/^undefined$/i;var Mc=/^[^A-Z]*$/,kc=/^[^a-z]*$/,OH=/^[0-9a-fA-F]*$/;function iu(i,n){return new RegExp(`^[A-Za-z0-9+/]{${i}}${n}$`)}function nu(i){return new RegExp(`^[A-Za-z0-9_-]{${i}}$`)}var IH=/^[0-9a-fA-F]{32}$/,jH=iu(22,"=="),DH=nu(22),NH=/^[0-9a-fA-F]{40}$/,EH=iu(27,"="),JH=nu(27),zH=/^[0-9a-fA-F]{64}$/,qH=iu(43,"="),HH=nu(43),WH=/^[0-9a-fA-F]{96}$/,GH=iu(64,""),LH=nu(64),XH=/^[0-9a-fA-F]{128}$/,SH=iu(86,"=="),mH=nu(86);var li=N("$ZodCheck",(i,n)=>{var r;i._zod??(i._zod={}),i._zod.def=n,(r=i._zod).onattach??(r.onattach=[])}),K6={number:"number",bigint:"bigint",object:"date"},Co=N("$ZodCheckLessThan",(i,n)=>{li.init(i,n);let r=K6[typeof n.value];i._zod.onattach.push((u)=>{let t=u._zod.bag,o=(n.inclusive?t.maximum:t.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(n.value<o)if(n.inclusive)t.maximum=n.value;else t.exclusiveMaximum=n.value}),i._zod.check=(u)=>{if(n.inclusive?u.value<=n.value:u.value<n.value)return;u.issues.push({origin:r,code:"too_big",maximum:typeof n.value==="object"?n.value.getTime():n.value,input:u.value,inclusive:n.inclusive,inst:i,continue:!n.abort})}}),Ro=N("$ZodCheckGreaterThan",(i,n)=>{li.init(i,n);let r=K6[typeof n.value];i._zod.onattach.push((u)=>{let t=u._zod.bag,o=(n.inclusive?t.minimum:t.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(n.value>o)if(n.inclusive)t.minimum=n.value;else t.exclusiveMinimum=n.value}),i._zod.check=(u)=>{if(n.inclusive?u.value>=n.value:u.value>n.value)return;u.issues.push({origin:r,code:"too_small",minimum:typeof n.value==="object"?n.value.getTime():n.value,input:u.value,inclusive:n.inclusive,inst:i,continue:!n.abort})}}),Fc=N("$ZodCheckMultipleOf",(i,n)=>{li.init(i,n),i._zod.onattach.push((r)=>{var u;(u=r._zod.bag).multipleOf??(u.multipleOf=n.value)}),i._zod.check=(r)=>{if(typeof r.value!==typeof n.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof r.value==="bigint"?r.value%n.value===BigInt(0):rc(r.value,n.value)===0)return;r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:i,continue:!n.abort})}}),Tc=N("$ZodCheckNumberFormat",(i,n)=>{li.init(i,n),n.format=n.format||"float64";let r=n.format?.includes("int"),u=r?"int":"number",[t,o]=cc[n.format];i._zod.onattach.push((l)=>{let e=l._zod.bag;if(e.format=n.format,e.minimum=t,e.maximum=o,r)e.pattern=Ac}),i._zod.check=(l)=>{let e=l.value;if(r){if(!Number.isInteger(e)){l.issues.push({expected:u,format:n.format,code:"invalid_type",continue:!1,input:e,inst:i});return}if(!Number.isSafeInteger(e)){if(e>0)l.issues.push({input:e,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:u,inclusive:!0,continue:!n.abort});else l.issues.push({input:e,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:u,inclusive:!0,continue:!n.abort});return}}if(e<t)l.issues.push({origin:"number",input:e,code:"too_small",minimum:t,inclusive:!0,inst:i,continue:!n.abort});if(e>o)l.issues.push({origin:"number",input:e,code:"too_big",maximum:o,inclusive:!0,inst:i,continue:!n.abort})}}),Pc=N("$ZodCheckBigIntFormat",(i,n)=>{li.init(i,n);let[r,u]=$c[n.format];i._zod.onattach.push((t)=>{let o=t._zod.bag;o.format=n.format,o.minimum=r,o.maximum=u}),i._zod.check=(t)=>{let o=t.value;if(o<r)t.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:i,continue:!n.abort});if(o>u)t.issues.push({origin:"bigint",input:o,code:"too_big",maximum:u,inclusive:!0,inst:i,continue:!n.abort})}}),xc=N("$ZodCheckMaxSize",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.size!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag.maximum??Number.POSITIVE_INFINITY;if(n.maximum<t)u._zod.bag.maximum=n.maximum}),i._zod.check=(u)=>{let t=u.value;if(t.size<=n.maximum)return;u.issues.push({origin:Rr(t),code:"too_big",maximum:n.maximum,inclusive:!0,input:t,inst:i,continue:!n.abort})}}),Cc=N("$ZodCheckMinSize",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.size!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(n.minimum>t)u._zod.bag.minimum=n.minimum}),i._zod.check=(u)=>{let t=u.value;if(t.size>=n.minimum)return;u.issues.push({origin:Rr(t),code:"too_small",minimum:n.minimum,inclusive:!0,input:t,inst:i,continue:!n.abort})}}),Rc=N("$ZodCheckSizeEquals",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.size!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag;t.minimum=n.size,t.maximum=n.size,t.size=n.size}),i._zod.check=(u)=>{let t=u.value,o=t.size;if(o===n.size)return;let l=o>n.size;u.issues.push({origin:Rr(t),...l?{code:"too_big",maximum:n.size}:{code:"too_small",minimum:n.size},inclusive:!0,exact:!0,input:u.value,inst:i,continue:!n.abort})}}),dc=N("$ZodCheckMaxLength",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.length!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag.maximum??Number.POSITIVE_INFINITY;if(n.maximum<t)u._zod.bag.maximum=n.maximum}),i._zod.check=(u)=>{let t=u.value;if(t.length<=n.maximum)return;let l=dr(t);u.issues.push({origin:l,code:"too_big",maximum:n.maximum,inclusive:!0,input:t,inst:i,continue:!n.abort})}}),Zc=N("$ZodCheckMinLength",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.length!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(n.minimum>t)u._zod.bag.minimum=n.minimum}),i._zod.check=(u)=>{let t=u.value;if(t.length>=n.minimum)return;let l=dr(t);u.issues.push({origin:l,code:"too_small",minimum:n.minimum,inclusive:!0,input:t,inst:i,continue:!n.abort})}}),ac=N("$ZodCheckLengthEquals",(i,n)=>{var r;li.init(i,n),(r=i._zod.def).when??(r.when=(u)=>{let t=u.value;return!Tn(t)&&t.length!==void 0}),i._zod.onattach.push((u)=>{let t=u._zod.bag;t.minimum=n.length,t.maximum=n.length,t.length=n.length}),i._zod.check=(u)=>{let t=u.value,o=t.length;if(o===n.length)return;let l=dr(t),e=o>n.length;u.issues.push({origin:l,...e?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:u.value,inst:i,continue:!n.abort})}}),Rt=N("$ZodCheckStringFormat",(i,n)=>{var r,u;if(li.init(i,n),i._zod.onattach.push((t)=>{let o=t._zod.bag;if(o.format=n.format,n.pattern)o.patterns??(o.patterns=new Set),o.patterns.add(n.pattern)}),n.pattern)(r=i._zod).check??(r.check=(t)=>{if(n.pattern.lastIndex=0,n.pattern.test(t.value))return;t.issues.push({origin:"string",code:"invalid_format",format:n.format,input:t.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:i,continue:!n.abort})});else(u=i._zod).check??(u.check=()=>{})}),pc=N("$ZodCheckRegex",(i,n)=>{Rt.init(i,n),i._zod.check=(r)=>{if(n.pattern.lastIndex=0,n.pattern.test(r.value))return;r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:i,continue:!n.abort})}}),sc=N("$ZodCheckLowerCase",(i,n)=>{n.pattern??(n.pattern=Mc),Rt.init(i,n)}),i$=N("$ZodCheckUpperCase",(i,n)=>{n.pattern??(n.pattern=kc),Rt.init(i,n)}),n$=N("$ZodCheckIncludes",(i,n)=>{li.init(i,n);let r=Ri(n.includes),u=new RegExp(typeof n.position==="number"?`^.{${n.position}}${r}`:r);n.pattern=u,i._zod.onattach.push((t)=>{let o=t._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(u)}),i._zod.check=(t)=>{if(t.value.includes(n.includes,n.position))return;t.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:t.value,inst:i,continue:!n.abort})}}),t$=N("$ZodCheckStartsWith",(i,n)=>{li.init(i,n);let r=new RegExp(`^${Ri(n.prefix)}.*`);n.pattern??(n.pattern=r),i._zod.onattach.push((u)=>{let t=u._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),i._zod.check=(u)=>{if(u.value.startsWith(n.prefix))return;u.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:u.value,inst:i,continue:!n.abort})}}),r$=N("$ZodCheckEndsWith",(i,n)=>{li.init(i,n);let r=new RegExp(`.*${Ri(n.suffix)}$`);n.pattern??(n.pattern=r),i._zod.onattach.push((u)=>{let t=u._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),i._zod.check=(u)=>{if(u.value.endsWith(n.suffix))return;u.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:u.value,inst:i,continue:!n.abort})}});function V6(i,n,r){if(i.issues.length)n.issues.push(...ki(r,i.issues))}var u$=N("$ZodCheckProperty",(i,n)=>{li.init(i,n),i._zod.check=(r)=>{let u=n.schema._zod.run({value:r.value[n.property],issues:[]},{});if(u instanceof Promise)return u.then((t)=>V6(t,r,n.property));V6(u,r,n.property);return}}),o$=N("$ZodCheckMimeType",(i,n)=>{li.init(i,n);let r=new Set(n.mime);i._zod.onattach.push((u)=>{u._zod.bag.mime=n.mime}),i._zod.check=(u)=>{if(r.has(u.value.type))return;u.issues.push({code:"invalid_value",values:n.mime,input:u.value.type,inst:i,continue:!n.abort})}}),l$=N("$ZodCheckOverwrite",(i,n)=>{li.init(i,n),i._zod.check=(r)=>{r.value=n.tx(r.value)}});class Zo{constructor(i=[]){if(this.content=[],this.indent=0,this)this.args=i}indented(i){this.indent+=1,i(this),this.indent-=1}write(i){if(typeof i==="function"){i(this,{execution:"sync"}),i(this,{execution:"async"});return}let r=i.split(`\n`).filter((o)=>o),u=Math.min(...r.map((o)=>o.length-o.trimStart().length)),t=r.map((o)=>o.slice(u)).map((o)=>" ".repeat(this.indent*2)+o);for(let o of t)this.content.push(o)}compile(){let i=Function,n=this?.args,u=[...(this?.content??[""]).map((t)=>`  ${t}`)];return new i(...n,u.join(`\n`))}}var g$={major:4,minor:3,patch:5};var x=N("$ZodType",(i,n)=>{var r;i??(i={}),i._zod.def=n,i._zod.bag=i._zod.bag||{},i._zod.version=g$;let u=[...i._zod.def.checks??[]];if(i._zod.traits.has("$ZodCheck"))u.unshift(i);for(let t of u)for(let o of t._zod.onattach)o(i);if(u.length===0)(r=i._zod).deferred??(r.deferred=[]),i._zod.deferred?.push(()=>{i._zod.run=i._zod.parse});else{let t=(l,e,c)=>{let $=Cn(l),v;for(let _ of e){if(_._zod.def.when){if(!_._zod.def.when(l))continue}else if($)continue;let w=l.issues.length,h=_._zod.check(l);if(h instanceof Promise&&c?.async===!1)throw new $n;if(v||h instanceof Promise)v=(v??Promise.resolve()).then(async()=>{if(await h,l.issues.length===w)return;if(!$)$=Cn(l,w)});else{if(l.issues.length===w)continue;if(!$)$=Cn(l,w)}}if(v)return v.then(()=>{return l});return l},o=(l,e,c)=>{if(Cn(l))return l.aborted=!0,l;let $=t(e,u,c);if($ instanceof Promise){if(c.async===!1)throw new $n;return $.then((v)=>i._zod.parse(v,c))}return i._zod.parse($,c)};i._zod.run=(l,e)=>{if(e.skipChecks)return i._zod.parse(l,e);if(e.direction==="backward"){let $=i._zod.parse({value:l.value,issues:[]},{...e,skipChecks:!0});if($ instanceof Promise)return $.then((v)=>{return o(v,l,e)});return o($,l,e)}let c=i._zod.parse(l,e);if(c instanceof Promise){if(e.async===!1)throw new $n;return c.then(($)=>t($,u,e))}return t(c,u,e)}}Z(i,"~standard",()=>({validate:(t)=>{try{let o=wc(i,t);return o.success?{value:o.data}:{issues:o.error?.issues}}catch(o){return hc(i,t).then((l)=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),It=N("$ZodString",(i,n)=>{x.init(i,n),i._zod.pattern=[...i?._zod.bag?.patterns??[]].pop()??Qc(i._zod.bag),i._zod.parse=(r,u)=>{if(n.coerce)try{r.value=String(r.value)}catch(t){}if(typeof r.value==="string")return r;return r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:i}),r}}),ri=N("$ZodStringFormat",(i,n)=>{Rt.init(i,n),It.init(i,n)}),c$=N("$ZodGUID",(i,n)=>{n.pattern??(n.pattern=Nc),ri.init(i,n)}),$$=N("$ZodUUID",(i,n)=>{if(n.version){let u={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(u===void 0)throw Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Ot(u))}else n.pattern??(n.pattern=Ot());ri.init(i,n)}),v$=N("$ZodEmail",(i,n)=>{n.pattern??(n.pattern=Ec),ri.init(i,n)}),_$=N("$ZodURL",(i,n)=>{ri.init(i,n),i._zod.check=(r)=>{try{let u=r.value.trim(),t=new URL(u);if(n.hostname){if(n.hostname.lastIndex=0,!n.hostname.test(t.hostname))r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:r.value,inst:i,continue:!n.abort})}if(n.protocol){if(n.protocol.lastIndex=0,!n.protocol.test(t.protocol.endsWith(":")?t.protocol.slice(0,-1):t.protocol))r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:i,continue:!n.abort})}if(n.normalize)r.value=t.href;else r.value=u;return}catch(u){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:i,continue:!n.abort})}}}),w$=N("$ZodEmoji",(i,n)=>{n.pattern??(n.pattern=Jc()),ri.init(i,n)}),h$=N("$ZodNanoID",(i,n)=>{n.pattern??(n.pattern=jc),ri.init(i,n)}),b$=N("$ZodCUID",(i,n)=>{n.pattern??(n.pattern=bc),ri.init(i,n)}),f$=N("$ZodCUID2",(i,n)=>{n.pattern??(n.pattern=fc),ri.init(i,n)}),U$=N("$ZodULID",(i,n)=>{n.pattern??(n.pattern=Uc),ri.init(i,n)}),O$=N("$ZodXID",(i,n)=>{n.pattern??(n.pattern=Oc),ri.init(i,n)}),I$=N("$ZodKSUID",(i,n)=>{n.pattern??(n.pattern=Ic),ri.init(i,n)}),j$=N("$ZodISODateTime",(i,n)=>{n.pattern??(n.pattern=Yc(n)),ri.init(i,n)}),D$=N("$ZodISODate",(i,n)=>{n.pattern??(n.pattern=Sc),ri.init(i,n)}),N$=N("$ZodISOTime",(i,n)=>{n.pattern??(n.pattern=mc(n)),ri.init(i,n)}),E$=N("$ZodISODuration",(i,n)=>{n.pattern??(n.pattern=Dc),ri.init(i,n)}),J$=N("$ZodIPv4",(i,n)=>{n.pattern??(n.pattern=zc),ri.init(i,n),i._zod.bag.format="ipv4"}),z$=N("$ZodIPv6",(i,n)=>{n.pattern??(n.pattern=qc),ri.init(i,n),i._zod.bag.format="ipv6",i._zod.check=(r)=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:i,continue:!n.abort})}}}),q$=N("$ZodMAC",(i,n)=>{n.pattern??(n.pattern=Hc(n.delimiter)),ri.init(i,n),i._zod.bag.format="mac"}),H$=N("$ZodCIDRv4",(i,n)=>{n.pattern??(n.pattern=Wc),ri.init(i,n)}),W$=N("$ZodCIDRv6",(i,n)=>{n.pattern??(n.pattern=Gc),ri.init(i,n),i._zod.check=(r)=>{let u=r.value.split("/");try{if(u.length!==2)throw Error();let[t,o]=u;if(!o)throw Error();let l=Number(o);if(`${l}`!==o)throw Error();if(l<0||l>128)throw Error();new URL(`http://[${t}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:i,continue:!n.abort})}}});function G$(i){if(i==="")return!0;if(i.length%4!==0)return!1;try{return atob(i),!0}catch{return!1}}var L$=N("$ZodBase64",(i,n)=>{n.pattern??(n.pattern=Lc),ri.init(i,n),i._zod.bag.contentEncoding="base64",i._zod.check=(r)=>{if(G$(r.value))return;r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:i,continue:!n.abort})}});function p6(i){if(!xo.test(i))return!1;let n=i.replace(/[-_]/g,(u)=>u==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return G$(r)}var X$=N("$ZodBase64URL",(i,n)=>{n.pattern??(n.pattern=xo),ri.init(i,n),i._zod.bag.contentEncoding="base64url",i._zod.check=(r)=>{if(p6(r.value))return;r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:i,continue:!n.abort})}}),S$=N("$ZodE164",(i,n)=>{n.pattern??(n.pattern=Xc),ri.init(i,n)});function s6(i,n=null){try{let r=i.split(".");if(r.length!==3)return!1;let[u]=r;if(!u)return!1;let t=JSON.parse(atob(u));if("typ"in t&&t?.typ!=="JWT")return!1;if(!t.alg)return!1;if(n&&(!("alg"in t)||t.alg!==n))return!1;return!0}catch{return!1}}var m$=N("$ZodJWT",(i,n)=>{ri.init(i,n),i._zod.check=(r)=>{if(s6(r.value,n.alg))return;r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:i,continue:!n.abort})}}),Y$=N("$ZodCustomStringFormat",(i,n)=>{ri.init(i,n),i._zod.check=(r)=>{if(n.fn(r.value))return;r.issues.push({code:"invalid_format",format:n.format,input:r.value,inst:i,continue:!n.abort})}}),tl=N("$ZodNumber",(i,n)=>{x.init(i,n),i._zod.pattern=i._zod.bag.pattern??sr,i._zod.parse=(r,u)=>{if(n.coerce)try{r.value=Number(r.value)}catch(l){}let t=r.value;if(typeof t==="number"&&!Number.isNaN(t)&&Number.isFinite(t))return r;let o=typeof t==="number"?Number.isNaN(t)?"NaN":!Number.isFinite(t)?"Infinity":void 0:void 0;return r.issues.push({expected:"number",code:"invalid_type",input:t,inst:i,...o?{received:o}:{}}),r}}),Q$=N("$ZodNumberFormat",(i,n)=>{Tc.init(i,n),tl.init(i,n)}),tu=N("$ZodBoolean",(i,n)=>{x.init(i,n),i._zod.pattern=Vc,i._zod.parse=(r,u)=>{if(n.coerce)try{r.value=Boolean(r.value)}catch(o){}let t=r.value;if(typeof t==="boolean")return r;return r.issues.push({expected:"boolean",code:"invalid_type",input:t,inst:i}),r}}),rl=N("$ZodBigInt",(i,n)=>{x.init(i,n),i._zod.pattern=Bc,i._zod.parse=(r,u)=>{if(n.coerce)try{r.value=BigInt(r.value)}catch(t){}if(typeof r.value==="bigint")return r;return r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:i}),r}}),B$=N("$ZodBigIntFormat",(i,n)=>{Pc.init(i,n),rl.init(i,n)}),A$=N("$ZodSymbol",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(typeof t==="symbol")return r;return r.issues.push({expected:"symbol",code:"invalid_type",input:t,inst:i}),r}}),V$=N("$ZodUndefined",(i,n)=>{x.init(i,n),i._zod.pattern=yc,i._zod.values=new Set([void 0]),i._zod.optin="optional",i._zod.optout="optional",i._zod.parse=(r,u)=>{let t=r.value;if(typeof t>"u")return r;return r.issues.push({expected:"undefined",code:"invalid_type",input:t,inst:i}),r}}),K$=N("$ZodNull",(i,n)=>{x.init(i,n),i._zod.pattern=Kc,i._zod.values=new Set([null]),i._zod.parse=(r,u)=>{let t=r.value;if(t===null)return r;return r.issues.push({expected:"null",code:"invalid_type",input:t,inst:i}),r}}),y$=N("$ZodAny",(i,n)=>{x.init(i,n),i._zod.parse=(r)=>r}),M$=N("$ZodUnknown",(i,n)=>{x.init(i,n),i._zod.parse=(r)=>r}),k$=N("$ZodNever",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{return r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:i}),r}}),F$=N("$ZodVoid",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(typeof t>"u")return r;return r.issues.push({expected:"void",code:"invalid_type",input:t,inst:i}),r}}),T$=N("$ZodDate",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{if(n.coerce)try{r.value=new Date(r.value)}catch(e){}let t=r.value,o=t instanceof Date;if(o&&!Number.isNaN(t.getTime()))return r;return r.issues.push({expected:"date",code:"invalid_type",input:t,...o?{received:"Invalid Date"}:{},inst:i}),r}});function M6(i,n,r){if(i.issues.length)n.issues.push(...ki(r,i.issues));n.value[r]=i.value}var P$=N("$ZodArray",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(!Array.isArray(t))return r.issues.push({expected:"array",code:"invalid_type",input:t,inst:i}),r;r.value=Array(t.length);let o=[];for(let l=0;l<t.length;l++){let e=t[l],c=n.element._zod.run({value:e,issues:[]},u);if(c instanceof Promise)o.push(c.then(($)=>M6($,r,l)));else M6(c,r,l)}if(o.length)return Promise.all(o).then(()=>r);return r}});function nl(i,n,r,u,t){if(i.issues.length){if(t&&!(r in u))return;n.issues.push(...ki(r,i.issues))}if(i.value===void 0){if(r in u)n.value[r]=void 0}else n.value[r]=i.value}function iU(i){let n=Object.keys(i.shape);for(let u of n)if(!i.shape?.[u]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${u}": expected a Zod schema`);let r=ec(i.shape);return{...i,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function nU(i,n,r,u,t,o){let l=[],e=t.keySet,c=t.catchall._zod,$=c.def.type,v=c.optout==="optional";for(let _ in n){if(e.has(_))continue;if($==="never"){l.push(_);continue}let w=c.run({value:n[_],issues:[]},u);if(w instanceof Promise)i.push(w.then((h)=>nl(h,r,_,n,v)));else nl(w,r,_,n,v)}if(l.length)r.issues.push({code:"unrecognized_keys",keys:l,input:n,inst:o});if(!i.length)return r;return Promise.all(i).then(()=>{return r})}var tU=N("$ZodObject",(i,n)=>{if(x.init(i,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){let e=n.shape;Object.defineProperty(n,"shape",{get:()=>{let c={...e};return Object.defineProperty(n,"shape",{value:c}),c}})}let u=kt(()=>iU(n));Z(i._zod,"propValues",()=>{let e=n.shape,c={};for(let $ in e){let v=e[$]._zod;if(v.values){c[$]??(c[$]=new Set);for(let _ of v.values)c[$].add(_)}}return c});let t=Ut,o=n.catchall,l;i._zod.parse=(e,c)=>{l??(l=u.value);let $=e.value;if(!t($))return e.issues.push({expected:"object",code:"invalid_type",input:$,inst:i}),e;e.value={};let v=[],_=l.shape;for(let w of l.keys){let h=_[w],f=h._zod.optout==="optional",U=h._zod.run({value:$[w],issues:[]},c);if(U instanceof Promise)v.push(U.then((j)=>nl(j,e,w,$,f)));else nl(U,e,w,$,f)}if(!o)return v.length?Promise.all(v).then(()=>e):e;return nU(v,$,e,c,u.value,i)}}),x$=N("$ZodObjectJIT",(i,n)=>{tU.init(i,n);let r=i._zod.parse,u=kt(()=>iU(n)),t=(w)=>{let h=new Zo(["shape","payload","ctx"]),f=u.value,U=(O)=>{let b=Yo(O);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};h.write("const input = payload.value;");let j=Object.create(null),q=0;for(let O of f.keys)j[O]=`key_${q++}`;h.write("const newResult = {};");for(let O of f.keys){let b=j[O],I=Yo(O),Y=w[O]?._zod?.optout==="optional";if(h.write(`const ${b} = ${U(O)};`),Y)h.write(`\n        if (${b}.issues.length) {\n          if (${I} in input) {\n            payload.issues = payload.issues.concat(${b}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${I}, ...iss.path] : [${I}]\n            })));\n          }\n        }\n        \n        if (${b}.value === undefined) {\n          if (${I} in input) {\n            newResult[${I}] = undefined;\n          }\n        } else {\n          newResult[${I}] = ${b}.value;\n        }\n        \n      `);else h.write(`\n        if (${b}.issues.length) {\n          payload.issues = payload.issues.concat(${b}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${I}, ...iss.path] : [${I}]\n          })));\n        }\n        \n        if (${b}.value === undefined) {\n          if (${I} in input) {\n            newResult[${I}] = undefined;\n          }\n        } else {\n          newResult[${I}] = ${b}.value;\n        }\n        \n      `)}h.write("payload.value = newResult;"),h.write("return payload;");let D=h.compile();return(O,b)=>D(w,O,b)},o,l=Ut,e=!Fr.jitless,$=e&&oc.value,v=n.catchall,_;i._zod.parse=(w,h)=>{_??(_=u.value);let f=w.value;if(!l(f))return w.issues.push({expected:"object",code:"invalid_type",input:f,inst:i}),w;if(e&&$&&h?.async===!1&&h.jitless!==!0){if(!o)o=t(n.shape);if(w=o(w,h),!v)return w;return nU([],f,w,h,_,i)}return r(w,h)}});function k6(i,n,r,u){for(let o of i)if(o.issues.length===0)return n.value=o.value,n;let t=i.filter((o)=>!Cn(o));if(t.length===1)return n.value=t[0].value,t[0];return n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:i.map((o)=>o.issues.map((l)=>Vi(l,u,bi())))}),n}var ru=N("$ZodUnion",(i,n)=>{x.init(i,n),Z(i._zod,"optin",()=>n.options.some((t)=>t._zod.optin==="optional")?"optional":void 0),Z(i._zod,"optout",()=>n.options.some((t)=>t._zod.optout==="optional")?"optional":void 0),Z(i._zod,"values",()=>{if(n.options.every((t)=>t._zod.values))return new Set(n.options.flatMap((t)=>Array.from(t._zod.values)));return}),Z(i._zod,"pattern",()=>{if(n.options.every((t)=>t._zod.pattern)){let t=n.options.map((o)=>o._zod.pattern);return new RegExp(`^(${t.map((o)=>xr(o.source)).join("|")})$`)}return});let r=n.options.length===1,u=n.options[0]._zod.run;i._zod.parse=(t,o)=>{if(r)return u(t,o);let l=!1,e=[];for(let c of n.options){let $=c._zod.run({value:t.value,issues:[]},o);if($ instanceof Promise)e.push($),l=!0;else{if($.issues.length===0)return $;e.push($)}}if(!l)return k6(e,t,i,o);return Promise.all(e).then((c)=>{return k6(c,t,i,o)})}});function F6(i,n,r,u){let t=i.filter((o)=>o.issues.length===0);if(t.length===1)return n.value=t[0].value,n;if(t.length===0)n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:i.map((o)=>o.issues.map((l)=>Vi(l,u,bi())))});else n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:[],inclusive:!1});return n}var C$=N("$ZodXor",(i,n)=>{ru.init(i,n),n.inclusive=!1;let r=n.options.length===1,u=n.options[0]._zod.run;i._zod.parse=(t,o)=>{if(r)return u(t,o);let l=!1,e=[];for(let c of n.options){let $=c._zod.run({value:t.value,issues:[]},o);if($ instanceof Promise)e.push($),l=!0;else e.push($)}if(!l)return F6(e,t,i,o);return Promise.all(e).then((c)=>{return F6(c,t,i,o)})}}),R$=N("$ZodDiscriminatedUnion",(i,n)=>{n.inclusive=!1,ru.init(i,n);let r=i._zod.parse;Z(i._zod,"propValues",()=>{let t={};for(let o of n.options){let l=o._zod.propValues;if(!l||Object.keys(l).length===0)throw Error(`Invalid discriminated union option at index "${n.options.indexOf(o)}"`);for(let[e,c]of Object.entries(l)){if(!t[e])t[e]=new Set;for(let $ of c)t[e].add($)}}return t});let u=kt(()=>{let t=n.options,o=new Map;for(let l of t){let e=l._zod.propValues?.[n.discriminator];if(!e||e.size===0)throw Error(`Invalid discriminated union option at index "${n.options.indexOf(l)}"`);for(let c of e){if(o.has(c))throw Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,l)}}return o});i._zod.parse=(t,o)=>{let l=t.value;if(!Ut(l))return t.issues.push({code:"invalid_type",expected:"object",input:l,inst:i}),t;let e=u.value.get(l?.[n.discriminator]);if(e)return e._zod.run(t,o);if(n.unionFallback)return r(t,o);return t.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:n.discriminator,input:l,path:[n.discriminator],inst:i}),t}}),d$=N("$ZodIntersection",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value,o=n.left._zod.run({value:t,issues:[]},u),l=n.right._zod.run({value:t,issues:[]},u);if(o instanceof Promise||l instanceof Promise)return Promise.all([o,l]).then(([c,$])=>{return T6(r,c,$)});return T6(r,o,l)}});function e$(i,n){if(i===n)return{valid:!0,data:i};if(i instanceof Date&&n instanceof Date&&+i===+n)return{valid:!0,data:i};if(xn(i)&&xn(n)){let r=Object.keys(n),u=Object.keys(i).filter((o)=>r.indexOf(o)!==-1),t={...i,...n};for(let o of u){let l=e$(i[o],n[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};t[o]=l.data}return{valid:!0,data:t}}if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let u=0;u<i.length;u++){let t=i[u],o=n[u],l=e$(t,o);if(!l.valid)return{valid:!1,mergeErrorPath:[u,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function T6(i,n,r){let u=new Map,t;for(let e of n.issues)if(e.code==="unrecognized_keys"){t??(t=e);for(let c of e.keys){if(!u.has(c))u.set(c,{});u.get(c).l=!0}}else i.issues.push(e);for(let e of r.issues)if(e.code==="unrecognized_keys")for(let c of e.keys){if(!u.has(c))u.set(c,{});u.get(c).r=!0}else i.issues.push(e);let o=[...u].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(o.length&&t)i.issues.push({...t,keys:o});if(Cn(i))return i;let l=e$(n.value,r.value);if(!l.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return i.value=l.data,i}var ul=N("$ZodTuple",(i,n)=>{x.init(i,n);let r=n.items;i._zod.parse=(u,t)=>{let o=u.value;if(!Array.isArray(o))return u.issues.push({input:o,inst:i,expected:"tuple",code:"invalid_type"}),u;u.value=[];let l=[],e=[...r].reverse().findIndex((v)=>v._zod.optin!=="optional"),c=e===-1?0:r.length-e;if(!n.rest){let v=o.length>r.length,_=o.length<c-1;if(v||_)return u.issues.push({...v?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:o,inst:i,origin:"array"}),u}let $=-1;for(let v of r){if($++,$>=o.length){if($>=c)continue}let _=v._zod.run({value:o[$],issues:[]},t);if(_ instanceof Promise)l.push(_.then((w)=>ao(w,u,$)));else ao(_,u,$)}if(n.rest){let v=o.slice(r.length);for(let _ of v){$++;let w=n.rest._zod.run({value:_,issues:[]},t);if(w instanceof Promise)l.push(w.then((h)=>ao(h,u,$)));else ao(w,u,$)}}if(l.length)return Promise.all(l).then(()=>u);return u}});function ao(i,n,r){if(i.issues.length)n.issues.push(...ki(r,i.issues));n.value[r]=i.value}var Z$=N("$ZodRecord",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(!xn(t))return r.issues.push({expected:"record",code:"invalid_type",input:t,inst:i}),r;let o=[],l=n.keyType._zod.values;if(l){r.value={};let e=new Set;for(let $ of l)if(typeof $==="string"||typeof $==="number"||typeof $==="symbol"){e.add(typeof $==="number"?$.toString():$);let v=n.valueType._zod.run({value:t[$],issues:[]},u);if(v instanceof Promise)o.push(v.then((_)=>{if(_.issues.length)r.issues.push(...ki($,_.issues));r.value[$]=_.value}));else{if(v.issues.length)r.issues.push(...ki($,v.issues));r.value[$]=v.value}}let c;for(let $ in t)if(!e.has($))c=c??[],c.push($);if(c&&c.length>0)r.issues.push({code:"unrecognized_keys",input:t,inst:i,keys:c})}else{r.value={};for(let e of Reflect.ownKeys(t)){if(e==="__proto__")continue;let c=n.keyType._zod.run({value:e,issues:[]},u);if(c instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(typeof e==="string"&&sr.test(e)&&c.issues.length&&c.issues.some((_)=>_.code==="invalid_type"&&_.expected==="number")){let _=n.keyType._zod.run({value:Number(e),issues:[]},u);if(_ instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(_.issues.length===0)c=_}if(c.issues.length){if(n.mode==="loose")r.value[e]=t[e];else r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map((_)=>Vi(_,u,bi())),input:e,path:[e],inst:i});continue}let v=n.valueType._zod.run({value:t[e],issues:[]},u);if(v instanceof Promise)o.push(v.then((_)=>{if(_.issues.length)r.issues.push(...ki(e,_.issues));r.value[c.value]=_.value}));else{if(v.issues.length)r.issues.push(...ki(e,v.issues));r.value[c.value]=v.value}}}if(o.length)return Promise.all(o).then(()=>r);return r}}),a$=N("$ZodMap",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(!(t instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:t,inst:i}),r;let o=[];r.value=new Map;for(let[l,e]of t){let c=n.keyType._zod.run({value:l,issues:[]},u),$=n.valueType._zod.run({value:e,issues:[]},u);if(c instanceof Promise||$ instanceof Promise)o.push(Promise.all([c,$]).then(([v,_])=>{P6(v,_,r,l,t,i,u)}));else P6(c,$,r,l,t,i,u)}if(o.length)return Promise.all(o).then(()=>r);return r}});function P6(i,n,r,u,t,o,l){if(i.issues.length)if(Cr.has(typeof u))r.issues.push(...ki(u,i.issues));else r.issues.push({code:"invalid_key",origin:"map",input:t,inst:o,issues:i.issues.map((e)=>Vi(e,l,bi()))});if(n.issues.length)if(Cr.has(typeof u))r.issues.push(...ki(u,n.issues));else r.issues.push({origin:"map",code:"invalid_element",input:t,inst:o,key:u,issues:n.issues.map((e)=>Vi(e,l,bi()))});r.value.set(i.value,n.value)}var p$=N("$ZodSet",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(!(t instanceof Set))return r.issues.push({input:t,inst:i,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let l of t){let e=n.valueType._zod.run({value:l,issues:[]},u);if(e instanceof Promise)o.push(e.then((c)=>x6(c,r)));else x6(e,r)}if(o.length)return Promise.all(o).then(()=>r);return r}});function x6(i,n){if(i.issues.length)n.issues.push(...i.issues);n.value.add(i.value)}var s$=N("$ZodEnum",(i,n)=>{x.init(i,n);let r=Pr(n.entries),u=new Set(r);i._zod.values=u,i._zod.pattern=new RegExp(`^(${r.filter((t)=>Cr.has(typeof t)).map((t)=>typeof t==="string"?Ri(t):t.toString()).join("|")})$`),i._zod.parse=(t,o)=>{let l=t.value;if(u.has(l))return t;return t.issues.push({code:"invalid_value",values:r,input:l,inst:i}),t}}),iv=N("$ZodLiteral",(i,n)=>{if(x.init(i,n),n.values.length===0)throw Error("Cannot create literal schema with no valid values");let r=new Set(n.values);i._zod.values=r,i._zod.pattern=new RegExp(`^(${n.values.map((u)=>typeof u==="string"?Ri(u):u?Ri(u.toString()):String(u)).join("|")})$`),i._zod.parse=(u,t)=>{let o=u.value;if(r.has(o))return u;return u.issues.push({code:"invalid_value",values:n.values,input:o,inst:i}),u}}),nv=N("$ZodFile",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{let t=r.value;if(t instanceof File)return r;return r.issues.push({expected:"file",code:"invalid_type",input:t,inst:i}),r}}),tv=N("$ZodTransform",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{if(u.direction==="backward")throw new ft(i.constructor.name);let t=n.transform(r.value,r);if(u.async)return(t instanceof Promise?t:Promise.resolve(t)).then((l)=>{return r.value=l,r});if(t instanceof Promise)throw new $n;return r.value=t,r}});function C6(i,n){if(i.issues.length&&n===void 0)return{issues:[],value:void 0};return i}var ol=N("$ZodOptional",(i,n)=>{x.init(i,n),i._zod.optin="optional",i._zod.optout="optional",Z(i._zod,"values",()=>{return n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0}),Z(i._zod,"pattern",()=>{let r=n.innerType._zod.pattern;return r?new RegExp(`^(${xr(r.source)})?$`):void 0}),i._zod.parse=(r,u)=>{if(n.innerType._zod.optin==="optional"){let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>C6(o,r.value));return C6(t,r.value)}if(r.value===void 0)return r;return n.innerType._zod.run(r,u)}}),rv=N("$ZodExactOptional",(i,n)=>{ol.init(i,n),Z(i._zod,"values",()=>n.innerType._zod.values),Z(i._zod,"pattern",()=>n.innerType._zod.pattern),i._zod.parse=(r,u)=>{return n.innerType._zod.run(r,u)}}),uv=N("$ZodNullable",(i,n)=>{x.init(i,n),Z(i._zod,"optin",()=>n.innerType._zod.optin),Z(i._zod,"optout",()=>n.innerType._zod.optout),Z(i._zod,"pattern",()=>{let r=n.innerType._zod.pattern;return r?new RegExp(`^(${xr(r.source)}|null)$`):void 0}),Z(i._zod,"values",()=>{return n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0}),i._zod.parse=(r,u)=>{if(r.value===null)return r;return n.innerType._zod.run(r,u)}}),ov=N("$ZodDefault",(i,n)=>{x.init(i,n),i._zod.optin="optional",Z(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(r,u)=>{if(u.direction==="backward")return n.innerType._zod.run(r,u);if(r.value===void 0)return r.value=n.defaultValue,r;let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>R6(o,n));return R6(t,n)}});function R6(i,n){if(i.value===void 0)i.value=n.defaultValue;return i}var lv=N("$ZodPrefault",(i,n)=>{x.init(i,n),i._zod.optin="optional",Z(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(r,u)=>{if(u.direction==="backward")return n.innerType._zod.run(r,u);if(r.value===void 0)r.value=n.defaultValue;return n.innerType._zod.run(r,u)}}),gv=N("$ZodNonOptional",(i,n)=>{x.init(i,n),Z(i._zod,"values",()=>{let r=n.innerType._zod.values;return r?new Set([...r].filter((u)=>u!==void 0)):void 0}),i._zod.parse=(r,u)=>{let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>d6(o,i));return d6(t,i)}});function d6(i,n){if(!i.issues.length&&i.value===void 0)i.issues.push({code:"invalid_type",expected:"nonoptional",input:i.value,inst:n});return i}var ev=N("$ZodSuccess",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{if(u.direction==="backward")throw new ft("ZodSuccess");let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>{return r.value=o.issues.length===0,r});return r.value=t.issues.length===0,r}}),cv=N("$ZodCatch",(i,n)=>{x.init(i,n),Z(i._zod,"optin",()=>n.innerType._zod.optin),Z(i._zod,"optout",()=>n.innerType._zod.optout),Z(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(r,u)=>{if(u.direction==="backward")return n.innerType._zod.run(r,u);let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>{if(r.value=o.value,o.issues.length)r.value=n.catchValue({...r,error:{issues:o.issues.map((l)=>Vi(l,u,bi()))},input:r.value}),r.issues=[];return r});if(r.value=t.value,t.issues.length)r.value=n.catchValue({...r,error:{issues:t.issues.map((o)=>Vi(o,u,bi()))},input:r.value}),r.issues=[];return r}}),$v=N("$ZodNaN",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{if(typeof r.value!=="number"||!Number.isNaN(r.value))return r.issues.push({input:r.value,inst:i,expected:"nan",code:"invalid_type"}),r;return r}}),vv=N("$ZodPipe",(i,n)=>{x.init(i,n),Z(i._zod,"values",()=>n.in._zod.values),Z(i._zod,"optin",()=>n.in._zod.optin),Z(i._zod,"optout",()=>n.out._zod.optout),Z(i._zod,"propValues",()=>n.in._zod.propValues),i._zod.parse=(r,u)=>{if(u.direction==="backward"){let o=n.out._zod.run(r,u);if(o instanceof Promise)return o.then((l)=>po(l,n.in,u));return po(o,n.in,u)}let t=n.in._zod.run(r,u);if(t instanceof Promise)return t.then((o)=>po(o,n.out,u));return po(t,n.out,u)}});function po(i,n,r){if(i.issues.length)return i.aborted=!0,i;return n._zod.run({value:i.value,issues:i.issues},r)}var uu=N("$ZodCodec",(i,n)=>{x.init(i,n),Z(i._zod,"values",()=>n.in._zod.values),Z(i._zod,"optin",()=>n.in._zod.optin),Z(i._zod,"optout",()=>n.out._zod.optout),Z(i._zod,"propValues",()=>n.in._zod.propValues),i._zod.parse=(r,u)=>{if((u.direction||"forward")==="forward"){let o=n.in._zod.run(r,u);if(o instanceof Promise)return o.then((l)=>so(l,n,u));return so(o,n,u)}else{let o=n.out._zod.run(r,u);if(o instanceof Promise)return o.then((l)=>so(l,n,u));return so(o,n,u)}}});function so(i,n,r){if(i.issues.length)return i.aborted=!0,i;if((r.direction||"forward")==="forward"){let t=n.transform(i.value,i);if(t instanceof Promise)return t.then((o)=>il(i,o,n.out,r));return il(i,t,n.out,r)}else{let t=n.reverseTransform(i.value,i);if(t instanceof Promise)return t.then((o)=>il(i,o,n.in,r));return il(i,t,n.in,r)}}function il(i,n,r,u){if(i.issues.length)return i.aborted=!0,i;return r._zod.run({value:n,issues:i.issues},u)}var _v=N("$ZodReadonly",(i,n)=>{x.init(i,n),Z(i._zod,"propValues",()=>n.innerType._zod.propValues),Z(i._zod,"values",()=>n.innerType._zod.values),Z(i._zod,"optin",()=>n.innerType?._zod?.optin),Z(i._zod,"optout",()=>n.innerType?._zod?.optout),i._zod.parse=(r,u)=>{if(u.direction==="backward")return n.innerType._zod.run(r,u);let t=n.innerType._zod.run(r,u);if(t instanceof Promise)return t.then(Z6);return Z6(t)}});function Z6(i){return i.value=Object.freeze(i.value),i}var wv=N("$ZodTemplateLiteral",(i,n)=>{x.init(i,n);let r=[];for(let u of n.parts)if(typeof u==="object"&&u!==null){if(!u._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...u._zod.traits].shift()}`);let t=u._zod.pattern instanceof RegExp?u._zod.pattern.source:u._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${u._zod.traits}`);let o=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(o,l))}else if(u===null||gc.has(typeof u))r.push(Ri(`${u}`));else throw Error(`Invalid template literal part: ${u}`);i._zod.pattern=new RegExp(`^${r.join("")}$`),i._zod.parse=(u,t)=>{if(typeof u.value!=="string")return u.issues.push({input:u.value,inst:i,expected:"string",code:"invalid_type"}),u;if(i._zod.pattern.lastIndex=0,!i._zod.pattern.test(u.value))return u.issues.push({input:u.value,inst:i,code:"invalid_format",format:n.format??"template_literal",pattern:i._zod.pattern.source}),u;return u}}),hv=N("$ZodFunction",(i,n)=>{return x.init(i,n),i._def=n,i._zod.def=n,i.implement=(r)=>{if(typeof r!=="function")throw Error("implement() must be called with a function");return function(...u){let t=i._def.input?Bo(i._def.input,u):u,o=Reflect.apply(r,this,t);if(i._def.output)return Bo(i._def.output,o);return o}},i.implementAsync=(r)=>{if(typeof r!=="function")throw Error("implementAsync() must be called with a function");return async function(...u){let t=i._def.input?await Ao(i._def.input,u):u,o=await Reflect.apply(r,this,t);if(i._def.output)return await Ao(i._def.output,o);return o}},i._zod.parse=(r,u)=>{if(typeof r.value!=="function")return r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:i}),r;if(i._def.output&&i._def.output._zod.def.type==="promise")r.value=i.implementAsync(r.value);else r.value=i.implement(r.value);return r},i.input=(...r)=>{let u=i.constructor;if(Array.isArray(r[0]))return new u({type:"function",input:new ul({type:"tuple",items:r[0],rest:r[1]}),output:i._def.output});return new u({type:"function",input:r[0],output:i._def.output})},i.output=(r)=>{return new i.constructor({type:"function",input:i._def.input,output:r})},i}),bv=N("$ZodPromise",(i,n)=>{x.init(i,n),i._zod.parse=(r,u)=>{return Promise.resolve(r.value).then((t)=>n.innerType._zod.run({value:t,issues:[]},u))}}),fv=N("$ZodLazy",(i,n)=>{x.init(i,n),Z(i._zod,"innerType",()=>n.getter()),Z(i._zod,"pattern",()=>i._zod.innerType?._zod?.pattern),Z(i._zod,"propValues",()=>i._zod.innerType?._zod?.propValues),Z(i._zod,"optin",()=>i._zod.innerType?._zod?.optin??void 0),Z(i._zod,"optout",()=>i._zod.innerType?._zod?.optout??void 0),i._zod.parse=(r,u)=>{return i._zod.innerType._zod.run(r,u)}}),Uv=N("$ZodCustom",(i,n)=>{li.init(i,n),x.init(i,n),i._zod.parse=(r,u)=>{return r},i._zod.check=(r)=>{let u=r.value,t=n.fn(u);if(t instanceof Promise)return t.then((o)=>a6(o,r,u,i));a6(t,r,u,i);return}});function a6(i,n,r,u){if(!i){let t={code:"custom",input:r,inst:u,path:[...u._zod.def.path??[]],continue:!u._zod.def.abort};if(u._zod.def.params)t.params=u._zod.def.params;n.issues.push(Ft(t))}}var cu={};ln(cu,{zhTW:()=>e_,zhCN:()=>g_,yo:()=>c_,vi:()=>l_,uz:()=>o_,ur:()=>u_,uk:()=>eu,ua:()=>r_,tr:()=>t_,th:()=>n_,ta:()=>i_,sv:()=>sv,sl:()=>pv,ru:()=>av,pt:()=>Zv,ps:()=>Rv,pl:()=>dv,ota:()=>Cv,no:()=>xv,nl:()=>Pv,ms:()=>Tv,mk:()=>Fv,lt:()=>kv,ko:()=>Mv,km:()=>lu,kh:()=>yv,ka:()=>Kv,ja:()=>Vv,it:()=>Av,is:()=>Bv,id:()=>Qv,hy:()=>Yv,hu:()=>mv,he:()=>Sv,frCA:()=>Xv,fr:()=>Lv,fi:()=>Gv,fa:()=>Wv,es:()=>Hv,eo:()=>qv,en:()=>ou,de:()=>zv,da:()=>Jv,cs:()=>Ev,ca:()=>Nv,bg:()=>Dv,be:()=>jv,az:()=>Iv,ar:()=>Ov});var QH=()=>{let i={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function n(t){return i[t]??null}let r={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`مدخلات غير مقبولة: يفترض إدخال instanceof ${t.expected}، ولكن تم إدخال ${e}`;return`مدخلات غير مقبولة: يفترض إدخال ${o}، ولكن تم إدخال ${e}`}case"invalid_value":if(t.values.length===1)return`مدخلات غير مقبولة: يفترض إدخال ${H(t.values[0])}`;return`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return` أكبر من اللازم: يفترض أن تكون ${t.origin??"القيمة"} ${o} ${t.maximum.toString()} ${l.unit??"عنصر"}`;return`أكبر من اللازم: يفترض أن تكون ${t.origin??"القيمة"} ${o} ${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`أصغر من اللازم: يفترض لـ ${t.origin} أن يكون ${o} ${t.minimum.toString()} ${l.unit}`;return`أصغر من اللازم: يفترض لـ ${t.origin} أن يكون ${o} ${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`نَص غير مقبول: يجب أن يبدأ بـ "${t.prefix}"`;if(o.format==="ends_with")return`نَص غير مقبول: يجب أن ينتهي بـ "${o.suffix}"`;if(o.format==="includes")return`نَص غير مقبول: يجب أن يتضمَّن "${o.includes}"`;if(o.format==="regex")return`نَص غير مقبول: يجب أن يطابق النمط ${o.pattern}`;return`${r[o.format]??t.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${t.divisor}`;case"unrecognized_keys":return`معرف${t.keys.length>1?"ات":""} غريب${t.keys.length>1?"ة":""}: ${J(t.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${t.origin}`;case"invalid_union":return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${t.origin}`;default:return"مدخل غير مقبول"}}};function Ov(){return{localeError:QH()}}var BH=()=>{let i={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function n(t){return i[t]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Yanlış dəyər: gözlənilən instanceof ${t.expected}, daxil olan ${e}`;return`Yanlış dəyər: gözlənilən ${o}, daxil olan ${e}`}case"invalid_value":if(t.values.length===1)return`Yanlış dəyər: gözlənilən ${H(t.values[0])}`;return`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Çox böyük: gözlənilən ${t.origin??"dəyər"} ${o}${t.maximum.toString()} ${l.unit??"element"}`;return`Çox böyük: gözlənilən ${t.origin??"dəyər"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Çox kiçik: gözlənilən ${t.origin} ${o}${t.minimum.toString()} ${l.unit}`;return`Çox kiçik: gözlənilən ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Yanlış mətn: "${o.prefix}" ilə başlamalıdır`;if(o.format==="ends_with")return`Yanlış mətn: "${o.suffix}" ilə bitməlidir`;if(o.format==="includes")return`Yanlış mətn: "${o.includes}" daxil olmalıdır`;if(o.format==="regex")return`Yanlış mətn: ${o.pattern} şablonuna uyğun olmalıdır`;return`Yanlış ${r[o.format]??t.format}`}case"not_multiple_of":return`Yanlış ədəd: ${t.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${t.keys.length>1?"lar":""}: ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} daxilində yanlış açar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${t.origin} daxilində yanlış dəyər`;default:return"Yanlış dəyər"}}};function Iv(){return{localeError:BH()}}function rU(i,n,r,u){let t=Math.abs(i),o=t%10,l=t%100;if(l>=11&&l<=19)return u;if(o===1)return n;if(o>=2&&o<=4)return r;return u}var AH=()=>{let i={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function n(t){return i[t]??null}let r={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"},u={nan:"NaN",number:"лік",array:"масіў"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Няправільны ўвод: чакаўся instanceof ${t.expected}, атрымана ${e}`;return`Няправільны ўвод: чакаўся ${o}, атрымана ${e}`}case"invalid_value":if(t.values.length===1)return`Няправільны ўвод: чакалася ${H(t.values[0])}`;return`Няправільны варыянт: чакаўся адзін з ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l){let e=Number(t.maximum),c=rU(e,l.unit.one,l.unit.few,l.unit.many);return`Занадта вялікі: чакалася, што ${t.origin??"значэнне"} павінна ${l.verb} ${o}${t.maximum.toString()} ${c}`}return`Занадта вялікі: чакалася, што ${t.origin??"значэнне"} павінна быць ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l){let e=Number(t.minimum),c=rU(e,l.unit.one,l.unit.few,l.unit.many);return`Занадта малы: чакалася, што ${t.origin} павінна ${l.verb} ${o}${t.minimum.toString()} ${c}`}return`Занадта малы: чакалася, што ${t.origin} павінна быць ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Няправільны радок: павінен пачынацца з "${o.prefix}"`;if(o.format==="ends_with")return`Няправільны радок: павінен заканчвацца на "${o.suffix}"`;if(o.format==="includes")return`Няправільны радок: павінен змяшчаць "${o.includes}"`;if(o.format==="regex")return`Няправільны радок: павінен адпавядаць шаблону ${o.pattern}`;return`Няправільны ${r[o.format]??t.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${t.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${t.keys.length>1?"ключы":"ключ"}: ${J(t.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${t.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${t.origin}`;default:return"Няправільны ўвод"}}};function jv(){return{localeError:AH()}}var VH=()=>{let i={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}};function n(t){return i[t]??null}let r={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"},u={nan:"NaN",number:"число",array:"масив"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Невалиден вход: очакван instanceof ${t.expected}, получен ${e}`;return`Невалиден вход: очакван ${o}, получен ${e}`}case"invalid_value":if(t.values.length===1)return`Невалиден вход: очакван ${H(t.values[0])}`;return`Невалидна опция: очаквано едно от ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Твърде голямо: очаква се ${t.origin??"стойност"} да съдържа ${o}${t.maximum.toString()} ${l.unit??"елемента"}`;return`Твърде голямо: очаква се ${t.origin??"стойност"} да бъде ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Твърде малко: очаква се ${t.origin} да съдържа ${o}${t.minimum.toString()} ${l.unit}`;return`Твърде малко: очаква се ${t.origin} да бъде ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Невалиден низ: трябва да започва с "${o.prefix}"`;if(o.format==="ends_with")return`Невалиден низ: трябва да завършва с "${o.suffix}"`;if(o.format==="includes")return`Невалиден низ: трябва да включва "${o.includes}"`;if(o.format==="regex")return`Невалиден низ: трябва да съвпада с ${o.pattern}`;let l="Невалиден";if(o.format==="emoji")l="Невалидно";if(o.format==="datetime")l="Невалидно";if(o.format==="date")l="Невалидна";if(o.format==="time")l="Невалидно";if(o.format==="duration")l="Невалидна";return`${l} ${r[o.format]??t.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${t.divisor}`;case"unrecognized_keys":return`Неразпознат${t.keys.length>1?"и":""} ключ${t.keys.length>1?"ове":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${t.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${t.origin}`;default:return"Невалиден вход"}}};function Dv(){return{localeError:VH()}}var KH=()=>{let i={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function n(t){return i[t]??null}let r={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Tipus invàlid: s\'esperava instanceof ${t.expected}, s\'ha rebut ${e}`;return`Tipus invàlid: s\'esperava ${o}, s\'ha rebut ${e}`}case"invalid_value":if(t.values.length===1)return`Valor invàlid: s\'esperava ${H(t.values[0])}`;return`Opció invàlida: s\'esperava una de ${J(t.values," o ")}`;case"too_big":{let o=t.inclusive?"com a màxim":"menys de",l=n(t.origin);if(l)return`Massa gran: s\'esperava que ${t.origin??"el valor"} contingués ${o} ${t.maximum.toString()} ${l.unit??"elements"}`;return`Massa gran: s\'esperava que ${t.origin??"el valor"} fos ${o} ${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?"com a mínim":"més de",l=n(t.origin);if(l)return`Massa petit: s\'esperava que ${t.origin} contingués ${o} ${t.minimum.toString()} ${l.unit}`;return`Massa petit: s\'esperava que ${t.origin} fos ${o} ${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Format invàlid: ha de començar amb "${o.prefix}"`;if(o.format==="ends_with")return`Format invàlid: ha d\'acabar amb "${o.suffix}"`;if(o.format==="includes")return`Format invàlid: ha d\'incloure "${o.includes}"`;if(o.format==="regex")return`Format invàlid: ha de coincidir amb el patró ${o.pattern}`;return`Format invàlid per a ${r[o.format]??t.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${t.divisor}`;case"unrecognized_keys":return`Clau${t.keys.length>1?"s":""} no reconeguda${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${t.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${t.origin}`;default:return"Entrada invàlida"}}};function Nv(){return{localeError:KH()}}var yH=()=>{let i={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function n(t){return i[t]??null}let r={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"},u={nan:"NaN",number:"číslo",string:"řetězec",function:"funkce",array:"pole"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Neplatný vstup: očekáváno instanceof ${t.expected}, obdrženo ${e}`;return`Neplatný vstup: očekáváno ${o}, obdrženo ${e}`}case"invalid_value":if(t.values.length===1)return`Neplatný vstup: očekáváno ${H(t.values[0])}`;return`Neplatná možnost: očekávána jedna z hodnot ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Hodnota je příliš velká: ${t.origin??"hodnota"} musí mít ${o}${t.maximum.toString()} ${l.unit??"prvků"}`;return`Hodnota je příliš velká: ${t.origin??"hodnota"} musí být ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Hodnota je příliš malá: ${t.origin??"hodnota"} musí mít ${o}${t.minimum.toString()} ${l.unit??"prvků"}`;return`Hodnota je příliš malá: ${t.origin??"hodnota"} musí být ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Neplatný řetězec: musí začínat na "${o.prefix}"`;if(o.format==="ends_with")return`Neplatný řetězec: musí končit na "${o.suffix}"`;if(o.format==="includes")return`Neplatný řetězec: musí obsahovat "${o.includes}"`;if(o.format==="regex")return`Neplatný řetězec: musí odpovídat vzoru ${o.pattern}`;return`Neplatný formát ${r[o.format]??t.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${t.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${J(t.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${t.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${t.origin}`;default:return"Neplatný vstup"}}};function Ev(){return{localeError:yH()}}var MH=()=>{let i={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function n(t){return i[t]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},u={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ugyldigt input: forventede instanceof ${t.expected}, fik ${e}`;return`Ugyldigt input: forventede ${o}, fik ${e}`}case"invalid_value":if(t.values.length===1)return`Ugyldig værdi: forventede ${H(t.values[0])}`;return`Ugyldigt valg: forventede en af følgende ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin),e=u[t.origin]??t.origin;if(l)return`For stor: forventede ${e??"value"} ${l.verb} ${o} ${t.maximum.toString()} ${l.unit??"elementer"}`;return`For stor: forventede ${e??"value"} havde ${o} ${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin),e=u[t.origin]??t.origin;if(l)return`For lille: forventede ${e} ${l.verb} ${o} ${t.minimum.toString()} ${l.unit}`;return`For lille: forventede ${e} havde ${o} ${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ugyldig streng: skal starte med "${o.prefix}"`;if(o.format==="ends_with")return`Ugyldig streng: skal ende med "${o.suffix}"`;if(o.format==="includes")return`Ugyldig streng: skal indeholde "${o.includes}"`;if(o.format==="regex")return`Ugyldig streng: skal matche mønsteret ${o.pattern}`;return`Ugyldig ${r[o.format]??t.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${J(t.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${t.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${t.origin}`;default:return"Ugyldigt input"}}};function Jv(){return{localeError:MH()}}var kH=()=>{let i={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function n(t){return i[t]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},u={nan:"NaN",number:"Zahl",array:"Array"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ungültige Eingabe: erwartet instanceof ${t.expected}, erhalten ${e}`;return`Ungültige Eingabe: erwartet ${o}, erhalten ${e}`}case"invalid_value":if(t.values.length===1)return`Ungültige Eingabe: erwartet ${H(t.values[0])}`;return`Ungültige Option: erwartet eine von ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Zu groß: erwartet, dass ${t.origin??"Wert"} ${o}${t.maximum.toString()} ${l.unit??"Elemente"} hat`;return`Zu groß: erwartet, dass ${t.origin??"Wert"} ${o}${t.maximum.toString()} ist`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Zu klein: erwartet, dass ${t.origin} ${o}${t.minimum.toString()} ${l.unit} hat`;return`Zu klein: erwartet, dass ${t.origin} ${o}${t.minimum.toString()} ist`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ungültiger String: muss mit "${o.prefix}" beginnen`;if(o.format==="ends_with")return`Ungültiger String: muss mit "${o.suffix}" enden`;if(o.format==="includes")return`Ungültiger String: muss "${o.includes}" enthalten`;if(o.format==="regex")return`Ungültiger String: muss dem Muster ${o.pattern} entsprechen`;return`Ungültig: ${r[o.format]??t.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${t.divisor} sein`;case"unrecognized_keys":return`${t.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${J(t.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${t.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${t.origin}`;default:return"Ungültige Eingabe"}}};function zv(){return{localeError:kH()}}var FH=()=>{let i={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function n(t){return i[t]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;return`Invalid input: expected ${o}, received ${e}`}case"invalid_value":if(t.values.length===1)return`Invalid input: expected ${H(t.values[0])}`;return`Invalid option: expected one of ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Too big: expected ${t.origin??"value"} to have ${o}${t.maximum.toString()} ${l.unit??"elements"}`;return`Too big: expected ${t.origin??"value"} to be ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Too small: expected ${t.origin} to have ${o}${t.minimum.toString()} ${l.unit}`;return`Too small: expected ${t.origin} to be ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Invalid string: must start with "${o.prefix}"`;if(o.format==="ends_with")return`Invalid string: must end with "${o.suffix}"`;if(o.format==="includes")return`Invalid string: must include "${o.includes}"`;if(o.format==="regex")return`Invalid string: must match pattern ${o.pattern}`;return`Invalid ${r[o.format]??t.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${t.divisor}`;case"unrecognized_keys":return`Unrecognized key${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Invalid key in ${t.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${t.origin}`;default:return"Invalid input"}}};function ou(){return{localeError:FH()}}var TH=()=>{let i={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function n(t){return i[t]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},u={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Nevalida enigo: atendiĝis instanceof ${t.expected}, riceviĝis ${e}`;return`Nevalida enigo: atendiĝis ${o}, riceviĝis ${e}`}case"invalid_value":if(t.values.length===1)return`Nevalida enigo: atendiĝis ${H(t.values[0])}`;return`Nevalida opcio: atendiĝis unu el ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Tro granda: atendiĝis ke ${t.origin??"valoro"} havu ${o}${t.maximum.toString()} ${l.unit??"elementojn"}`;return`Tro granda: atendiĝis ke ${t.origin??"valoro"} havu ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Tro malgranda: atendiĝis ke ${t.origin} havu ${o}${t.minimum.toString()} ${l.unit}`;return`Tro malgranda: atendiĝis ke ${t.origin} estu ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Nevalida karaktraro: devas komenciĝi per "${o.prefix}"`;if(o.format==="ends_with")return`Nevalida karaktraro: devas finiĝi per "${o.suffix}"`;if(o.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${o.includes}"`;if(o.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`;return`Nevalida ${r[o.format]??t.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${t.divisor}`;case"unrecognized_keys":return`Nekonata${t.keys.length>1?"j":""} ŝlosilo${t.keys.length>1?"j":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${t.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${t.origin}`;default:return"Nevalida enigo"}}};function qv(){return{localeError:TH()}}var PH=()=>{let i={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function n(t){return i[t]??null}let r={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},u={nan:"NaN",string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Entrada inválida: se esperaba instanceof ${t.expected}, recibido ${e}`;return`Entrada inválida: se esperaba ${o}, recibido ${e}`}case"invalid_value":if(t.values.length===1)return`Entrada inválida: se esperaba ${H(t.values[0])}`;return`Opción inválida: se esperaba una de ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin),e=u[t.origin]??t.origin;if(l)return`Demasiado grande: se esperaba que ${e??"valor"} tuviera ${o}${t.maximum.toString()} ${l.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${e??"valor"} fuera ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin),e=u[t.origin]??t.origin;if(l)return`Demasiado pequeño: se esperaba que ${e} tuviera ${o}${t.minimum.toString()} ${l.unit}`;return`Demasiado pequeño: se esperaba que ${e} fuera ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Cadena inválida: debe comenzar con "${o.prefix}"`;if(o.format==="ends_with")return`Cadena inválida: debe terminar en "${o.suffix}"`;if(o.format==="includes")return`Cadena inválida: debe incluir "${o.includes}"`;if(o.format==="regex")return`Cadena inválida: debe coincidir con el patrón ${o.pattern}`;return`Inválido ${r[o.format]??t.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Llave inválida en ${u[t.origin]??t.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido en ${u[t.origin]??t.origin}`;default:return"Entrada inválida"}}};function Hv(){return{localeError:PH()}}var xH=()=>{let i={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function n(t){return i[t]??null}let r={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"},u={nan:"NaN",number:"عدد",array:"آرایه"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`ورودی نامعتبر: می‌بایست instanceof ${t.expected} می‌بود، ${e} دریافت شد`;return`ورودی نامعتبر: می‌بایست ${o} می‌بود، ${e} دریافت شد`}case"invalid_value":if(t.values.length===1)return`ورودی نامعتبر: می‌بایست ${H(t.values[0])} می‌بود`;return`گزینه نامعتبر: می‌بایست یکی از ${J(t.values,"|")} می‌بود`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`خیلی بزرگ: ${t.origin??"مقدار"} باید ${o}${t.maximum.toString()} ${l.unit??"عنصر"} باشد`;return`خیلی بزرگ: ${t.origin??"مقدار"} باید ${o}${t.maximum.toString()} باشد`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`خیلی کوچک: ${t.origin} باید ${o}${t.minimum.toString()} ${l.unit} باشد`;return`خیلی کوچک: ${t.origin} باید ${o}${t.minimum.toString()} باشد`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`رشته نامعتبر: باید با "${o.prefix}" شروع شود`;if(o.format==="ends_with")return`رشته نامعتبر: باید با "${o.suffix}" تمام شود`;if(o.format==="includes")return`رشته نامعتبر: باید شامل "${o.includes}" باشد`;if(o.format==="regex")return`رشته نامعتبر: باید با الگوی ${o.pattern} مطابقت داشته باشد`;return`${r[o.format]??t.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${t.divisor} باشد`;case"unrecognized_keys":return`کلید${t.keys.length>1?"های":""} ناشناس: ${J(t.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${t.origin}`;case"invalid_union":return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${t.origin}`;default:return"ورودی نامعتبر"}}};function Wv(){return{localeError:xH()}}var CH=()=>{let i={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function n(t){return i[t]??null}let r={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Virheellinen tyyppi: odotettiin instanceof ${t.expected}, oli ${e}`;return`Virheellinen tyyppi: odotettiin ${o}, oli ${e}`}case"invalid_value":if(t.values.length===1)return`Virheellinen syöte: täytyy olla ${H(t.values[0])}`;return`Virheellinen valinta: täytyy olla yksi seuraavista: ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Liian suuri: ${l.subject} täytyy olla ${o}${t.maximum.toString()} ${l.unit}`.trim();return`Liian suuri: arvon täytyy olla ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Liian pieni: ${l.subject} täytyy olla ${o}${t.minimum.toString()} ${l.unit}`.trim();return`Liian pieni: arvon täytyy olla ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Virheellinen syöte: täytyy alkaa "${o.prefix}"`;if(o.format==="ends_with")return`Virheellinen syöte: täytyy loppua "${o.suffix}"`;if(o.format==="includes")return`Virheellinen syöte: täytyy sisältää "${o.includes}"`;if(o.format==="regex")return`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${o.pattern}`;return`Virheellinen ${r[o.format]??t.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${t.divisor} monikerta`;case"unrecognized_keys":return`${t.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${J(t.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function Gv(){return{localeError:CH()}}var RH=()=>{let i={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function n(t){return i[t]??null}let r={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},u={nan:"NaN",number:"nombre",array:"tableau"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Entrée invalide : instanceof ${t.expected} attendu, ${e} reçu`;return`Entrée invalide : ${o} attendu, ${e} reçu`}case"invalid_value":if(t.values.length===1)return`Entrée invalide : ${H(t.values[0])} attendu`;return`Option invalide : une valeur parmi ${J(t.values,"|")} attendue`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Trop grand : ${t.origin??"valeur"} doit ${l.verb} ${o}${t.maximum.toString()} ${l.unit??"élément(s)"}`;return`Trop grand : ${t.origin??"valeur"} doit être ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Trop petit : ${t.origin} doit ${l.verb} ${o}${t.minimum.toString()} ${l.unit}`;return`Trop petit : ${t.origin} doit être ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Chaîne invalide : doit commencer par "${o.prefix}"`;if(o.format==="ends_with")return`Chaîne invalide : doit se terminer par "${o.suffix}"`;if(o.format==="includes")return`Chaîne invalide : doit inclure "${o.includes}"`;if(o.format==="regex")return`Chaîne invalide : doit correspondre au modèle ${o.pattern}`;return`${r[o.format]??t.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${t.divisor}`;case"unrecognized_keys":return`Clé${t.keys.length>1?"s":""} non reconnue${t.keys.length>1?"s":""} : ${J(t.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${t.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${t.origin}`;default:return"Entrée invalide"}}};function Lv(){return{localeError:RH()}}var dH=()=>{let i={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function n(t){return i[t]??null}let r={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Entrée invalide : attendu instanceof ${t.expected}, reçu ${e}`;return`Entrée invalide : attendu ${o}, reçu ${e}`}case"invalid_value":if(t.values.length===1)return`Entrée invalide : attendu ${H(t.values[0])}`;return`Option invalide : attendu l\'une des valeurs suivantes ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"≤":"<",l=n(t.origin);if(l)return`Trop grand : attendu que ${t.origin??"la valeur"} ait ${o}${t.maximum.toString()} ${l.unit}`;return`Trop grand : attendu que ${t.origin??"la valeur"} soit ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?"≥":">",l=n(t.origin);if(l)return`Trop petit : attendu que ${t.origin} ait ${o}${t.minimum.toString()} ${l.unit}`;return`Trop petit : attendu que ${t.origin} soit ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Chaîne invalide : doit commencer par "${o.prefix}"`;if(o.format==="ends_with")return`Chaîne invalide : doit se terminer par "${o.suffix}"`;if(o.format==="includes")return`Chaîne invalide : doit inclure "${o.includes}"`;if(o.format==="regex")return`Chaîne invalide : doit correspondre au motif ${o.pattern}`;return`${r[o.format]??t.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${t.divisor}`;case"unrecognized_keys":return`Clé${t.keys.length>1?"s":""} non reconnue${t.keys.length>1?"s":""} : ${J(t.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${t.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${t.origin}`;default:return"Entrée invalide"}}};function Xv(){return{localeError:dH()}}var ZH=()=>{let i={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},n={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},r=($)=>$?i[$]:void 0,u=($)=>{let v=r($);if(v)return v.label;return $??i.unknown.label},t=($)=>`ה${u($)}`,o=($)=>{return(r($)?.gender??"m")==="f"?"צריכה להיות":"צריך להיות"},l=($)=>{if(!$)return null;return n[$]??null},e={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג\'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}},c={nan:"NaN"};return($)=>{switch($.code){case"invalid_type":{let v=$.expected,_=c[v??""]??u(v),w=G($.input),h=c[w]??i[w]?.label??w;if(/^[A-Z]/.test($.expected))return`קלט לא תקין: צריך להיות instanceof ${$.expected}, התקבל ${h}`;return`קלט לא תקין: צריך להיות ${_}, התקבל ${h}`}case"invalid_value":{if($.values.length===1)return`ערך לא תקין: הערך חייב להיות ${H($.values[0])}`;let v=$.values.map((h)=>H(h));if($.values.length===2)return`ערך לא תקין: האפשרויות המתאימות הן ${v[0]} או ${v[1]}`;let _=v[v.length-1];return`ערך לא תקין: האפשרויות המתאימות הן ${v.slice(0,-1).join(", ")} או ${_}`}case"too_big":{let v=l($.origin),_=t($.origin??"value");if($.origin==="string")return`${v?.longLabel??"ארוך"} מדי: ${_} צריכה להכיל ${$.maximum.toString()} ${v?.unit??""} ${$.inclusive?"או פחות":"לכל היותר"}`.trim();if($.origin==="number"){let f=$.inclusive?`קטן או שווה ל-${$.maximum}`:`קטן מ-${$.maximum}`;return`גדול מדי: ${_} צריך להיות ${f}`}if($.origin==="array"||$.origin==="set"){let f=$.origin==="set"?"צריכה":"צריך",U=$.inclusive?`${$.maximum} ${v?.unit??""} או פחות`:`פחות מ-${$.maximum} ${v?.unit??""}`;return`גדול מדי: ${_} ${f} להכיל ${U}`.trim()}let w=$.inclusive?"<=":"<",h=o($.origin??"value");if(v?.unit)return`${v.longLabel} מדי: ${_} ${h} ${w}${$.maximum.toString()} ${v.unit}`;return`${v?.longLabel??"גדול"} מדי: ${_} ${h} ${w}${$.maximum.toString()}`}case"too_small":{let v=l($.origin),_=t($.origin??"value");if($.origin==="string")return`${v?.shortLabel??"קצר"} מדי: ${_} צריכה להכיל ${$.minimum.toString()} ${v?.unit??""} ${$.inclusive?"או יותר":"לפחות"}`.trim();if($.origin==="number"){let f=$.inclusive?`גדול או שווה ל-${$.minimum}`:`גדול מ-${$.minimum}`;return`קטן מדי: ${_} צריך להיות ${f}`}if($.origin==="array"||$.origin==="set"){let f=$.origin==="set"?"צריכה":"צריך";if($.minimum===1&&$.inclusive){let j=$.origin==="set"?"לפחות פריט אחד":"לפחות פריט אחד";return`קטן מדי: ${_} ${f} להכיל ${j}`}let U=$.inclusive?`${$.minimum} ${v?.unit??""} או יותר`:`יותר מ-${$.minimum} ${v?.unit??""}`;return`קטן מדי: ${_} ${f} להכיל ${U}`.trim()}let w=$.inclusive?">=":">",h=o($.origin??"value");if(v?.unit)return`${v.shortLabel} מדי: ${_} ${h} ${w}${$.minimum.toString()} ${v.unit}`;return`${v?.shortLabel??"קטן"} מדי: ${_} ${h} ${w}${$.minimum.toString()}`}case"invalid_format":{let v=$;if(v.format==="starts_with")return`המחרוזת חייבת להתחיל ב "${v.prefix}"`;if(v.format==="ends_with")return`המחרוזת חייבת להסתיים ב "${v.suffix}"`;if(v.format==="includes")return`המחרוזת חייבת לכלול "${v.includes}"`;if(v.format==="regex")return`המחרוזת חייבת להתאים לתבנית ${v.pattern}`;let _=e[v.format],w=_?.label??v.format,f=(_?.gender??"m")==="f"?"תקינה":"תקין";return`${w} לא ${f}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${$.divisor}`;case"unrecognized_keys":return`מפתח${$.keys.length>1?"ות":""} לא מזוה${$.keys.length>1?"ים":"ה"}: ${J($.keys,", ")}`;case"invalid_key":return"שדה לא תקין באובייקט";case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${t($.origin??"array")}`;default:return"קלט לא תקין"}}};function Sv(){return{localeError:ZH()}}var aH=()=>{let i={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function n(t){return i[t]??null}let r={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"},u={nan:"NaN",number:"szám",array:"tömb"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Érvénytelen bemenet: a várt érték instanceof ${t.expected}, a kapott érték ${e}`;return`Érvénytelen bemenet: a várt érték ${o}, a kapott érték ${e}`}case"invalid_value":if(t.values.length===1)return`Érvénytelen bemenet: a várt érték ${H(t.values[0])}`;return`Érvénytelen opció: valamelyik érték várt ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Túl nagy: ${t.origin??"érték"} mérete túl nagy ${o}${t.maximum.toString()} ${l.unit??"elem"}`;return`Túl nagy: a bemeneti érték ${t.origin??"érték"} túl nagy: ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Túl kicsi: a bemeneti érték ${t.origin} mérete túl kicsi ${o}${t.minimum.toString()} ${l.unit}`;return`Túl kicsi: a bemeneti érték ${t.origin} túl kicsi ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Érvénytelen string: "${o.prefix}" értékkel kell kezdődnie`;if(o.format==="ends_with")return`Érvénytelen string: "${o.suffix}" értékkel kell végződnie`;if(o.format==="includes")return`Érvénytelen string: "${o.includes}" értéket kell tartalmaznia`;if(o.format==="regex")return`Érvénytelen string: ${o.pattern} mintának kell megfelelnie`;return`Érvénytelen ${r[o.format]??t.format}`}case"not_multiple_of":return`Érvénytelen szám: ${t.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${t.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${t.origin}`;default:return"Érvénytelen bemenet"}}};function mv(){return{localeError:aH()}}function uU(i,n,r){return Math.abs(i)===1?n:r}function dt(i){if(!i)return"";let n=["ա","ե","ը","ի","ո","ու","օ"],r=i[i.length-1];return i+(n.includes(r)?"ն":"ը")}var pH=()=>{let i={string:{unit:{one:"նշան",many:"նշաններ"},verb:"ունենալ"},file:{unit:{one:"բայթ",many:"բայթեր"},verb:"ունենալ"},array:{unit:{one:"տարր",many:"տարրեր"},verb:"ունենալ"},set:{unit:{one:"տարր",many:"տարրեր"},verb:"ունենալ"}};function n(t){return i[t]??null}let r={regex:"մուտք",email:"էլ. հասցե",url:"URL",emoji:"էմոջի",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ամսաթիվ և ժամ",date:"ISO ամսաթիվ",time:"ISO ժամ",duration:"ISO տևողություն",ipv4:"IPv4 հասցե",ipv6:"IPv6 հասցե",cidrv4:"IPv4 միջակայք",cidrv6:"IPv6 միջակայք",base64:"base64 ձևաչափով տող",base64url:"base64url ձևաչափով տող",json_string:"JSON տող",e164:"E.164 համար",jwt:"JWT",template_literal:"մուտք"},u={nan:"NaN",number:"թիվ",array:"զանգված"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Սխալ մուտքագրում․ սպասվում էր instanceof ${t.expected}, ստացվել է ${e}`;return`Սխալ մուտքագրում․ սպասվում էր ${o}, ստացվել է ${e}`}case"invalid_value":if(t.values.length===1)return`Սխալ մուտքագրում․ սպասվում էր ${H(t.values[1])}`;return`Սխալ տարբերակ․ սպասվում էր հետևյալներից մեկը՝ ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l){let e=Number(t.maximum),c=uU(e,l.unit.one,l.unit.many);return`Չափազանց մեծ արժեք․ սպասվում է, որ ${dt(t.origin??"արժեք")} կունենա ${o}${t.maximum.toString()} ${c}`}return`Չափազանց մեծ արժեք․ սպասվում է, որ ${dt(t.origin??"արժեք")} լինի ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l){let e=Number(t.minimum),c=uU(e,l.unit.one,l.unit.many);return`Չափազանց փոքր արժեք․ սպասվում է, որ ${dt(t.origin)} կունենա ${o}${t.minimum.toString()} ${c}`}return`Չափազանց փոքր արժեք․ սպասվում է, որ ${dt(t.origin)} լինի ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Սխալ տող․ պետք է սկսվի "${o.prefix}"-ով`;if(o.format==="ends_with")return`Սխալ տող․ պետք է ավարտվի "${o.suffix}"-ով`;if(o.format==="includes")return`Սխալ տող․ պետք է պարունակի "${o.includes}"`;if(o.format==="regex")return`Սխալ տող․ պետք է համապատասխանի ${o.pattern} ձևաչափին`;return`Սխալ ${r[o.format]??t.format}`}case"not_multiple_of":return`Սխալ թիվ․ պետք է բազմապատիկ լինի ${t.divisor}-ի`;case"unrecognized_keys":return`Չճանաչված բանալի${t.keys.length>1?"ներ":""}. ${J(t.keys,", ")}`;case"invalid_key":return`Սխալ բանալի ${dt(t.origin)}-ում`;case"invalid_union":return"Սխալ մուտքագրում";case"invalid_element":return`Սխալ արժեք ${dt(t.origin)}-ում`;default:return"Սխալ մուտքագրում"}}};function Yv(){return{localeError:pH()}}var sH=()=>{let i={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function n(t){return i[t]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Input tidak valid: diharapkan instanceof ${t.expected}, diterima ${e}`;return`Input tidak valid: diharapkan ${o}, diterima ${e}`}case"invalid_value":if(t.values.length===1)return`Input tidak valid: diharapkan ${H(t.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Terlalu besar: diharapkan ${t.origin??"value"} memiliki ${o}${t.maximum.toString()} ${l.unit??"elemen"}`;return`Terlalu besar: diharapkan ${t.origin??"value"} menjadi ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Terlalu kecil: diharapkan ${t.origin} memiliki ${o}${t.minimum.toString()} ${l.unit}`;return`Terlalu kecil: diharapkan ${t.origin} menjadi ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`String tidak valid: harus dimulai dengan "${o.prefix}"`;if(o.format==="ends_with")return`String tidak valid: harus berakhir dengan "${o.suffix}"`;if(o.format==="includes")return`String tidak valid: harus menyertakan "${o.includes}"`;if(o.format==="regex")return`String tidak valid: harus sesuai pola ${o.pattern}`;return`${r[o.format]??t.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${t.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${t.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${t.origin}`;default:return"Input tidak valid"}}};function Qv(){return{localeError:sH()}}var iW=()=>{let i={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function n(t){return i[t]??null}let r={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"},u={nan:"NaN",number:"númer",array:"fylki"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Rangt gildi: Þú slóst inn ${e} þar sem á að vera instanceof ${t.expected}`;return`Rangt gildi: Þú slóst inn ${e} þar sem á að vera ${o}`}case"invalid_value":if(t.values.length===1)return`Rangt gildi: gert ráð fyrir ${H(t.values[0])}`;return`Ógilt val: má vera eitt af eftirfarandi ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Of stórt: gert er ráð fyrir að ${t.origin??"gildi"} hafi ${o}${t.maximum.toString()} ${l.unit??"hluti"}`;return`Of stórt: gert er ráð fyrir að ${t.origin??"gildi"} sé ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Of lítið: gert er ráð fyrir að ${t.origin} hafi ${o}${t.minimum.toString()} ${l.unit}`;return`Of lítið: gert er ráð fyrir að ${t.origin} sé ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ógildur strengur: verður að byrja á "${o.prefix}"`;if(o.format==="ends_with")return`Ógildur strengur: verður að enda á "${o.suffix}"`;if(o.format==="includes")return`Ógildur strengur: verður að innihalda "${o.includes}"`;if(o.format==="regex")return`Ógildur strengur: verður að fylgja mynstri ${o.pattern}`;return`Rangt ${r[o.format]??t.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${t.divisor}`;case"unrecognized_keys":return`Óþekkt ${t.keys.length>1?"ir lyklar":"ur lykill"}: ${J(t.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${t.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${t.origin}`;default:return"Rangt gildi"}}};function Bv(){return{localeError:iW()}}var nW=()=>{let i={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function n(t){return i[t]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},u={nan:"NaN",number:"numero",array:"vettore"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Input non valido: atteso instanceof ${t.expected}, ricevuto ${e}`;return`Input non valido: atteso ${o}, ricevuto ${e}`}case"invalid_value":if(t.values.length===1)return`Input non valido: atteso ${H(t.values[0])}`;return`Opzione non valida: atteso uno tra ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Troppo grande: ${t.origin??"valore"} deve avere ${o}${t.maximum.toString()} ${l.unit??"elementi"}`;return`Troppo grande: ${t.origin??"valore"} deve essere ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Troppo piccolo: ${t.origin} deve avere ${o}${t.minimum.toString()} ${l.unit}`;return`Troppo piccolo: ${t.origin} deve essere ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Stringa non valida: deve iniziare con "${o.prefix}"`;if(o.format==="ends_with")return`Stringa non valida: deve terminare con "${o.suffix}"`;if(o.format==="includes")return`Stringa non valida: deve includere "${o.includes}"`;if(o.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${o.pattern}`;return`Invalid ${r[o.format]??t.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${t.divisor}`;case"unrecognized_keys":return`Chiav${t.keys.length>1?"i":"e"} non riconosciut${t.keys.length>1?"e":"a"}: ${J(t.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${t.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${t.origin}`;default:return"Input non valido"}}};function Av(){return{localeError:nW()}}var tW=()=>{let i={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function n(t){return i[t]??null}let r={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"},u={nan:"NaN",number:"数値",array:"配列"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`無効な入力: instanceof ${t.expected}が期待されましたが、${e}が入力されました`;return`無効な入力: ${o}が期待されましたが、${e}が入力されました`}case"invalid_value":if(t.values.length===1)return`無効な入力: ${H(t.values[0])}が期待されました`;return`無効な選択: ${J(t.values,"、")}のいずれかである必要があります`;case"too_big":{let o=t.inclusive?"以下である":"より小さい",l=n(t.origin);if(l)return`大きすぎる値: ${t.origin??"値"}は${t.maximum.toString()}${l.unit??"要素"}${o}必要があります`;return`大きすぎる値: ${t.origin??"値"}は${t.maximum.toString()}${o}必要があります`}case"too_small":{let o=t.inclusive?"以上である":"より大きい",l=n(t.origin);if(l)return`小さすぎる値: ${t.origin}は${t.minimum.toString()}${l.unit}${o}必要があります`;return`小さすぎる値: ${t.origin}は${t.minimum.toString()}${o}必要があります`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`無効な文字列: "${o.prefix}"で始まる必要があります`;if(o.format==="ends_with")return`無効な文字列: "${o.suffix}"で終わる必要があります`;if(o.format==="includes")return`無効な文字列: "${o.includes}"を含む必要があります`;if(o.format==="regex")return`無効な文字列: パターン${o.pattern}に一致する必要があります`;return`無効な${r[o.format]??t.format}`}case"not_multiple_of":return`無効な数値: ${t.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${t.keys.length>1?"群":""}: ${J(t.keys,"、")}`;case"invalid_key":return`${t.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${t.origin}内の無効な値`;default:return"無効な入力"}}};function Vv(){return{localeError:tW()}}var rW=()=>{let i={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}};function n(t){return i[t]??null}let r={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"},u={nan:"NaN",number:"რიცხვი",string:"სტრინგი",boolean:"ბულეანი",function:"ფუნქცია",array:"მასივი"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`არასწორი შეყვანა: მოსალოდნელი instanceof ${t.expected}, მიღებული ${e}`;return`არასწორი შეყვანა: მოსალოდნელი ${o}, მიღებული ${e}`}case"invalid_value":if(t.values.length===1)return`არასწორი შეყვანა: მოსალოდნელი ${H(t.values[0])}`;return`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${J(t.values,"|")}-დან`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`ზედმეტად დიდი: მოსალოდნელი ${t.origin??"მნიშვნელობა"} ${l.verb} ${o}${t.maximum.toString()} ${l.unit}`;return`ზედმეტად დიდი: მოსალოდნელი ${t.origin??"მნიშვნელობა"} იყოს ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`ზედმეტად პატარა: მოსალოდნელი ${t.origin} ${l.verb} ${o}${t.minimum.toString()} ${l.unit}`;return`ზედმეტად პატარა: მოსალოდნელი ${t.origin} იყოს ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`არასწორი სტრინგი: უნდა იწყებოდეს "${o.prefix}"-ით`;if(o.format==="ends_with")return`არასწორი სტრინგი: უნდა მთავრდებოდეს "${o.suffix}"-ით`;if(o.format==="includes")return`არასწორი სტრინგი: უნდა შეიცავდეს "${o.includes}"-ს`;if(o.format==="regex")return`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${o.pattern}`;return`არასწორი ${r[o.format]??t.format}`}case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${t.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${t.keys.length>1?"ები":"ი"}: ${J(t.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${t.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${t.origin}-ში`;default:return"არასწორი შეყვანა"}}};function Kv(){return{localeError:rW()}}var uW=()=>{let i={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function n(t){return i[t]??null}let r={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"},u={nan:"NaN",number:"លេខ",array:"អារេ (Array)",null:"គ្មានតម្លៃ (null)"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ instanceof ${t.expected} ប៉ុន្តែទទួលបាន ${e}`;return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${o} ប៉ុន្តែទទួលបាន ${e}`}case"invalid_value":if(t.values.length===1)return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${H(t.values[0])}`;return`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`ធំពេក៖ ត្រូវការ ${t.origin??"តម្លៃ"} ${o} ${t.maximum.toString()} ${l.unit??"ធាតុ"}`;return`ធំពេក៖ ត្រូវការ ${t.origin??"តម្លៃ"} ${o} ${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`តូចពេក៖ ត្រូវការ ${t.origin} ${o} ${t.minimum.toString()} ${l.unit}`;return`តូចពេក៖ ត្រូវការ ${t.origin} ${o} ${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${o.prefix}"`;if(o.format==="ends_with")return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${o.suffix}"`;if(o.format==="includes")return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${o.includes}"`;if(o.format==="regex")return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${o.pattern}`;return`មិនត្រឹមត្រូវ៖ ${r[o.format]??t.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${t.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${J(t.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${t.origin}`;case"invalid_union":return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${t.origin}`;default:return"ទិន្នន័យមិនត្រឹមត្រូវ"}}};function lu(){return{localeError:uW()}}function yv(){return lu()}var oW=()=>{let i={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function n(t){return i[t]??null}let r={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`잘못된 입력: 예상 타입은 instanceof ${t.expected}, 받은 타입은 ${e}입니다`;return`잘못된 입력: 예상 타입은 ${o}, 받은 타입은 ${e}입니다`}case"invalid_value":if(t.values.length===1)return`잘못된 입력: 값은 ${H(t.values[0])} 이어야 합니다`;return`잘못된 옵션: ${J(t.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{let o=t.inclusive?"이하":"미만",l=o==="미만"?"이어야 합니다":"여야 합니다",e=n(t.origin),c=e?.unit??"요소";if(e)return`${t.origin??"값"}이 너무 큽니다: ${t.maximum.toString()}${c} ${o}${l}`;return`${t.origin??"값"}이 너무 큽니다: ${t.maximum.toString()} ${o}${l}`}case"too_small":{let o=t.inclusive?"이상":"초과",l=o==="이상"?"이어야 합니다":"여야 합니다",e=n(t.origin),c=e?.unit??"요소";if(e)return`${t.origin??"값"}이 너무 작습니다: ${t.minimum.toString()}${c} ${o}${l}`;return`${t.origin??"값"}이 너무 작습니다: ${t.minimum.toString()} ${o}${l}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`잘못된 문자열: "${o.prefix}"(으)로 시작해야 합니다`;if(o.format==="ends_with")return`잘못된 문자열: "${o.suffix}"(으)로 끝나야 합니다`;if(o.format==="includes")return`잘못된 문자열: "${o.includes}"을(를) 포함해야 합니다`;if(o.format==="regex")return`잘못된 문자열: 정규식 ${o.pattern} 패턴과 일치해야 합니다`;return`잘못된 ${r[o.format]??t.format}`}case"not_multiple_of":return`잘못된 숫자: ${t.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${J(t.keys,", ")}`;case"invalid_key":return`잘못된 키: ${t.origin}`;case"invalid_union":return"잘못된 입력";case"invalid_element":return`잘못된 값: ${t.origin}`;default:return"잘못된 입력"}}};function Mv(){return{localeError:oW()}}var gu=(i)=>{return i.charAt(0).toUpperCase()+i.slice(1)};function oU(i){let n=Math.abs(i),r=n%10,u=n%100;if(u>=11&&u<=19||r===0)return"many";if(r===1)return"one";return"few"}var lW=()=>{let i={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function n(t,o,l,e){let c=i[t]??null;if(c===null)return c;return{unit:c.unit[o],verb:c.verb[e][l?"inclusive":"notInclusive"]}}let r={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"},u={nan:"NaN",number:"skaičius",bigint:"sveikasis skaičius",string:"eilutė",boolean:"loginė reikšmė",undefined:"neapibrėžta reikšmė",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulinė reikšmė"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Gautas tipas ${e}, o tikėtasi - instanceof ${t.expected}`;return`Gautas tipas ${e}, o tikėtasi - ${o}`}case"invalid_value":if(t.values.length===1)return`Privalo būti ${H(t.values[0])}`;return`Privalo būti vienas iš ${J(t.values,"|")} pasirinkimų`;case"too_big":{let o=u[t.origin]??t.origin,l=n(t.origin,oU(Number(t.maximum)),t.inclusive??!1,"smaller");if(l?.verb)return`${gu(o??t.origin??"reikšmė")} ${l.verb} ${t.maximum.toString()} ${l.unit??"elementų"}`;let e=t.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${gu(o??t.origin??"reikšmė")} turi būti ${e} ${t.maximum.toString()} ${l?.unit}`}case"too_small":{let o=u[t.origin]??t.origin,l=n(t.origin,oU(Number(t.minimum)),t.inclusive??!1,"bigger");if(l?.verb)return`${gu(o??t.origin??"reikšmė")} ${l.verb} ${t.minimum.toString()} ${l.unit??"elementų"}`;let e=t.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${gu(o??t.origin??"reikšmė")} turi būti ${e} ${t.minimum.toString()} ${l?.unit}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Eilutė privalo prasidėti "${o.prefix}"`;if(o.format==="ends_with")return`Eilutė privalo pasibaigti "${o.suffix}"`;if(o.format==="includes")return`Eilutė privalo įtraukti "${o.includes}"`;if(o.format==="regex")return`Eilutė privalo atitikti ${o.pattern}`;return`Neteisingas ${r[o.format]??t.format}`}case"not_multiple_of":return`Skaičius privalo būti ${t.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${t.keys.length>1?"i":"as"} rakt${t.keys.length>1?"ai":"as"}: ${J(t.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga įvestis";case"invalid_element":{let o=u[t.origin]??t.origin;return`${gu(o??t.origin??"reikšmė")} turi klaidingą įvestį`}default:return"Klaidinga įvestis"}}};function kv(){return{localeError:lW()}}var gW=()=>{let i={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function n(t){return i[t]??null}let r={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"},u={nan:"NaN",number:"број",array:"низа"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Грешен внес: се очекува instanceof ${t.expected}, примено ${e}`;return`Грешен внес: се очекува ${o}, примено ${e}`}case"invalid_value":if(t.values.length===1)return`Invalid input: expected ${H(t.values[0])}`;return`Грешана опција: се очекува една ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Премногу голем: се очекува ${t.origin??"вредноста"} да има ${o}${t.maximum.toString()} ${l.unit??"елементи"}`;return`Премногу голем: се очекува ${t.origin??"вредноста"} да биде ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Премногу мал: се очекува ${t.origin} да има ${o}${t.minimum.toString()} ${l.unit}`;return`Премногу мал: се очекува ${t.origin} да биде ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Неважечка низа: мора да започнува со "${o.prefix}"`;if(o.format==="ends_with")return`Неважечка низа: мора да завршува со "${o.suffix}"`;if(o.format==="includes")return`Неважечка низа: мора да вклучува "${o.includes}"`;if(o.format==="regex")return`Неважечка низа: мора да одгоара на патернот ${o.pattern}`;return`Invalid ${r[o.format]??t.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${J(t.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${t.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${t.origin}`;default:return"Грешен внес"}}};function Fv(){return{localeError:gW()}}var eW=()=>{let i={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function n(t){return i[t]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},u={nan:"NaN",number:"nombor"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Input tidak sah: dijangka instanceof ${t.expected}, diterima ${e}`;return`Input tidak sah: dijangka ${o}, diterima ${e}`}case"invalid_value":if(t.values.length===1)return`Input tidak sah: dijangka ${H(t.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Terlalu besar: dijangka ${t.origin??"nilai"} ${l.verb} ${o}${t.maximum.toString()} ${l.unit??"elemen"}`;return`Terlalu besar: dijangka ${t.origin??"nilai"} adalah ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Terlalu kecil: dijangka ${t.origin} ${l.verb} ${o}${t.minimum.toString()} ${l.unit}`;return`Terlalu kecil: dijangka ${t.origin} adalah ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`String tidak sah: mesti bermula dengan "${o.prefix}"`;if(o.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${o.suffix}"`;if(o.format==="includes")return`String tidak sah: mesti mengandungi "${o.includes}"`;if(o.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${o.pattern}`;return`${r[o.format]??t.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${t.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${J(t.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${t.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${t.origin}`;default:return"Input tidak sah"}}};function Tv(){return{localeError:eW()}}var cW=()=>{let i={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function n(t){return i[t]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},u={nan:"NaN",number:"getal"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ongeldige invoer: verwacht instanceof ${t.expected}, ontving ${e}`;return`Ongeldige invoer: verwacht ${o}, ontving ${e}`}case"invalid_value":if(t.values.length===1)return`Ongeldige invoer: verwacht ${H(t.values[0])}`;return`Ongeldige optie: verwacht één van ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin),e=t.origin==="date"?"laat":t.origin==="string"?"lang":"groot";if(l)return`Te ${e}: verwacht dat ${t.origin??"waarde"} ${o}${t.maximum.toString()} ${l.unit??"elementen"} ${l.verb}`;return`Te ${e}: verwacht dat ${t.origin??"waarde"} ${o}${t.maximum.toString()} is`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin),e=t.origin==="date"?"vroeg":t.origin==="string"?"kort":"klein";if(l)return`Te ${e}: verwacht dat ${t.origin} ${o}${t.minimum.toString()} ${l.unit} ${l.verb}`;return`Te ${e}: verwacht dat ${t.origin} ${o}${t.minimum.toString()} is`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ongeldige tekst: moet met "${o.prefix}" beginnen`;if(o.format==="ends_with")return`Ongeldige tekst: moet op "${o.suffix}" eindigen`;if(o.format==="includes")return`Ongeldige tekst: moet "${o.includes}" bevatten`;if(o.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`;return`Ongeldig: ${r[o.format]??t.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${t.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${t.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${t.origin}`;default:return"Ongeldige invoer"}}};function Pv(){return{localeError:cW()}}var $W=()=>{let i={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function n(t){return i[t]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},u={nan:"NaN",number:"tall",array:"liste"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ugyldig input: forventet instanceof ${t.expected}, fikk ${e}`;return`Ugyldig input: forventet ${o}, fikk ${e}`}case"invalid_value":if(t.values.length===1)return`Ugyldig verdi: forventet ${H(t.values[0])}`;return`Ugyldig valg: forventet en av ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`For stor(t): forventet ${t.origin??"value"} til å ha ${o}${t.maximum.toString()} ${l.unit??"elementer"}`;return`For stor(t): forventet ${t.origin??"value"} til å ha ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`For lite(n): forventet ${t.origin} til å ha ${o}${t.minimum.toString()} ${l.unit}`;return`For lite(n): forventet ${t.origin} til å ha ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ugyldig streng: må starte med "${o.prefix}"`;if(o.format==="ends_with")return`Ugyldig streng: må ende med "${o.suffix}"`;if(o.format==="includes")return`Ugyldig streng: må inneholde "${o.includes}"`;if(o.format==="regex")return`Ugyldig streng: må matche mønsteret ${o.pattern}`;return`Ugyldig ${r[o.format]??t.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${J(t.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${t.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${t.origin}`;default:return"Ugyldig input"}}};function xv(){return{localeError:$W()}}var vW=()=>{let i={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function n(t){return i[t]??null}let r={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"},u={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Fâsit giren: umulan instanceof ${t.expected}, alınan ${e}`;return`Fâsit giren: umulan ${o}, alınan ${e}`}case"invalid_value":if(t.values.length===1)return`Fâsit giren: umulan ${H(t.values[0])}`;return`Fâsit tercih: mûteberler ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Fazla büyük: ${t.origin??"value"}, ${o}${t.maximum.toString()} ${l.unit??"elements"} sahip olmalıydı.`;return`Fazla büyük: ${t.origin??"value"}, ${o}${t.maximum.toString()} olmalıydı.`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Fazla küçük: ${t.origin}, ${o}${t.minimum.toString()} ${l.unit} sahip olmalıydı.`;return`Fazla küçük: ${t.origin}, ${o}${t.minimum.toString()} olmalıydı.`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Fâsit metin: "${o.prefix}" ile başlamalı.`;if(o.format==="ends_with")return`Fâsit metin: "${o.suffix}" ile bitmeli.`;if(o.format==="includes")return`Fâsit metin: "${o.includes}" ihtivâ etmeli.`;if(o.format==="regex")return`Fâsit metin: ${o.pattern} nakşına uymalı.`;return`Fâsit ${r[o.format]??t.format}`}case"not_multiple_of":return`Fâsit sayı: ${t.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${t.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function Cv(){return{localeError:vW()}}var _W=()=>{let i={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function n(t){return i[t]??null}let r={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"},u={nan:"NaN",number:"عدد",array:"ارې"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`ناسم ورودي: باید instanceof ${t.expected} وای, مګر ${e} ترلاسه شو`;return`ناسم ورودي: باید ${o} وای, مګر ${e} ترلاسه شو`}case"invalid_value":if(t.values.length===1)return`ناسم ورودي: باید ${H(t.values[0])} وای`;return`ناسم انتخاب: باید یو له ${J(t.values,"|")} څخه وای`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`ډیر لوی: ${t.origin??"ارزښت"} باید ${o}${t.maximum.toString()} ${l.unit??"عنصرونه"} ولري`;return`ډیر لوی: ${t.origin??"ارزښت"} باید ${o}${t.maximum.toString()} وي`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`ډیر کوچنی: ${t.origin} باید ${o}${t.minimum.toString()} ${l.unit} ولري`;return`ډیر کوچنی: ${t.origin} باید ${o}${t.minimum.toString()} وي`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`ناسم متن: باید د "${o.prefix}" سره پیل شي`;if(o.format==="ends_with")return`ناسم متن: باید د "${o.suffix}" سره پای ته ورسيږي`;if(o.format==="includes")return`ناسم متن: باید "${o.includes}" ولري`;if(o.format==="regex")return`ناسم متن: باید د ${o.pattern} سره مطابقت ولري`;return`${r[o.format]??t.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${t.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${t.keys.length>1?"کلیډونه":"کلیډ"}: ${J(t.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${t.origin} کې`;case"invalid_union":return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${t.origin} کې`;default:return"ناسمه ورودي"}}};function Rv(){return{localeError:_W()}}var wW=()=>{let i={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function n(t){return i[t]??null}let r={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"},u={nan:"NaN",number:"liczba",array:"tablica"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Nieprawidłowe dane wejściowe: oczekiwano instanceof ${t.expected}, otrzymano ${e}`;return`Nieprawidłowe dane wejściowe: oczekiwano ${o}, otrzymano ${e}`}case"invalid_value":if(t.values.length===1)return`Nieprawidłowe dane wejściowe: oczekiwano ${H(t.values[0])}`;return`Nieprawidłowa opcja: oczekiwano jednej z wartości ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Za duża wartość: oczekiwano, że ${t.origin??"wartość"} będzie mieć ${o}${t.maximum.toString()} ${l.unit??"elementów"}`;return`Zbyt duż(y/a/e): oczekiwano, że ${t.origin??"wartość"} będzie wynosić ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Za mała wartość: oczekiwano, że ${t.origin??"wartość"} będzie mieć ${o}${t.minimum.toString()} ${l.unit??"elementów"}`;return`Zbyt mał(y/a/e): oczekiwano, że ${t.origin??"wartość"} będzie wynosić ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Nieprawidłowy ciąg znaków: musi zaczynać się od "${o.prefix}"`;if(o.format==="ends_with")return`Nieprawidłowy ciąg znaków: musi kończyć się na "${o.suffix}"`;if(o.format==="includes")return`Nieprawidłowy ciąg znaków: musi zawierać "${o.includes}"`;if(o.format==="regex")return`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${o.pattern}`;return`Nieprawidłow(y/a/e) ${r[o.format]??t.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${t.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${t.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${t.origin}`;default:return"Nieprawidłowe dane wejściowe"}}};function dv(){return{localeError:wW()}}var hW=()=>{let i={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function n(t){return i[t]??null}let r={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},u={nan:"NaN",number:"número",null:"nulo"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Tipo inválido: esperado instanceof ${t.expected}, recebido ${e}`;return`Tipo inválido: esperado ${o}, recebido ${e}`}case"invalid_value":if(t.values.length===1)return`Entrada inválida: esperado ${H(t.values[0])}`;return`Opção inválida: esperada uma das ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Muito grande: esperado que ${t.origin??"valor"} tivesse ${o}${t.maximum.toString()} ${l.unit??"elementos"}`;return`Muito grande: esperado que ${t.origin??"valor"} fosse ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Muito pequeno: esperado que ${t.origin} tivesse ${o}${t.minimum.toString()} ${l.unit}`;return`Muito pequeno: esperado que ${t.origin} fosse ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Texto inválido: deve começar com "${o.prefix}"`;if(o.format==="ends_with")return`Texto inválido: deve terminar com "${o.suffix}"`;if(o.format==="includes")return`Texto inválido: deve incluir "${o.includes}"`;if(o.format==="regex")return`Texto inválido: deve corresponder ao padrão ${o.pattern}`;return`${r[o.format]??t.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${t.divisor}`;case"unrecognized_keys":return`Chave${t.keys.length>1?"s":""} desconhecida${t.keys.length>1?"s":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Chave inválida em ${t.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${t.origin}`;default:return"Campo inválido"}}};function Zv(){return{localeError:hW()}}function lU(i,n,r,u){let t=Math.abs(i),o=t%10,l=t%100;if(l>=11&&l<=19)return u;if(o===1)return n;if(o>=2&&o<=4)return r;return u}var bW=()=>{let i={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function n(t){return i[t]??null}let r={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"},u={nan:"NaN",number:"число",array:"массив"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Неверный ввод: ожидалось instanceof ${t.expected}, получено ${e}`;return`Неверный ввод: ожидалось ${o}, получено ${e}`}case"invalid_value":if(t.values.length===1)return`Неверный ввод: ожидалось ${H(t.values[0])}`;return`Неверный вариант: ожидалось одно из ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l){let e=Number(t.maximum),c=lU(e,l.unit.one,l.unit.few,l.unit.many);return`Слишком большое значение: ожидалось, что ${t.origin??"значение"} будет иметь ${o}${t.maximum.toString()} ${c}`}return`Слишком большое значение: ожидалось, что ${t.origin??"значение"} будет ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l){let e=Number(t.minimum),c=lU(e,l.unit.one,l.unit.few,l.unit.many);return`Слишком маленькое значение: ожидалось, что ${t.origin} будет иметь ${o}${t.minimum.toString()} ${c}`}return`Слишком маленькое значение: ожидалось, что ${t.origin} будет ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Неверная строка: должна начинаться с "${o.prefix}"`;if(o.format==="ends_with")return`Неверная строка: должна заканчиваться на "${o.suffix}"`;if(o.format==="includes")return`Неверная строка: должна содержать "${o.includes}"`;if(o.format==="regex")return`Неверная строка: должна соответствовать шаблону ${o.pattern}`;return`Неверный ${r[o.format]??t.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${t.divisor}`;case"unrecognized_keys":return`Нераспознанн${t.keys.length>1?"ые":"ый"} ключ${t.keys.length>1?"и":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${t.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${t.origin}`;default:return"Неверные входные данные"}}};function av(){return{localeError:bW()}}var fW=()=>{let i={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function n(t){return i[t]??null}let r={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"},u={nan:"NaN",number:"število",array:"tabela"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Neveljaven vnos: pričakovano instanceof ${t.expected}, prejeto ${e}`;return`Neveljaven vnos: pričakovano ${o}, prejeto ${e}`}case"invalid_value":if(t.values.length===1)return`Neveljaven vnos: pričakovano ${H(t.values[0])}`;return`Neveljavna možnost: pričakovano eno izmed ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Preveliko: pričakovano, da bo ${t.origin??"vrednost"} imelo ${o}${t.maximum.toString()} ${l.unit??"elementov"}`;return`Preveliko: pričakovano, da bo ${t.origin??"vrednost"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Premajhno: pričakovano, da bo ${t.origin} imelo ${o}${t.minimum.toString()} ${l.unit}`;return`Premajhno: pričakovano, da bo ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Neveljaven niz: mora se začeti z "${o.prefix}"`;if(o.format==="ends_with")return`Neveljaven niz: mora se končati z "${o.suffix}"`;if(o.format==="includes")return`Neveljaven niz: mora vsebovati "${o.includes}"`;if(o.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`;return`Neveljaven ${r[o.format]??t.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${t.divisor}`;case"unrecognized_keys":return`Neprepoznan${t.keys.length>1?"i ključi":" ključ"}: ${J(t.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${t.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${t.origin}`;default:return"Neveljaven vnos"}}};function pv(){return{localeError:fW()}}var UW=()=>{let i={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function n(t){return i[t]??null}let r={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},u={nan:"NaN",number:"antal",array:"lista"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ogiltig inmatning: förväntat instanceof ${t.expected}, fick ${e}`;return`Ogiltig inmatning: förväntat ${o}, fick ${e}`}case"invalid_value":if(t.values.length===1)return`Ogiltig inmatning: förväntat ${H(t.values[0])}`;return`Ogiltigt val: förväntade en av ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`För stor(t): förväntade ${t.origin??"värdet"} att ha ${o}${t.maximum.toString()} ${l.unit??"element"}`;return`För stor(t): förväntat ${t.origin??"värdet"} att ha ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`För lite(t): förväntade ${t.origin??"värdet"} att ha ${o}${t.minimum.toString()} ${l.unit}`;return`För lite(t): förväntade ${t.origin??"värdet"} att ha ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ogiltig sträng: måste börja med "${o.prefix}"`;if(o.format==="ends_with")return`Ogiltig sträng: måste sluta med "${o.suffix}"`;if(o.format==="includes")return`Ogiltig sträng: måste innehålla "${o.includes}"`;if(o.format==="regex")return`Ogiltig sträng: måste matcha mönstret "${o.pattern}"`;return`Ogiltig(t) ${r[o.format]??t.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${J(t.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${t.origin??"värdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${t.origin??"värdet"}`;default:return"Ogiltig input"}}};function sv(){return{localeError:UW()}}var OW=()=>{let i={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function n(t){return i[t]??null}let r={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"},u={nan:"NaN",number:"எண்",array:"அணி",null:"வெறுமை"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது instanceof ${t.expected}, பெறப்பட்டது ${e}`;return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${o}, பெறப்பட்டது ${e}`}case"invalid_value":if(t.values.length===1)return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${H(t.values[0])}`;return`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${J(t.values,"|")} இல் ஒன்று`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${t.origin??"மதிப்பு"} ${o}${t.maximum.toString()} ${l.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`;return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${t.origin??"மதிப்பு"} ${o}${t.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${t.origin} ${o}${t.minimum.toString()} ${l.unit} ஆக இருக்க வேண்டும்`;return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${t.origin} ${o}${t.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`தவறான சரம்: "${o.prefix}" இல் தொடங்க வேண்டும்`;if(o.format==="ends_with")return`தவறான சரம்: "${o.suffix}" இல் முடிவடைய வேண்டும்`;if(o.format==="includes")return`தவறான சரம்: "${o.includes}" ஐ உள்ளடக்க வேண்டும்`;if(o.format==="regex")return`தவறான சரம்: ${o.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;return`தவறான ${r[o.format]??t.format}`}case"not_multiple_of":return`தவறான எண்: ${t.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${t.keys.length>1?"கள்":""}: ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${t.origin} இல் தவறான மதிப்பு`;default:return"தவறான உள்ளீடு"}}};function i_(){return{localeError:OW()}}var IW=()=>{let i={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function n(t){return i[t]??null}let r={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"},u={nan:"NaN",number:"ตัวเลข",array:"อาร์เรย์ (Array)",null:"ไม่มีค่า (null)"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น instanceof ${t.expected} แต่ได้รับ ${e}`;return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${o} แต่ได้รับ ${e}`}case"invalid_value":if(t.values.length===1)return`ค่าไม่ถูกต้อง: ควรเป็น ${H(t.values[0])}`;return`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"ไม่เกิน":"น้อยกว่า",l=n(t.origin);if(l)return`เกินกำหนด: ${t.origin??"ค่า"} ควรมี${o} ${t.maximum.toString()} ${l.unit??"รายการ"}`;return`เกินกำหนด: ${t.origin??"ค่า"} ควรมี${o} ${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?"อย่างน้อย":"มากกว่า",l=n(t.origin);if(l)return`น้อยกว่ากำหนด: ${t.origin} ควรมี${o} ${t.minimum.toString()} ${l.unit}`;return`น้อยกว่ากำหนด: ${t.origin} ควรมี${o} ${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${o.prefix}"`;if(o.format==="ends_with")return`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${o.suffix}"`;if(o.format==="includes")return`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${o.includes}" อยู่ในข้อความ`;if(o.format==="regex")return`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${o.pattern}`;return`รูปแบบไม่ถูกต้อง: ${r[o.format]??t.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${t.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${J(t.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${t.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${t.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function n_(){return{localeError:IW()}}var jW=()=>{let i={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function n(t){return i[t]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Geçersiz değer: beklenen instanceof ${t.expected}, alınan ${e}`;return`Geçersiz değer: beklenen ${o}, alınan ${e}`}case"invalid_value":if(t.values.length===1)return`Geçersiz değer: beklenen ${H(t.values[0])}`;return`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Çok büyük: beklenen ${t.origin??"değer"} ${o}${t.maximum.toString()} ${l.unit??"öğe"}`;return`Çok büyük: beklenen ${t.origin??"değer"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Çok küçük: beklenen ${t.origin} ${o}${t.minimum.toString()} ${l.unit}`;return`Çok küçük: beklenen ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Geçersiz metin: "${o.prefix}" ile başlamalı`;if(o.format==="ends_with")return`Geçersiz metin: "${o.suffix}" ile bitmeli`;if(o.format==="includes")return`Geçersiz metin: "${o.includes}" içermeli`;if(o.format==="regex")return`Geçersiz metin: ${o.pattern} desenine uymalı`;return`Geçersiz ${r[o.format]??t.format}`}case"not_multiple_of":return`Geçersiz sayı: ${t.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${t.keys.length>1?"lar":""}: ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} içinde geçersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${t.origin} içinde geçersiz değer`;default:return"Geçersiz değer"}}};function t_(){return{localeError:jW()}}var DW=()=>{let i={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function n(t){return i[t]??null}let r={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"},u={nan:"NaN",number:"число",array:"масив"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Неправильні вхідні дані: очікується instanceof ${t.expected}, отримано ${e}`;return`Неправильні вхідні дані: очікується ${o}, отримано ${e}`}case"invalid_value":if(t.values.length===1)return`Неправильні вхідні дані: очікується ${H(t.values[0])}`;return`Неправильна опція: очікується одне з ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Занадто велике: очікується, що ${t.origin??"значення"} ${l.verb} ${o}${t.maximum.toString()} ${l.unit??"елементів"}`;return`Занадто велике: очікується, що ${t.origin??"значення"} буде ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Занадто мале: очікується, що ${t.origin} ${l.verb} ${o}${t.minimum.toString()} ${l.unit}`;return`Занадто мале: очікується, що ${t.origin} буде ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Неправильний рядок: повинен починатися з "${o.prefix}"`;if(o.format==="ends_with")return`Неправильний рядок: повинен закінчуватися на "${o.suffix}"`;if(o.format==="includes")return`Неправильний рядок: повинен містити "${o.includes}"`;if(o.format==="regex")return`Неправильний рядок: повинен відповідати шаблону ${o.pattern}`;return`Неправильний ${r[o.format]??t.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${t.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${t.keys.length>1?"і":""}: ${J(t.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${t.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${t.origin}`;default:return"Неправильні вхідні дані"}}};function eu(){return{localeError:DW()}}function r_(){return eu()}var NW=()=>{let i={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function n(t){return i[t]??null}let r={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"},u={nan:"NaN",number:"نمبر",array:"آرے",null:"نل"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`غلط ان پٹ: instanceof ${t.expected} متوقع تھا، ${e} موصول ہوا`;return`غلط ان پٹ: ${o} متوقع تھا، ${e} موصول ہوا`}case"invalid_value":if(t.values.length===1)return`غلط ان پٹ: ${H(t.values[0])} متوقع تھا`;return`غلط آپشن: ${J(t.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`بہت بڑا: ${t.origin??"ویلیو"} کے ${o}${t.maximum.toString()} ${l.unit??"عناصر"} ہونے متوقع تھے`;return`بہت بڑا: ${t.origin??"ویلیو"} کا ${o}${t.maximum.toString()} ہونا متوقع تھا`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`بہت چھوٹا: ${t.origin} کے ${o}${t.minimum.toString()} ${l.unit} ہونے متوقع تھے`;return`بہت چھوٹا: ${t.origin} کا ${o}${t.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`غلط سٹرنگ: "${o.prefix}" سے شروع ہونا چاہیے`;if(o.format==="ends_with")return`غلط سٹرنگ: "${o.suffix}" پر ختم ہونا چاہیے`;if(o.format==="includes")return`غلط سٹرنگ: "${o.includes}" شامل ہونا چاہیے`;if(o.format==="regex")return`غلط سٹرنگ: پیٹرن ${o.pattern} سے میچ ہونا چاہیے`;return`غلط ${r[o.format]??t.format}`}case"not_multiple_of":return`غلط نمبر: ${t.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${t.keys.length>1?"ز":""}: ${J(t.keys,"، ")}`;case"invalid_key":return`${t.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${t.origin} میں غلط ویلیو`;default:return"غلط ان پٹ"}}};function u_(){return{localeError:NW()}}var EW=()=>{let i={string:{unit:"belgi",verb:"bo‘lishi kerak"},file:{unit:"bayt",verb:"bo‘lishi kerak"},array:{unit:"element",verb:"bo‘lishi kerak"},set:{unit:"element",verb:"bo‘lishi kerak"}};function n(t){return i[t]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},u={nan:"NaN",number:"raqam",array:"massiv"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Noto‘g‘ri kirish: kutilgan instanceof ${t.expected}, qabul qilingan ${e}`;return`Noto‘g‘ri kirish: kutilgan ${o}, qabul qilingan ${e}`}case"invalid_value":if(t.values.length===1)return`Noto‘g‘ri kirish: kutilgan ${H(t.values[0])}`;return`Noto‘g‘ri variant: quyidagilardan biri kutilgan ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Juda katta: kutilgan ${t.origin??"qiymat"} ${o}${t.maximum.toString()} ${l.unit} ${l.verb}`;return`Juda katta: kutilgan ${t.origin??"qiymat"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Juda kichik: kutilgan ${t.origin} ${o}${t.minimum.toString()} ${l.unit} ${l.verb}`;return`Juda kichik: kutilgan ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Noto‘g‘ri satr: "${o.prefix}" bilan boshlanishi kerak`;if(o.format==="ends_with")return`Noto‘g‘ri satr: "${o.suffix}" bilan tugashi kerak`;if(o.format==="includes")return`Noto‘g‘ri satr: "${o.includes}" ni o‘z ichiga olishi kerak`;if(o.format==="regex")return`Noto‘g‘ri satr: ${o.pattern} shabloniga mos kelishi kerak`;return`Noto‘g‘ri ${r[o.format]??t.format}`}case"not_multiple_of":return`Noto‘g‘ri raqam: ${t.divisor} ning karralisi bo‘lishi kerak`;case"unrecognized_keys":return`Noma’lum kalit${t.keys.length>1?"lar":""}: ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} dagi kalit noto‘g‘ri`;case"invalid_union":return"Noto‘g‘ri kirish";case"invalid_element":return`${t.origin} da noto‘g‘ri qiymat`;default:return"Noto‘g‘ri kirish"}}};function o_(){return{localeError:EW()}}var JW=()=>{let i={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function n(t){return i[t]??null}let r={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"},u={nan:"NaN",number:"số",array:"mảng"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Đầu vào không hợp lệ: mong đợi instanceof ${t.expected}, nhận được ${e}`;return`Đầu vào không hợp lệ: mong đợi ${o}, nhận được ${e}`}case"invalid_value":if(t.values.length===1)return`Đầu vào không hợp lệ: mong đợi ${H(t.values[0])}`;return`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Quá lớn: mong đợi ${t.origin??"giá trị"} ${l.verb} ${o}${t.maximum.toString()} ${l.unit??"phần tử"}`;return`Quá lớn: mong đợi ${t.origin??"giá trị"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Quá nhỏ: mong đợi ${t.origin} ${l.verb} ${o}${t.minimum.toString()} ${l.unit}`;return`Quá nhỏ: mong đợi ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Chuỗi không hợp lệ: phải bắt đầu bằng "${o.prefix}"`;if(o.format==="ends_with")return`Chuỗi không hợp lệ: phải kết thúc bằng "${o.suffix}"`;if(o.format==="includes")return`Chuỗi không hợp lệ: phải bao gồm "${o.includes}"`;if(o.format==="regex")return`Chuỗi không hợp lệ: phải khớp với mẫu ${o.pattern}`;return`${r[o.format]??t.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${t.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${J(t.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${t.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${t.origin}`;default:return"Đầu vào không hợp lệ"}}};function l_(){return{localeError:JW()}}var zW=()=>{let i={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function n(t){return i[t]??null}let r={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"},u={nan:"NaN",number:"数字",array:"数组",null:"空值(null)"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`无效输入：期望 instanceof ${t.expected}，实际接收 ${e}`;return`无效输入：期望 ${o}，实际接收 ${e}`}case"invalid_value":if(t.values.length===1)return`无效输入：期望 ${H(t.values[0])}`;return`无效选项：期望以下之一 ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`数值过大：期望 ${t.origin??"值"} ${o}${t.maximum.toString()} ${l.unit??"个元素"}`;return`数值过大：期望 ${t.origin??"值"} ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`数值过小：期望 ${t.origin} ${o}${t.minimum.toString()} ${l.unit}`;return`数值过小：期望 ${t.origin} ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`无效字符串：必须以 "${o.prefix}" 开头`;if(o.format==="ends_with")return`无效字符串：必须以 "${o.suffix}" 结尾`;if(o.format==="includes")return`无效字符串：必须包含 "${o.includes}"`;if(o.format==="regex")return`无效字符串：必须满足正则表达式 ${o.pattern}`;return`无效${r[o.format]??t.format}`}case"not_multiple_of":return`无效数字：必须是 ${t.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${J(t.keys,", ")}`;case"invalid_key":return`${t.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${t.origin} 中包含无效值(value)`;default:return"无效输入"}}};function g_(){return{localeError:zW()}}var qW=()=>{let i={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function n(t){return i[t]??null}let r={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"},u={nan:"NaN"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`無效的輸入值：預期為 instanceof ${t.expected}，但收到 ${e}`;return`無效的輸入值：預期為 ${o}，但收到 ${e}`}case"invalid_value":if(t.values.length===1)return`無效的輸入值：預期為 ${H(t.values[0])}`;return`無效的選項：預期為以下其中之一 ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`數值過大：預期 ${t.origin??"值"} 應為 ${o}${t.maximum.toString()} ${l.unit??"個元素"}`;return`數值過大：預期 ${t.origin??"值"} 應為 ${o}${t.maximum.toString()}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`數值過小：預期 ${t.origin} 應為 ${o}${t.minimum.toString()} ${l.unit}`;return`數值過小：預期 ${t.origin} 應為 ${o}${t.minimum.toString()}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`無效的字串：必須以 "${o.prefix}" 開頭`;if(o.format==="ends_with")return`無效的字串：必須以 "${o.suffix}" 結尾`;if(o.format==="includes")return`無效的字串：必須包含 "${o.includes}"`;if(o.format==="regex")return`無效的字串：必須符合格式 ${o.pattern}`;return`無效的 ${r[o.format]??t.format}`}case"not_multiple_of":return`無效的數字：必須為 ${t.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${t.keys.length>1?"們":""}：${J(t.keys,"、")}`;case"invalid_key":return`${t.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${t.origin} 中有無效的值`;default:return"無效的輸入值"}}};function e_(){return{localeError:qW()}}var HW=()=>{let i={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function n(t){return i[t]??null}let r={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"},u={nan:"NaN",number:"nọ́mbà",array:"akopọ"};return(t)=>{switch(t.code){case"invalid_type":{let o=u[t.expected]??t.expected,l=G(t.input),e=u[l]??l;if(/^[A-Z]/.test(t.expected))return`Ìbáwọlé aṣìṣe: a ní láti fi instanceof ${t.expected}, àmọ̀ a rí ${e}`;return`Ìbáwọlé aṣìṣe: a ní láti fi ${o}, àmọ̀ a rí ${e}`}case"invalid_value":if(t.values.length===1)return`Ìbáwọlé aṣìṣe: a ní láti fi ${H(t.values[0])}`;return`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${J(t.values,"|")}`;case"too_big":{let o=t.inclusive?"<=":"<",l=n(t.origin);if(l)return`Tó pọ̀ jù: a ní láti jẹ́ pé ${t.origin??"iye"} ${l.verb} ${o}${t.maximum} ${l.unit}`;return`Tó pọ̀ jù: a ní láti jẹ́ ${o}${t.maximum}`}case"too_small":{let o=t.inclusive?">=":">",l=n(t.origin);if(l)return`Kéré ju: a ní láti jẹ́ pé ${t.origin} ${l.verb} ${o}${t.minimum} ${l.unit}`;return`Kéré ju: a ní láti jẹ́ ${o}${t.minimum}`}case"invalid_format":{let o=t;if(o.format==="starts_with")return`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${o.prefix}"`;if(o.format==="ends_with")return`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${o.suffix}"`;if(o.format==="includes")return`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${o.includes}"`;if(o.format==="regex")return`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${o.pattern}`;return`Aṣìṣe: ${r[o.format]??t.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${t.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${J(t.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${t.origin}`;case"invalid_union":return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${t.origin}`;default:return"Ìbáwọlé aṣìṣe"}}};function c_(){return{localeError:HW()}}var gU,$_=Symbol("ZodOutput"),v_=Symbol("ZodInput");class __{constructor(){this._map=new WeakMap,this._idmap=new Map}add(i,...n){let r=n[0];if(this._map.set(i,r),r&&typeof r==="object"&&"id"in r)this._idmap.set(r.id,i);return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(i){let n=this._map.get(i);if(n&&typeof n==="object"&&"id"in n)this._idmap.delete(n.id);return this._map.delete(i),this}get(i){let n=i._zod.parent;if(n){let r={...this.get(n)??{}};delete r.id;let u={...r,...this._map.get(i)};return Object.keys(u).length?u:void 0}return this._map.get(i)}has(i){return this._map.has(i)}}function ll(){return new __}(gU=globalThis).__zod_globalRegistry??(gU.__zod_globalRegistry=ll());var zi=globalThis.__zod_globalRegistry;function w_(i,n){return new i({type:"string",...m(n)})}function h_(i,n){return new i({type:"string",coerce:!0,...m(n)})}function gl(i,n){return new i({type:"string",format:"email",check:"string_format",abort:!1,...m(n)})}function $u(i,n){return new i({type:"string",format:"guid",check:"string_format",abort:!1,...m(n)})}function el(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,...m(n)})}function cl(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...m(n)})}function $l(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...m(n)})}function vl(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...m(n)})}function vu(i,n){return new i({type:"string",format:"url",check:"string_format",abort:!1,...m(n)})}function _l(i,n){return new i({type:"string",format:"emoji",check:"string_format",abort:!1,...m(n)})}function wl(i,n){return new i({type:"string",format:"nanoid",check:"string_format",abort:!1,...m(n)})}function hl(i,n){return new i({type:"string",format:"cuid",check:"string_format",abort:!1,...m(n)})}function bl(i,n){return new i({type:"string",format:"cuid2",check:"string_format",abort:!1,...m(n)})}function fl(i,n){return new i({type:"string",format:"ulid",check:"string_format",abort:!1,...m(n)})}function Ul(i,n){return new i({type:"string",format:"xid",check:"string_format",abort:!1,...m(n)})}function Ol(i,n){return new i({type:"string",format:"ksuid",check:"string_format",abort:!1,...m(n)})}function Il(i,n){return new i({type:"string",format:"ipv4",check:"string_format",abort:!1,...m(n)})}function jl(i,n){return new i({type:"string",format:"ipv6",check:"string_format",abort:!1,...m(n)})}function b_(i,n){return new i({type:"string",format:"mac",check:"string_format",abort:!1,...m(n)})}function Dl(i,n){return new i({type:"string",format:"cidrv4",check:"string_format",abort:!1,...m(n)})}function Nl(i,n){return new i({type:"string",format:"cidrv6",check:"string_format",abort:!1,...m(n)})}function El(i,n){return new i({type:"string",format:"base64",check:"string_format",abort:!1,...m(n)})}function Jl(i,n){return new i({type:"string",format:"base64url",check:"string_format",abort:!1,...m(n)})}function zl(i,n){return new i({type:"string",format:"e164",check:"string_format",abort:!1,...m(n)})}function ql(i,n){return new i({type:"string",format:"jwt",check:"string_format",abort:!1,...m(n)})}var f_={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function U_(i,n){return new i({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...m(n)})}function O_(i,n){return new i({type:"string",format:"date",check:"string_format",...m(n)})}function I_(i,n){return new i({type:"string",format:"time",check:"string_format",precision:null,...m(n)})}function j_(i,n){return new i({type:"string",format:"duration",check:"string_format",...m(n)})}function D_(i,n){return new i({type:"number",checks:[],...m(n)})}function N_(i,n){return new i({type:"number",coerce:!0,checks:[],...m(n)})}function E_(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"safeint",...m(n)})}function J_(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"float32",...m(n)})}function z_(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"float64",...m(n)})}function q_(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"int32",...m(n)})}function H_(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"uint32",...m(n)})}function W_(i,n){return new i({type:"boolean",...m(n)})}function G_(i,n){return new i({type:"boolean",coerce:!0,...m(n)})}function L_(i,n){return new i({type:"bigint",...m(n)})}function X_(i,n){return new i({type:"bigint",coerce:!0,...m(n)})}function S_(i,n){return new i({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...m(n)})}function m_(i,n){return new i({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...m(n)})}function Y_(i,n){return new i({type:"symbol",...m(n)})}function Q_(i,n){return new i({type:"undefined",...m(n)})}function B_(i,n){return new i({type:"null",...m(n)})}function A_(i){return new i({type:"any"})}function V_(i){return new i({type:"unknown"})}function K_(i,n){return new i({type:"never",...m(n)})}function y_(i,n){return new i({type:"void",...m(n)})}function M_(i,n){return new i({type:"date",...m(n)})}function k_(i,n){return new i({type:"date",coerce:!0,...m(n)})}function F_(i,n){return new i({type:"nan",...m(n)})}function vn(i,n){return new Co({check:"less_than",...m(n),value:i,inclusive:!1})}function Fi(i,n){return new Co({check:"less_than",...m(n),value:i,inclusive:!0})}function _n(i,n){return new Ro({check:"greater_than",...m(n),value:i,inclusive:!1})}function Yi(i,n){return new Ro({check:"greater_than",...m(n),value:i,inclusive:!0})}function Hl(i){return _n(0,i)}function Wl(i){return vn(0,i)}function Gl(i){return Fi(0,i)}function Ll(i){return Yi(0,i)}function Rn(i,n){return new Fc({check:"multiple_of",...m(n),value:i})}function dn(i,n){return new xc({check:"max_size",...m(n),maximum:i})}function wn(i,n){return new Cc({check:"min_size",...m(n),minimum:i})}function jt(i,n){return new Rc({check:"size_equals",...m(n),size:i})}function Dt(i,n){return new dc({check:"max_length",...m(n),maximum:i})}function Hn(i,n){return new Zc({check:"min_length",...m(n),minimum:i})}function Nt(i,n){return new ac({check:"length_equals",...m(n),length:i})}function Zt(i,n){return new pc({check:"string_format",format:"regex",...m(n),pattern:i})}function at(i){return new sc({check:"string_format",format:"lowercase",...m(i)})}function pt(i){return new i$({check:"string_format",format:"uppercase",...m(i)})}function st(i,n){return new n$({check:"string_format",format:"includes",...m(n),includes:i})}function ir(i,n){return new t$({check:"string_format",format:"starts_with",...m(n),prefix:i})}function nr(i,n){return new r$({check:"string_format",format:"ends_with",...m(n),suffix:i})}function Xl(i,n,r){return new u$({check:"property",property:i,schema:n,...m(r)})}function tr(i,n){return new o$({check:"mime_type",mime:i,...m(n)})}function si(i){return new l$({check:"overwrite",tx:i})}function rr(i){return si((n)=>n.normalize(i))}function ur(){return si((i)=>i.trim())}function or(){return si((i)=>i.toLowerCase())}function lr(){return si((i)=>i.toUpperCase())}function gr(){return si((i)=>uc(i))}function T_(i,n,r){return new i({type:"array",element:n,...m(r)})}function GW(i,n,r){return new i({type:"union",options:n,...m(r)})}function LW(i,n,r){return new i({type:"union",options:n,inclusive:!1,...m(r)})}function XW(i,n,r,u){return new i({type:"union",options:r,discriminator:n,...m(u)})}function SW(i,n,r){return new i({type:"intersection",left:n,right:r})}function mW(i,n,r,u){let t=r instanceof x;return new i({type:"tuple",items:n,rest:t?r:null,...m(t?u:r)})}function YW(i,n,r,u){return new i({type:"record",keyType:n,valueType:r,...m(u)})}function QW(i,n,r,u){return new i({type:"map",keyType:n,valueType:r,...m(u)})}function BW(i,n,r){return new i({type:"set",valueType:n,...m(r)})}function AW(i,n,r){let u=Array.isArray(n)?Object.fromEntries(n.map((t)=>[t,t])):n;return new i({type:"enum",entries:u,...m(r)})}function VW(i,n,r){return new i({type:"enum",entries:n,...m(r)})}function KW(i,n,r){return new i({type:"literal",values:Array.isArray(n)?n:[n],...m(r)})}function P_(i,n){return new i({type:"file",...m(n)})}function yW(i,n){return new i({type:"transform",transform:n})}function MW(i,n){return new i({type:"optional",innerType:n})}function kW(i,n){return new i({type:"nullable",innerType:n})}function FW(i,n,r){return new i({type:"default",innerType:n,get defaultValue(){return typeof r==="function"?r():lc(r)}})}function TW(i,n,r){return new i({type:"nonoptional",innerType:n,...m(r)})}function PW(i,n){return new i({type:"success",innerType:n})}function xW(i,n,r){return new i({type:"catch",innerType:n,catchValue:typeof r==="function"?r:()=>r})}function CW(i,n,r){return new i({type:"pipe",in:n,out:r})}function RW(i,n){return new i({type:"readonly",innerType:n})}function dW(i,n,r){return new i({type:"template_literal",parts:n,...m(r)})}function ZW(i,n){return new i({type:"lazy",getter:n})}function aW(i,n){return new i({type:"promise",innerType:n})}function x_(i,n,r){let u=m(r);return u.abort??(u.abort=!0),new i({type:"custom",check:"custom",fn:n,...u})}function C_(i,n,r){return new i({type:"custom",check:"custom",fn:n,...m(r)})}function R_(i){let n=eU((r)=>{return r.addIssue=(u)=>{if(typeof u==="string")r.issues.push(Ft(u,r.value,n._zod.def));else{let t=u;if(t.fatal)t.continue=!1;t.code??(t.code="custom"),t.input??(t.input=r.value),t.inst??(t.inst=n),t.continue??(t.continue=!n._zod.def.abort),r.issues.push(Ft(t))}},i(r.value,r)});return n}function eU(i,n){let r=new li({check:"custom",...m(n)});return r._zod.check=i,r}function d_(i){let n=new li({check:"describe"});return n._zod.onattach=[(r)=>{let u=zi.get(r)??{};zi.add(r,{...u,description:i})}],n._zod.check=()=>{},n}function Z_(i){let n=new li({check:"meta"});return n._zod.onattach=[(r)=>{let u=zi.get(r)??{};zi.add(r,{...u,...i})}],n._zod.check=()=>{},n}function a_(i,n){let r=m(n),u=r.truthy??["true","1","yes","on","y","enabled"],t=r.falsy??["false","0","no","off","n","disabled"];if(r.case!=="sensitive")u=u.map((h)=>typeof h==="string"?h.toLowerCase():h),t=t.map((h)=>typeof h==="string"?h.toLowerCase():h);let o=new Set(u),l=new Set(t),e=i.Codec??uu,c=i.Boolean??tu,v=new(i.String??It)({type:"string",error:r.error}),_=new c({type:"boolean",error:r.error}),w=new e({type:"pipe",in:v,out:_,transform:(h,f)=>{let U=h;if(r.case!=="sensitive")U=U.toLowerCase();if(o.has(U))return!0;else if(l.has(U))return!1;else return f.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...l],input:f.value,inst:w,continue:!1}),{}},reverseTransform:(h,f)=>{if(h===!0)return u[0]||"true";else return t[0]||"false"},error:r.error});return w}function er(i,n,r,u={}){let t=m(u),o={...m(u),check:"string_format",type:"string",format:n,fn:typeof r==="function"?r:(e)=>r.test(e),...t};if(r instanceof RegExp)o.pattern=r;return new i(o)}function Zn(i){let n=i?.target??"draft-2020-12";if(n==="draft-4")n="draft-04";if(n==="draft-7")n="draft-07";return{processors:i.processors??{},metadataRegistry:i?.metadata??zi,target:n,unrepresentable:i?.unrepresentable??"throw",override:i?.override??(()=>{}),io:i?.io??"output",counter:0,seen:new Map,cycles:i?.cycles??"ref",reused:i?.reused??"inline",external:i?.external??void 0}}function ni(i,n,r={path:[],schemaPath:[]}){var u;let t=i._zod.def,o=n.seen.get(i);if(o){if(o.count++,r.schemaPath.includes(i))o.cycle=r.path;return o.schema}let l={schema:{},count:1,cycle:void 0,path:r.path};n.seen.set(i,l);let e=i._zod.toJSONSchema?.();if(e)l.schema=e;else{let v={...r,schemaPath:[...r.schemaPath,i],path:r.path};if(i._zod.processJSONSchema)i._zod.processJSONSchema(n,l.schema,v);else{let w=l.schema,h=n.processors[t.type];if(!h)throw Error(`[toJSONSchema]: Non-representable type encountered: ${t.type}`);h(i,n,w,v)}let _=i._zod.parent;if(_){if(!l.ref)l.ref=_;ni(_,n,v),n.seen.get(_).isParent=!0}}let c=n.metadataRegistry.get(i);if(c)Object.assign(l.schema,c);if(n.io==="input"&&Qi(i))delete l.schema.examples,delete l.schema.default;if(n.io==="input"&&l.schema._prefault)(u=l.schema).default??(u.default=l.schema._prefault);return delete l.schema._prefault,n.seen.get(i).schema}function an(i,n){let r=i.seen.get(n);if(!r)throw Error("Unprocessed schema. This is a bug in Zod.");let u=new Map;for(let l of i.seen.entries()){let e=i.metadataRegistry.get(l[0])?.id;if(e){let c=u.get(e);if(c&&c!==l[0])throw Error(`Duplicate schema id "${e}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);u.set(e,l[0])}}let t=(l)=>{let e=i.target==="draft-2020-12"?"$defs":"definitions";if(i.external){let _=i.external.registry.get(l[0])?.id,w=i.external.uri??((f)=>f);if(_)return{ref:w(_)};let h=l[1].defId??l[1].schema.id??`schema${i.counter++}`;return l[1].defId=h,{defId:h,ref:`${w("__shared")}#/${e}/${h}`}}if(l[1]===r)return{ref:"#"};let $=`${"#"}/${e}/`,v=l[1].schema.id??`__schema${i.counter++}`;return{defId:v,ref:$+v}},o=(l)=>{if(l[1].schema.$ref)return;let e=l[1],{ref:c,defId:$}=t(l);if(e.def={...e.schema},$)e.defId=$;let v=e.schema;for(let _ in v)delete v[_];v.$ref=c};if(i.cycles==="throw")for(let l of i.seen.entries()){let e=l[1];if(e.cycle)throw Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \\`cycles\\` parameter to \\`"ref"\\` to resolve cyclical schemas with defs.`)}for(let l of i.seen.entries()){let e=l[1];if(n===l[0]){o(l);continue}if(i.external){let $=i.external.registry.get(l[0])?.id;if(n!==l[0]&&$){o(l);continue}}if(i.metadataRegistry.get(l[0])?.id){o(l);continue}if(e.cycle){o(l);continue}if(e.count>1){if(i.reused==="ref"){o(l);continue}}}}function pn(i,n){let r=i.seen.get(n);if(!r)throw Error("Unprocessed schema. This is a bug in Zod.");let u=(l)=>{let e=i.seen.get(l);if(e.ref===null)return;let c=e.def??e.schema,$={...c},v=e.ref;if(e.ref=null,v){u(v);let w=i.seen.get(v),h=w.schema;if(h.$ref&&(i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0"))c.allOf=c.allOf??[],c.allOf.push(h);else Object.assign(c,h);if(Object.assign(c,$),l._zod.parent===v)for(let U in c){if(U==="$ref"||U==="allOf")continue;if(!(U in $))delete c[U]}if(h.$ref)for(let U in c){if(U==="$ref"||U==="allOf")continue;if(U in w.def&&JSON.stringify(c[U])===JSON.stringify(w.def[U]))delete c[U]}}let _=l._zod.parent;if(_&&_!==v){u(_);let w=i.seen.get(_);if(w?.schema.$ref){if(c.$ref=w.schema.$ref,w.def)for(let h in c){if(h==="$ref"||h==="allOf")continue;if(h in w.def&&JSON.stringify(c[h])===JSON.stringify(w.def[h]))delete c[h]}}}i.override({zodSchema:l,jsonSchema:c,path:e.path??[]})};for(let l of[...i.seen.entries()].reverse())u(l[0]);let t={};if(i.target==="draft-2020-12")t.$schema="https://json-schema.org/draft/2020-12/schema";else if(i.target==="draft-07")t.$schema="http://json-schema.org/draft-07/schema#";else if(i.target==="draft-04")t.$schema="http://json-schema.org/draft-04/schema#";else if(i.target==="openapi-3.0");if(i.external?.uri){let l=i.external.registry.get(n)?.id;if(!l)throw Error("Schema is missing an `id` property");t.$id=i.external.uri(l)}Object.assign(t,r.def??r.schema);let o=i.external?.defs??{};for(let l of i.seen.entries()){let e=l[1];if(e.def&&e.defId)o[e.defId]=e.def}if(i.external);else if(Object.keys(o).length>0)if(i.target==="draft-2020-12")t.$defs=o;else t.definitions=o;try{let l=JSON.parse(JSON.stringify(t));return Object.defineProperty(l,"~standard",{value:{...n["~standard"],jsonSchema:{input:cr(n,"input",i.processors),output:cr(n,"output",i.processors)}},enumerable:!1,writable:!1}),l}catch(l){throw Error("Error converting schema to JSON.")}}function Qi(i,n){let r=n??{seen:new Set};if(r.seen.has(i))return!1;r.seen.add(i);let u=i._zod.def;if(u.type==="transform")return!0;if(u.type==="array")return Qi(u.element,r);if(u.type==="set")return Qi(u.valueType,r);if(u.type==="lazy")return Qi(u.getter(),r);if(u.type==="promise"||u.type==="optional"||u.type==="nonoptional"||u.type==="nullable"||u.type==="readonly"||u.type==="default"||u.type==="prefault")return Qi(u.innerType,r);if(u.type==="intersection")return Qi(u.left,r)||Qi(u.right,r);if(u.type==="record"||u.type==="map")return Qi(u.keyType,r)||Qi(u.valueType,r);if(u.type==="pipe")return Qi(u.in,r)||Qi(u.out,r);if(u.type==="object"){for(let t in u.shape)if(Qi(u.shape[t],r))return!0;return!1}if(u.type==="union"){for(let t of u.options)if(Qi(t,r))return!0;return!1}if(u.type==="tuple"){for(let t of u.items)if(Qi(t,r))return!0;if(u.rest&&Qi(u.rest,r))return!0;return!1}return!1}var p_=(i,n={})=>(r)=>{let u=Zn({...r,processors:n});return ni(i,u),an(u,i),pn(u,i)},cr=(i,n,r={})=>(u)=>{let{libraryOptions:t,target:o}=u??{},l=Zn({...t??{},target:o,io:n,processors:r});return ni(i,l),an(l,i),pn(l,i)};var pW={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s_=(i,n,r,u)=>{let t=r;t.type="string";let{minimum:o,maximum:l,format:e,patterns:c,contentEncoding:$}=i._zod.bag;if(typeof o==="number")t.minLength=o;if(typeof l==="number")t.maxLength=l;if(e){if(t.format=pW[e]??e,t.format==="")delete t.format;if(e==="time")delete t.format}if($)t.contentEncoding=$;if(c&&c.size>0){let v=[...c];if(v.length===1)t.pattern=v[0].source;else if(v.length>1)t.allOf=[...v.map((_)=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))]}},iw=(i,n,r,u)=>{let t=r,{minimum:o,maximum:l,format:e,multipleOf:c,exclusiveMaximum:$,exclusiveMinimum:v}=i._zod.bag;if(typeof e==="string"&&e.includes("int"))t.type="integer";else t.type="number";if(typeof v==="number")if(n.target==="draft-04"||n.target==="openapi-3.0")t.minimum=v,t.exclusiveMinimum=!0;else t.exclusiveMinimum=v;if(typeof o==="number"){if(t.minimum=o,typeof v==="number"&&n.target!=="draft-04")if(v>=o)delete t.minimum;else delete t.exclusiveMinimum}if(typeof $==="number")if(n.target==="draft-04"||n.target==="openapi-3.0")t.maximum=$,t.exclusiveMaximum=!0;else t.exclusiveMaximum=$;if(typeof l==="number"){if(t.maximum=l,typeof $==="number"&&n.target!=="draft-04")if($<=l)delete t.maximum;else delete t.exclusiveMaximum}if(typeof c==="number")t.multipleOf=c},nw=(i,n,r,u)=>{r.type="boolean"},tw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},rw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},uw=(i,n,r,u)=>{if(n.target==="openapi-3.0")r.type="string",r.nullable=!0,r.enum=[null];else r.type="null"},ow=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},lw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},gw=(i,n,r,u)=>{r.not={}},ew=(i,n,r,u)=>{},cw=(i,n,r,u)=>{},$w=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},vw=(i,n,r,u)=>{let t=i._zod.def,o=Pr(t.entries);if(o.every((l)=>typeof l==="number"))r.type="number";if(o.every((l)=>typeof l==="string"))r.type="string";r.enum=o},_w=(i,n,r,u)=>{let t=i._zod.def,o=[];for(let l of t.values)if(l===void 0){if(n.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l==="bigint")if(n.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else o.push(Number(l));else o.push(l);if(o.length===0);else if(o.length===1){let l=o[0];if(r.type=l===null?"null":typeof l,n.target==="draft-04"||n.target==="openapi-3.0")r.enum=[l];else r.const=l}else{if(o.every((l)=>typeof l==="number"))r.type="number";if(o.every((l)=>typeof l==="string"))r.type="string";if(o.every((l)=>typeof l==="boolean"))r.type="boolean";if(o.every((l)=>l===null))r.type="null";r.enum=o}},ww=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},hw=(i,n,r,u)=>{let t=r,o=i._zod.pattern;if(!o)throw Error("Pattern not found in template literal");t.type="string",t.pattern=o.source},bw=(i,n,r,u)=>{let t=r,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:l,maximum:e,mime:c}=i._zod.bag;if(l!==void 0)o.minLength=l;if(e!==void 0)o.maxLength=e;if(c)if(c.length===1)o.contentMediaType=c[0],Object.assign(t,o);else Object.assign(t,o),t.anyOf=c.map(($)=>({contentMediaType:$}));else Object.assign(t,o)},fw=(i,n,r,u)=>{r.type="boolean"},Uw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},Ow=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},Iw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},jw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},Dw=(i,n,r,u)=>{if(n.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},Nw=(i,n,r,u)=>{let t=r,o=i._zod.def,{minimum:l,maximum:e}=i._zod.bag;if(typeof l==="number")t.minItems=l;if(typeof e==="number")t.maxItems=e;t.type="array",t.items=ni(o.element,n,{...u,path:[...u.path,"items"]})},Ew=(i,n,r,u)=>{let t=r,o=i._zod.def;t.type="object",t.properties={};let l=o.shape;for(let $ in l)t.properties[$]=ni(l[$],n,{...u,path:[...u.path,"properties",$]});let e=new Set(Object.keys(l)),c=new Set([...e].filter(($)=>{let v=o.shape[$]._zod;if(n.io==="input")return v.optin===void 0;else return v.optout===void 0}));if(c.size>0)t.required=Array.from(c);if(o.catchall?._zod.def.type==="never")t.additionalProperties=!1;else if(!o.catchall){if(n.io==="output")t.additionalProperties=!1}else if(o.catchall)t.additionalProperties=ni(o.catchall,n,{...u,path:[...u.path,"additionalProperties"]})},ml=(i,n,r,u)=>{let t=i._zod.def,o=t.inclusive===!1,l=t.options.map((e,c)=>ni(e,n,{...u,path:[...u.path,o?"oneOf":"anyOf",c]}));if(o)r.oneOf=l;else r.anyOf=l},Jw=(i,n,r,u)=>{let t=i._zod.def,o=ni(t.left,n,{...u,path:[...u.path,"allOf",0]}),l=ni(t.right,n,{...u,path:[...u.path,"allOf",1]}),e=($)=>("allOf"in $)&&Object.keys($).length===1,c=[...e(o)?o.allOf:[o],...e(l)?l.allOf:[l]];r.allOf=c},zw=(i,n,r,u)=>{let t=r,o=i._zod.def;t.type="array";let l=n.target==="draft-2020-12"?"prefixItems":"items",e=n.target==="draft-2020-12"?"items":n.target==="openapi-3.0"?"items":"additionalItems",c=o.items.map((w,h)=>ni(w,n,{...u,path:[...u.path,l,h]})),$=o.rest?ni(o.rest,n,{...u,path:[...u.path,e,...n.target==="openapi-3.0"?[o.items.length]:[]]}):null;if(n.target==="draft-2020-12"){if(t.prefixItems=c,$)t.items=$}else if(n.target==="openapi-3.0"){if(t.items={anyOf:c},$)t.items.anyOf.push($);if(t.minItems=c.length,!$)t.maxItems=c.length}else if(t.items=c,$)t.additionalItems=$;let{minimum:v,maximum:_}=i._zod.bag;if(typeof v==="number")t.minItems=v;if(typeof _==="number")t.maxItems=_},qw=(i,n,r,u)=>{let t=r,o=i._zod.def;t.type="object";let l=o.keyType,c=l._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){let v=ni(o.valueType,n,{...u,path:[...u.path,"patternProperties","*"]});t.patternProperties={};for(let _ of c)t.patternProperties[_.source]=v}else{if(n.target==="draft-07"||n.target==="draft-2020-12")t.propertyNames=ni(o.keyType,n,{...u,path:[...u.path,"propertyNames"]});t.additionalProperties=ni(o.valueType,n,{...u,path:[...u.path,"additionalProperties"]})}let $=l._zod.values;if($){let v=[...$].filter((_)=>typeof _==="string"||typeof _==="number");if(v.length>0)t.required=v}},Hw=(i,n,r,u)=>{let t=i._zod.def,o=ni(t.innerType,n,u),l=n.seen.get(i);if(n.target==="openapi-3.0")l.ref=t.innerType,r.nullable=!0;else r.anyOf=[o,{type:"null"}]},Ww=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType},Gw=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType,r.default=JSON.parse(JSON.stringify(t.defaultValue))},Lw=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);if(o.ref=t.innerType,n.io==="input")r._prefault=JSON.parse(JSON.stringify(t.defaultValue))},Xw=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType;let l;try{l=t.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},Sw=(i,n,r,u)=>{let t=i._zod.def,o=n.io==="input"?t.in._zod.def.type==="transform"?t.out:t.in:t.out;ni(o,n,u);let l=n.seen.get(i);l.ref=o},mw=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType,r.readOnly=!0},Yw=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType},Yl=(i,n,r,u)=>{let t=i._zod.def;ni(t.innerType,n,u);let o=n.seen.get(i);o.ref=t.innerType},Qw=(i,n,r,u)=>{let t=i._zod.innerType;ni(t,n,u);let o=n.seen.get(i);o.ref=t},Sl={string:s_,number:iw,boolean:nw,bigint:tw,symbol:rw,null:uw,undefined:ow,void:lw,never:gw,any:ew,unknown:cw,date:$w,enum:vw,literal:_w,nan:ww,template_literal:hw,file:bw,success:fw,custom:Uw,function:Ow,transform:Iw,map:jw,set:Dw,array:Nw,object:Ew,union:ml,intersection:Jw,tuple:zw,record:qw,nullable:Hw,nonoptional:Ww,default:Gw,prefault:Lw,catch:Xw,pipe:Sw,readonly:mw,promise:Yw,optional:Yl,lazy:Qw};function $r(i,n){if("_idmap"in i){let u=i,t=Zn({...n,processors:Sl}),o={};for(let c of u._idmap.entries()){let[$,v]=c;ni(v,t)}let l={},e={registry:u,uri:n?.uri,defs:o};t.external=e;for(let c of u._idmap.entries()){let[$,v]=c;an(t,v),l[$]=pn(t,v)}if(Object.keys(o).length>0){let c=t.target==="draft-2020-12"?"$defs":"definitions";l.__shared={[c]:o}}return{schemas:l}}let r=Zn({...n,processors:Sl});return ni(i,r),an(r,i),pn(r,i)}class Bw{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(i){this.ctx.counter=i}get seen(){return this.ctx.seen}constructor(i){let n=i?.target??"draft-2020-12";if(n==="draft-4")n="draft-04";if(n==="draft-7")n="draft-07";this.ctx=Zn({processors:Sl,target:n,...i?.metadata&&{metadata:i.metadata},...i?.unrepresentable&&{unrepresentable:i.unrepresentable},...i?.override&&{override:i.override},...i?.io&&{io:i.io}})}process(i,n={path:[],schemaPath:[]}){return ni(i,this.ctx,n)}emit(i,n){if(n){if(n.cycles)this.ctx.cycles=n.cycles;if(n.reused)this.ctx.reused=n.reused;if(n.external)this.ctx.external=n.external}an(this.ctx,i);let r=pn(this.ctx,i),{"~standard":u,...t}=r;return t}}var cU={};var _u={};ln(_u,{xor:()=>nO,xid:()=>JU,void:()=>dU,uuidv7:()=>fU,uuidv6:()=>bU,uuidv4:()=>hU,uuid:()=>wU,url:()=>UU,unknown:()=>Et,union:()=>gg,undefined:()=>CU,ulid:()=>EU,uint64:()=>PU,uint32:()=>kU,tuple:()=>bh,transform:()=>cg,templateLiteral:()=>hO,symbol:()=>xU,superRefine:()=>kh,success:()=>vO,stringbool:()=>NO,stringFormat:()=>QU,string:()=>yl,strictObject:()=>sU,set:()=>lO,refine:()=>Mh,record:()=>fh,readonly:()=>Qh,promise:()=>bO,preprocess:()=>JO,prefault:()=>Wh,pipe:()=>Uu,partialRecord:()=>rO,optional:()=>bu,object:()=>pU,number:()=>sw,nullish:()=>$O,nullable:()=>fu,null:()=>uh,nonoptional:()=>Gh,never:()=>lg,nativeEnum:()=>gO,nanoid:()=>jU,nan:()=>_O,meta:()=>jO,map:()=>oO,mac:()=>HU,looseRecord:()=>uO,looseObject:()=>iO,literal:()=>eO,lazy:()=>Vh,ksuid:()=>zU,keyof:()=>aU,jwt:()=>YU,json:()=>EO,ipv6:()=>WU,ipv4:()=>qU,intersection:()=>wh,int64:()=>TU,int32:()=>MU,int:()=>Ml,instanceof:()=>DO,httpUrl:()=>OU,hostname:()=>BU,hex:()=>AU,hash:()=>VU,guid:()=>_U,function:()=>fO,float64:()=>yU,float32:()=>KU,file:()=>cO,exactOptional:()=>Eh,enum:()=>eg,emoji:()=>IU,email:()=>vU,e164:()=>mU,discriminatedUnion:()=>tO,describe:()=>IO,date:()=>ZU,custom:()=>OO,cuid2:()=>NU,cuid:()=>DU,codec:()=>wO,cidrv6:()=>LU,cidrv4:()=>GU,check:()=>UO,catch:()=>Sh,boolean:()=>ih,bigint:()=>FU,base64url:()=>SU,base64:()=>XU,array:()=>ju,any:()=>RU,_function:()=>fO,_default:()=>qh,_ZodString:()=>kl,ZodXor:()=>$h,ZodXID:()=>dl,ZodVoid:()=>eh,ZodUnknown:()=>lh,ZodUnion:()=>Nu,ZodUndefined:()=>th,ZodUUID:()=>hn,ZodURL:()=>Ou,ZodULID:()=>Rl,ZodType:()=>R,ZodTuple:()=>hh,ZodTransform:()=>Dh,ZodTemplateLiteral:()=>Bh,ZodSymbol:()=>nh,ZodSuccess:()=>Lh,ZodStringFormat:()=>ui,ZodString:()=>wr,ZodSet:()=>Oh,ZodRecord:()=>Eu,ZodReadonly:()=>Yh,ZodPromise:()=>Kh,ZodPrefault:()=>Hh,ZodPipe:()=>_g,ZodOptional:()=>$g,ZodObject:()=>Du,ZodNumberFormat:()=>Jt,ZodNumber:()=>br,ZodNullable:()=>Jh,ZodNull:()=>rh,ZodNonOptional:()=>vg,ZodNever:()=>gh,ZodNanoID:()=>Pl,ZodNaN:()=>mh,ZodMap:()=>Uh,ZodMAC:()=>pw,ZodLiteral:()=>Ih,ZodLazy:()=>Ah,ZodKSUID:()=>Zl,ZodJWT:()=>ug,ZodIntersection:()=>_h,ZodIPv6:()=>pl,ZodIPv4:()=>al,ZodGUID:()=>hu,ZodFunction:()=>yh,ZodFile:()=>jh,ZodExactOptional:()=>Nh,ZodEnum:()=>_r,ZodEmoji:()=>Tl,ZodEmail:()=>Fl,ZodE164:()=>rg,ZodDiscriminatedUnion:()=>vh,ZodDefault:()=>zh,ZodDate:()=>Iu,ZodCustomStringFormat:()=>hr,ZodCustom:()=>Ju,ZodCodec:()=>wg,ZodCatch:()=>Xh,ZodCUID2:()=>Cl,ZodCUID:()=>xl,ZodCIDRv6:()=>ig,ZodCIDRv4:()=>sl,ZodBoolean:()=>fr,ZodBigIntFormat:()=>og,ZodBigInt:()=>Ur,ZodBase64URL:()=>tg,ZodBase64:()=>ng,ZodArray:()=>ch,ZodAny:()=>oh});var Ql={};ln(Ql,{uppercase:()=>pt,trim:()=>ur,toUpperCase:()=>lr,toLowerCase:()=>or,startsWith:()=>ir,slugify:()=>gr,size:()=>jt,regex:()=>Zt,property:()=>Xl,positive:()=>Hl,overwrite:()=>si,normalize:()=>rr,nonpositive:()=>Gl,nonnegative:()=>Ll,negative:()=>Wl,multipleOf:()=>Rn,minSize:()=>wn,minLength:()=>Hn,mime:()=>tr,maxSize:()=>dn,maxLength:()=>Dt,lte:()=>Fi,lt:()=>vn,lowercase:()=>at,length:()=>Nt,includes:()=>st,gte:()=>Yi,gt:()=>_n,endsWith:()=>nr});var vr={};ln(vr,{time:()=>Kw,duration:()=>yw,datetime:()=>Aw,date:()=>Vw,ZodISOTime:()=>Vl,ZodISODuration:()=>Kl,ZodISODateTime:()=>Bl,ZodISODate:()=>Al});var Bl=N("ZodISODateTime",(i,n)=>{j$.init(i,n),ui.init(i,n)});function Aw(i){return U_(Bl,i)}var Al=N("ZodISODate",(i,n)=>{D$.init(i,n),ui.init(i,n)});function Vw(i){return O_(Al,i)}var Vl=N("ZodISOTime",(i,n)=>{N$.init(i,n),ui.init(i,n)});function Kw(i){return I_(Vl,i)}var Kl=N("ZodISODuration",(i,n)=>{E$.init(i,n),ui.init(i,n)});function yw(i){return j_(Kl,i)}var $U=(i,n)=>{Zr.init(i,n),i.name="ZodError",Object.defineProperties(i,{format:{value:(r)=>pr(i,r)},flatten:{value:(r)=>ar(i,r)},addIssue:{value:(r)=>{i.issues.push(r),i.message=JSON.stringify(i.issues,Mt,2)}},addIssues:{value:(r)=>{i.issues.push(...r),i.message=JSON.stringify(i.issues,Mt,2)}},isEmpty:{get(){return i.issues.length===0}}})},iG=N("ZodError",$U),yi=N("ZodError",$U,{Parent:Error});var Mw=Tt(yi),kw=Pt(yi),Fw=xt(yi),wu=Ct(yi),Tw=Vo(yi),Pw=Ko(yi),xw=yo(yi),Cw=Mo(yi),Rw=ko(yi),dw=Fo(yi),Zw=To(yi),aw=Po(yi);var R=N("ZodType",(i,n)=>{return x.init(i,n),Object.assign(i["~standard"],{jsonSchema:{input:cr(i,"input"),output:cr(i,"output")}}),i.toJSONSchema=p_(i,{}),i.def=n,i.type=n.type,Object.defineProperty(i,"_def",{value:n}),i.check=(...r)=>{return i.clone(L.mergeDefs(n,{checks:[...n.checks??[],...r.map((u)=>typeof u==="function"?{_zod:{check:u,def:{check:"custom"},onattach:[]}}:u)]}),{parent:!0})},i.with=i.check,i.clone=(r,u)=>mi(i,r,u),i.brand=()=>i,i.register=(r,u)=>{return r.add(i,u),i},i.parse=(r,u)=>Mw(i,r,u,{callee:i.parse}),i.safeParse=(r,u)=>Fw(i,r,u),i.parseAsync=async(r,u)=>kw(i,r,u,{callee:i.parseAsync}),i.safeParseAsync=async(r,u)=>wu(i,r,u),i.spa=i.safeParseAsync,i.encode=(r,u)=>Tw(i,r,u),i.decode=(r,u)=>Pw(i,r,u),i.encodeAsync=async(r,u)=>xw(i,r,u),i.decodeAsync=async(r,u)=>Cw(i,r,u),i.safeEncode=(r,u)=>Rw(i,r,u),i.safeDecode=(r,u)=>dw(i,r,u),i.safeEncodeAsync=async(r,u)=>Zw(i,r,u),i.safeDecodeAsync=async(r,u)=>aw(i,r,u),i.refine=(r,u)=>i.check(Mh(r,u)),i.superRefine=(r)=>i.check(kh(r)),i.overwrite=(r)=>i.check(si(r)),i.optional=()=>bu(i),i.exactOptional=()=>Eh(i),i.nullable=()=>fu(i),i.nullish=()=>bu(fu(i)),i.nonoptional=(r)=>Gh(i,r),i.array=()=>ju(i),i.or=(r)=>gg([i,r]),i.and=(r)=>wh(i,r),i.transform=(r)=>Uu(i,cg(r)),i.default=(r)=>qh(i,r),i.prefault=(r)=>Wh(i,r),i.catch=(r)=>Sh(i,r),i.pipe=(r)=>Uu(i,r),i.readonly=()=>Qh(i),i.describe=(r)=>{let u=i.clone();return zi.add(u,{description:r}),u},Object.defineProperty(i,"description",{get(){return zi.get(i)?.description},configurable:!0}),i.meta=(...r)=>{if(r.length===0)return zi.get(i);let u=i.clone();return zi.add(u,r[0]),u},i.isOptional=()=>i.safeParse(void 0).success,i.isNullable=()=>i.safeParse(null).success,i.apply=(r)=>r(i),i}),kl=N("_ZodString",(i,n)=>{It.init(i,n),R.init(i,n),i._zod.processJSONSchema=(u,t,o)=>s_(i,u,t,o);let r=i._zod.bag;i.format=r.format??null,i.minLength=r.minimum??null,i.maxLength=r.maximum??null,i.regex=(...u)=>i.check(Zt(...u)),i.includes=(...u)=>i.check(st(...u)),i.startsWith=(...u)=>i.check(ir(...u)),i.endsWith=(...u)=>i.check(nr(...u)),i.min=(...u)=>i.check(Hn(...u)),i.max=(...u)=>i.check(Dt(...u)),i.length=(...u)=>i.check(Nt(...u)),i.nonempty=(...u)=>i.check(Hn(1,...u)),i.lowercase=(u)=>i.check(at(u)),i.uppercase=(u)=>i.check(pt(u)),i.trim=()=>i.check(ur()),i.normalize=(...u)=>i.check(rr(...u)),i.toLowerCase=()=>i.check(or()),i.toUpperCase=()=>i.check(lr()),i.slugify=()=>i.check(gr())}),wr=N("ZodString",(i,n)=>{It.init(i,n),kl.init(i,n),i.email=(r)=>i.check(gl(Fl,r)),i.url=(r)=>i.check(vu(Ou,r)),i.jwt=(r)=>i.check(ql(ug,r)),i.emoji=(r)=>i.check(_l(Tl,r)),i.guid=(r)=>i.check($u(hu,r)),i.uuid=(r)=>i.check(el(hn,r)),i.uuidv4=(r)=>i.check(cl(hn,r)),i.uuidv6=(r)=>i.check($l(hn,r)),i.uuidv7=(r)=>i.check(vl(hn,r)),i.nanoid=(r)=>i.check(wl(Pl,r)),i.guid=(r)=>i.check($u(hu,r)),i.cuid=(r)=>i.check(hl(xl,r)),i.cuid2=(r)=>i.check(bl(Cl,r)),i.ulid=(r)=>i.check(fl(Rl,r)),i.base64=(r)=>i.check(El(ng,r)),i.base64url=(r)=>i.check(Jl(tg,r)),i.xid=(r)=>i.check(Ul(dl,r)),i.ksuid=(r)=>i.check(Ol(Zl,r)),i.ipv4=(r)=>i.check(Il(al,r)),i.ipv6=(r)=>i.check(jl(pl,r)),i.cidrv4=(r)=>i.check(Dl(sl,r)),i.cidrv6=(r)=>i.check(Nl(ig,r)),i.e164=(r)=>i.check(zl(rg,r)),i.datetime=(r)=>i.check(Aw(r)),i.date=(r)=>i.check(Vw(r)),i.time=(r)=>i.check(Kw(r)),i.duration=(r)=>i.check(yw(r))});function yl(i){return w_(wr,i)}var ui=N("ZodStringFormat",(i,n)=>{ri.init(i,n),kl.init(i,n)}),Fl=N("ZodEmail",(i,n)=>{v$.init(i,n),ui.init(i,n)});function vU(i){return gl(Fl,i)}var hu=N("ZodGUID",(i,n)=>{c$.init(i,n),ui.init(i,n)});function _U(i){return $u(hu,i)}var hn=N("ZodUUID",(i,n)=>{$$.init(i,n),ui.init(i,n)});function wU(i){return el(hn,i)}function hU(i){return cl(hn,i)}function bU(i){return $l(hn,i)}function fU(i){return vl(hn,i)}var Ou=N("ZodURL",(i,n)=>{_$.init(i,n),ui.init(i,n)});function UU(i){return vu(Ou,i)}function OU(i){return vu(Ou,{protocol:/^https?$/,hostname:di.domain,...L.normalizeParams(i)})}var Tl=N("ZodEmoji",(i,n)=>{w$.init(i,n),ui.init(i,n)});function IU(i){return _l(Tl,i)}var Pl=N("ZodNanoID",(i,n)=>{h$.init(i,n),ui.init(i,n)});function jU(i){return wl(Pl,i)}var xl=N("ZodCUID",(i,n)=>{b$.init(i,n),ui.init(i,n)});function DU(i){return hl(xl,i)}var Cl=N("ZodCUID2",(i,n)=>{f$.init(i,n),ui.init(i,n)});function NU(i){return bl(Cl,i)}var Rl=N("ZodULID",(i,n)=>{U$.init(i,n),ui.init(i,n)});function EU(i){return fl(Rl,i)}var dl=N("ZodXID",(i,n)=>{O$.init(i,n),ui.init(i,n)});function JU(i){return Ul(dl,i)}var Zl=N("ZodKSUID",(i,n)=>{I$.init(i,n),ui.init(i,n)});function zU(i){return Ol(Zl,i)}var al=N("ZodIPv4",(i,n)=>{J$.init(i,n),ui.init(i,n)});function qU(i){return Il(al,i)}var pw=N("ZodMAC",(i,n)=>{q$.init(i,n),ui.init(i,n)});function HU(i){return b_(pw,i)}var pl=N("ZodIPv6",(i,n)=>{z$.init(i,n),ui.init(i,n)});function WU(i){return jl(pl,i)}var sl=N("ZodCIDRv4",(i,n)=>{H$.init(i,n),ui.init(i,n)});function GU(i){return Dl(sl,i)}var ig=N("ZodCIDRv6",(i,n)=>{W$.init(i,n),ui.init(i,n)});function LU(i){return Nl(ig,i)}var ng=N("ZodBase64",(i,n)=>{L$.init(i,n),ui.init(i,n)});function XU(i){return El(ng,i)}var tg=N("ZodBase64URL",(i,n)=>{X$.init(i,n),ui.init(i,n)});function SU(i){return Jl(tg,i)}var rg=N("ZodE164",(i,n)=>{S$.init(i,n),ui.init(i,n)});function mU(i){return zl(rg,i)}var ug=N("ZodJWT",(i,n)=>{m$.init(i,n),ui.init(i,n)});function YU(i){return ql(ug,i)}var hr=N("ZodCustomStringFormat",(i,n)=>{Y$.init(i,n),ui.init(i,n)});function QU(i,n,r={}){return er(hr,i,n,r)}function BU(i){return er(hr,"hostname",di.hostname,i)}function AU(i){return er(hr,"hex",di.hex,i)}function VU(i,n){let r=n?.enc??"hex",u=`${i}_${r}`,t=di[u];if(!t)throw Error(`Unrecognized hash format: ${u}`);return er(hr,u,t,n)}var br=N("ZodNumber",(i,n)=>{tl.init(i,n),R.init(i,n),i._zod.processJSONSchema=(u,t,o)=>iw(i,u,t,o),i.gt=(u,t)=>i.check(_n(u,t)),i.gte=(u,t)=>i.check(Yi(u,t)),i.min=(u,t)=>i.check(Yi(u,t)),i.lt=(u,t)=>i.check(vn(u,t)),i.lte=(u,t)=>i.check(Fi(u,t)),i.max=(u,t)=>i.check(Fi(u,t)),i.int=(u)=>i.check(Ml(u)),i.safe=(u)=>i.check(Ml(u)),i.positive=(u)=>i.check(_n(0,u)),i.nonnegative=(u)=>i.check(Yi(0,u)),i.negative=(u)=>i.check(vn(0,u)),i.nonpositive=(u)=>i.check(Fi(0,u)),i.multipleOf=(u,t)=>i.check(Rn(u,t)),i.step=(u,t)=>i.check(Rn(u,t)),i.finite=()=>i;let r=i._zod.bag;i.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,i.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,i.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??0.5),i.isFinite=!0,i.format=r.format??null});function sw(i){return D_(br,i)}var Jt=N("ZodNumberFormat",(i,n)=>{Q$.init(i,n),br.init(i,n)});function Ml(i){return E_(Jt,i)}function KU(i){return J_(Jt,i)}function yU(i){return z_(Jt,i)}function MU(i){return q_(Jt,i)}function kU(i){return H_(Jt,i)}var fr=N("ZodBoolean",(i,n)=>{tu.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>nw(i,r,u,t)});function ih(i){return W_(fr,i)}var Ur=N("ZodBigInt",(i,n)=>{rl.init(i,n),R.init(i,n),i._zod.processJSONSchema=(u,t,o)=>tw(i,u,t,o),i.gte=(u,t)=>i.check(Yi(u,t)),i.min=(u,t)=>i.check(Yi(u,t)),i.gt=(u,t)=>i.check(_n(u,t)),i.gte=(u,t)=>i.check(Yi(u,t)),i.min=(u,t)=>i.check(Yi(u,t)),i.lt=(u,t)=>i.check(vn(u,t)),i.lte=(u,t)=>i.check(Fi(u,t)),i.max=(u,t)=>i.check(Fi(u,t)),i.positive=(u)=>i.check(_n(BigInt(0),u)),i.negative=(u)=>i.check(vn(BigInt(0),u)),i.nonpositive=(u)=>i.check(Fi(BigInt(0),u)),i.nonnegative=(u)=>i.check(Yi(BigInt(0),u)),i.multipleOf=(u,t)=>i.check(Rn(u,t));let r=i._zod.bag;i.minValue=r.minimum??null,i.maxValue=r.maximum??null,i.format=r.format??null});function FU(i){return L_(Ur,i)}var og=N("ZodBigIntFormat",(i,n)=>{B$.init(i,n),Ur.init(i,n)});function TU(i){return S_(og,i)}function PU(i){return m_(og,i)}var nh=N("ZodSymbol",(i,n)=>{A$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>rw(i,r,u,t)});function xU(i){return Y_(nh,i)}var th=N("ZodUndefined",(i,n)=>{V$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>ow(i,r,u,t)});function CU(i){return Q_(th,i)}var rh=N("ZodNull",(i,n)=>{K$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>uw(i,r,u,t)});function uh(i){return B_(rh,i)}var oh=N("ZodAny",(i,n)=>{y$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>ew(i,r,u,t)});function RU(){return A_(oh)}var lh=N("ZodUnknown",(i,n)=>{M$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>cw(i,r,u,t)});function Et(){return V_(lh)}var gh=N("ZodNever",(i,n)=>{k$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>gw(i,r,u,t)});function lg(i){return K_(gh,i)}var eh=N("ZodVoid",(i,n)=>{F$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>lw(i,r,u,t)});function dU(i){return y_(eh,i)}var Iu=N("ZodDate",(i,n)=>{T$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(u,t,o)=>$w(i,u,t,o),i.min=(u,t)=>i.check(Yi(u,t)),i.max=(u,t)=>i.check(Fi(u,t));let r=i._zod.bag;i.minDate=r.minimum?new Date(r.minimum):null,i.maxDate=r.maximum?new Date(r.maximum):null});function ZU(i){return M_(Iu,i)}var ch=N("ZodArray",(i,n)=>{P$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Nw(i,r,u,t),i.element=n.element,i.min=(r,u)=>i.check(Hn(r,u)),i.nonempty=(r)=>i.check(Hn(1,r)),i.max=(r,u)=>i.check(Dt(r,u)),i.length=(r,u)=>i.check(Nt(r,u)),i.unwrap=()=>i.element});function ju(i,n){return T_(ch,i,n)}function aU(i){let n=i._zod.def.shape;return eg(Object.keys(n))}var Du=N("ZodObject",(i,n)=>{x$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Ew(i,r,u,t),L.defineLazy(i,"shape",()=>{return n.shape}),i.keyof=()=>eg(Object.keys(i._zod.def.shape)),i.catchall=(r)=>i.clone({...i._zod.def,catchall:r}),i.passthrough=()=>i.clone({...i._zod.def,catchall:Et()}),i.loose=()=>i.clone({...i._zod.def,catchall:Et()}),i.strict=()=>i.clone({...i._zod.def,catchall:lg()}),i.strip=()=>i.clone({...i._zod.def,catchall:void 0}),i.extend=(r)=>{return L.extend(i,r)},i.safeExtend=(r)=>{return L.safeExtend(i,r)},i.merge=(r)=>L.merge(i,r),i.pick=(r)=>L.pick(i,r),i.omit=(r)=>L.omit(i,r),i.partial=(...r)=>L.partial($g,i,r[0]),i.required=(...r)=>L.required(vg,i,r[0])});function pU(i,n){let r={type:"object",shape:i??{},...L.normalizeParams(n)};return new Du(r)}function sU(i,n){return new Du({type:"object",shape:i,catchall:lg(),...L.normalizeParams(n)})}function iO(i,n){return new Du({type:"object",shape:i,catchall:Et(),...L.normalizeParams(n)})}var Nu=N("ZodUnion",(i,n)=>{ru.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>ml(i,r,u,t),i.options=n.options});function gg(i,n){return new Nu({type:"union",options:i,...L.normalizeParams(n)})}var $h=N("ZodXor",(i,n)=>{Nu.init(i,n),C$.init(i,n),i._zod.processJSONSchema=(r,u,t)=>ml(i,r,u,t),i.options=n.options});function nO(i,n){return new $h({type:"union",options:i,inclusive:!1,...L.normalizeParams(n)})}var vh=N("ZodDiscriminatedUnion",(i,n)=>{Nu.init(i,n),R$.init(i,n)});function tO(i,n,r){return new vh({type:"union",options:n,discriminator:i,...L.normalizeParams(r)})}var _h=N("ZodIntersection",(i,n)=>{d$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Jw(i,r,u,t)});function wh(i,n){return new _h({type:"intersection",left:i,right:n})}var hh=N("ZodTuple",(i,n)=>{ul.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>zw(i,r,u,t),i.rest=(r)=>i.clone({...i._zod.def,rest:r})});function bh(i,n,r){let u=n instanceof x,t=u?r:n;return new hh({type:"tuple",items:i,rest:u?n:null,...L.normalizeParams(t)})}var Eu=N("ZodRecord",(i,n)=>{Z$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>qw(i,r,u,t),i.keyType=n.keyType,i.valueType=n.valueType});function fh(i,n,r){return new Eu({type:"record",keyType:i,valueType:n,...L.normalizeParams(r)})}function rO(i,n,r){let u=mi(i);return u._zod.values=void 0,new Eu({type:"record",keyType:u,valueType:n,...L.normalizeParams(r)})}function uO(i,n,r){return new Eu({type:"record",keyType:i,valueType:n,mode:"loose",...L.normalizeParams(r)})}var Uh=N("ZodMap",(i,n)=>{a$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>jw(i,r,u,t),i.keyType=n.keyType,i.valueType=n.valueType,i.min=(...r)=>i.check(wn(...r)),i.nonempty=(r)=>i.check(wn(1,r)),i.max=(...r)=>i.check(dn(...r)),i.size=(...r)=>i.check(jt(...r))});function oO(i,n,r){return new Uh({type:"map",keyType:i,valueType:n,...L.normalizeParams(r)})}var Oh=N("ZodSet",(i,n)=>{p$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Dw(i,r,u,t),i.min=(...r)=>i.check(wn(...r)),i.nonempty=(r)=>i.check(wn(1,r)),i.max=(...r)=>i.check(dn(...r)),i.size=(...r)=>i.check(jt(...r))});function lO(i,n){return new Oh({type:"set",valueType:i,...L.normalizeParams(n)})}var _r=N("ZodEnum",(i,n)=>{s$.init(i,n),R.init(i,n),i._zod.processJSONSchema=(u,t,o)=>vw(i,u,t,o),i.enum=n.entries,i.options=Object.values(n.entries);let r=new Set(Object.keys(n.entries));i.extract=(u,t)=>{let o={};for(let l of u)if(r.has(l))o[l]=n.entries[l];else throw Error(`Key ${l} not found in enum`);return new _r({...n,checks:[],...L.normalizeParams(t),entries:o})},i.exclude=(u,t)=>{let o={...n.entries};for(let l of u)if(r.has(l))delete o[l];else throw Error(`Key ${l} not found in enum`);return new _r({...n,checks:[],...L.normalizeParams(t),entries:o})}});function eg(i,n){let r=Array.isArray(i)?Object.fromEntries(i.map((u)=>[u,u])):i;return new _r({type:"enum",entries:r,...L.normalizeParams(n)})}function gO(i,n){return new _r({type:"enum",entries:i,...L.normalizeParams(n)})}var Ih=N("ZodLiteral",(i,n)=>{iv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>_w(i,r,u,t),i.values=new Set(n.values),Object.defineProperty(i,"value",{get(){if(n.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function eO(i,n){return new Ih({type:"literal",values:Array.isArray(i)?i:[i],...L.normalizeParams(n)})}var jh=N("ZodFile",(i,n)=>{nv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>bw(i,r,u,t),i.min=(r,u)=>i.check(wn(r,u)),i.max=(r,u)=>i.check(dn(r,u)),i.mime=(r,u)=>i.check(tr(Array.isArray(r)?r:[r],u))});function cO(i){return P_(jh,i)}var Dh=N("ZodTransform",(i,n)=>{tv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Iw(i,r,u,t),i._zod.parse=(r,u)=>{if(u.direction==="backward")throw new ft(i.constructor.name);r.addIssue=(o)=>{if(typeof o==="string")r.issues.push(L.issue(o,r.value,n));else{let l=o;if(l.fatal)l.continue=!1;l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=i),r.issues.push(L.issue(l))}};let t=n.transform(r.value,r);if(t instanceof Promise)return t.then((o)=>{return r.value=o,r});return r.value=t,r}});function cg(i){return new Dh({type:"transform",transform:i})}var $g=N("ZodOptional",(i,n)=>{ol.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Yl(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function bu(i){return new $g({type:"optional",innerType:i})}var Nh=N("ZodExactOptional",(i,n)=>{rv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Yl(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function Eh(i){return new Nh({type:"optional",innerType:i})}var Jh=N("ZodNullable",(i,n)=>{uv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Hw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function fu(i){return new Jh({type:"nullable",innerType:i})}function $O(i){return bu(fu(i))}var zh=N("ZodDefault",(i,n)=>{ov.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Gw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType,i.removeDefault=i.unwrap});function qh(i,n){return new zh({type:"default",innerType:i,get defaultValue(){return typeof n==="function"?n():L.shallowClone(n)}})}var Hh=N("ZodPrefault",(i,n)=>{lv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Lw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function Wh(i,n){return new Hh({type:"prefault",innerType:i,get defaultValue(){return typeof n==="function"?n():L.shallowClone(n)}})}var vg=N("ZodNonOptional",(i,n)=>{gv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Ww(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function Gh(i,n){return new vg({type:"nonoptional",innerType:i,...L.normalizeParams(n)})}var Lh=N("ZodSuccess",(i,n)=>{ev.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>fw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function vO(i){return new Lh({type:"success",innerType:i})}var Xh=N("ZodCatch",(i,n)=>{cv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Xw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType,i.removeCatch=i.unwrap});function Sh(i,n){return new Xh({type:"catch",innerType:i,catchValue:typeof n==="function"?n:()=>n})}var mh=N("ZodNaN",(i,n)=>{$v.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>ww(i,r,u,t)});function _O(i){return F_(mh,i)}var _g=N("ZodPipe",(i,n)=>{vv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Sw(i,r,u,t),i.in=n.in,i.out=n.out});function Uu(i,n){return new _g({type:"pipe",in:i,out:n})}var wg=N("ZodCodec",(i,n)=>{_g.init(i,n),uu.init(i,n)});function wO(i,n,r){return new wg({type:"pipe",in:i,out:n,transform:r.decode,reverseTransform:r.encode})}var Yh=N("ZodReadonly",(i,n)=>{_v.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>mw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function Qh(i){return new Yh({type:"readonly",innerType:i})}var Bh=N("ZodTemplateLiteral",(i,n)=>{wv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>hw(i,r,u,t)});function hO(i,n){return new Bh({type:"template_literal",parts:i,...L.normalizeParams(n)})}var Ah=N("ZodLazy",(i,n)=>{fv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Qw(i,r,u,t),i.unwrap=()=>i._zod.def.getter()});function Vh(i){return new Ah({type:"lazy",getter:i})}var Kh=N("ZodPromise",(i,n)=>{bv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Yw(i,r,u,t),i.unwrap=()=>i._zod.def.innerType});function bO(i){return new Kh({type:"promise",innerType:i})}var yh=N("ZodFunction",(i,n)=>{hv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Ow(i,r,u,t)});function fO(i){return new yh({type:"function",input:Array.isArray(i?.input)?bh(i?.input):i?.input??ju(Et()),output:i?.output??Et()})}var Ju=N("ZodCustom",(i,n)=>{Uv.init(i,n),R.init(i,n),i._zod.processJSONSchema=(r,u,t)=>Uw(i,r,u,t)});function UO(i){let n=new li({check:"custom"});return n._zod.check=i,n}function OO(i,n){return x_(Ju,i??(()=>!0),n)}function Mh(i,n={}){return C_(Ju,i,n)}function kh(i){return R_(i)}var IO=d_,jO=Z_;function DO(i,n={}){let r=new Ju({type:"custom",check:"custom",fn:(u)=>u instanceof i,abort:!0,...L.normalizeParams(n)});return r._zod.bag.Class=i,r._zod.check=(u)=>{if(!(u.value instanceof i))u.issues.push({code:"invalid_type",expected:i.name,input:u.value,inst:r,path:[...r._zod.def.path??[]]})},r}var NO=(...i)=>a_({Codec:wg,Boolean:fr,String:wr},...i);function EO(i){let n=Vh(()=>{return gg([yl(i),sw(),ih(),uh(),ju(n),fh(yl(),n)])});return n}function JO(i,n){return Uu(cg(i),n)}var tG={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function rG(i){bi({customError:i})}function uG(){return bi().customError}var Fh;(function(i){})(Fh||(Fh={}));var A={..._u,...Ql,iso:vr},oG=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function lG(i,n){let r=i.$schema;if(r==="https://json-schema.org/draft/2020-12/schema")return"draft-2020-12";if(r==="http://json-schema.org/draft-07/schema#")return"draft-7";if(r==="http://json-schema.org/draft-04/schema#")return"draft-4";return n??"draft-2020-12"}function gG(i,n){if(!i.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let r=i.slice(1).split("/").filter(Boolean);if(r.length===0)return n.rootSchema;let u=n.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===u){let t=r[1];if(!t||!n.defs[t])throw Error(`Reference not found: ${i}`);return n.defs[t]}throw Error(`Reference not found: ${i}`)}function zO(i,n){if(i.not!==void 0){if(typeof i.not==="object"&&Object.keys(i.not).length===0)return A.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(i.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if(i.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if(i.if!==void 0||i.then!==void 0||i.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if(i.dependentSchemas!==void 0||i.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if(i.$ref){let t=i.$ref;if(n.refs.has(t))return n.refs.get(t);if(n.processing.has(t))return A.lazy(()=>{if(!n.refs.has(t))throw Error(`Circular reference not resolved: ${t}`);return n.refs.get(t)});n.processing.add(t);let o=gG(t,n),l=Wi(o,n);return n.refs.set(t,l),n.processing.delete(t),l}if(i.enum!==void 0){let t=i.enum;if(n.version==="openapi-3.0"&&i.nullable===!0&&t.length===1&&t[0]===null)return A.null();if(t.length===0)return A.never();if(t.length===1)return A.literal(t[0]);if(t.every((l)=>typeof l==="string"))return A.enum(t);let o=t.map((l)=>A.literal(l));if(o.length<2)return o[0];return A.union([o[0],o[1],...o.slice(2)])}if(i.const!==void 0)return A.literal(i.const);let r=i.type;if(Array.isArray(r)){let t=r.map((o)=>{let l={...i,type:o};return zO(l,n)});if(t.length===0)return A.never();if(t.length===1)return t[0];return A.union(t)}if(!r)return A.any();let u;switch(r){case"string":{let t=A.string();if(i.format){let o=i.format;if(o==="email")t=t.check(A.email());else if(o==="uri"||o==="uri-reference")t=t.check(A.url());else if(o==="uuid"||o==="guid")t=t.check(A.uuid());else if(o==="date-time")t=t.check(A.iso.datetime());else if(o==="date")t=t.check(A.iso.date());else if(o==="time")t=t.check(A.iso.time());else if(o==="duration")t=t.check(A.iso.duration());else if(o==="ipv4")t=t.check(A.ipv4());else if(o==="ipv6")t=t.check(A.ipv6());else if(o==="mac")t=t.check(A.mac());else if(o==="cidr")t=t.check(A.cidrv4());else if(o==="cidr-v6")t=t.check(A.cidrv6());else if(o==="base64")t=t.check(A.base64());else if(o==="base64url")t=t.check(A.base64url());else if(o==="e164")t=t.check(A.e164());else if(o==="jwt")t=t.check(A.jwt());else if(o==="emoji")t=t.check(A.emoji());else if(o==="nanoid")t=t.check(A.nanoid());else if(o==="cuid")t=t.check(A.cuid());else if(o==="cuid2")t=t.check(A.cuid2());else if(o==="ulid")t=t.check(A.ulid());else if(o==="xid")t=t.check(A.xid());else if(o==="ksuid")t=t.check(A.ksuid())}if(typeof i.minLength==="number")t=t.min(i.minLength);if(typeof i.maxLength==="number")t=t.max(i.maxLength);if(i.pattern)t=t.regex(new RegExp(i.pattern));u=t;break}case"number":case"integer":{let t=r==="integer"?A.number().int():A.number();if(typeof i.minimum==="number")t=t.min(i.minimum);if(typeof i.maximum==="number")t=t.max(i.maximum);if(typeof i.exclusiveMinimum==="number")t=t.gt(i.exclusiveMinimum);else if(i.exclusiveMinimum===!0&&typeof i.minimum==="number")t=t.gt(i.minimum);if(typeof i.exclusiveMaximum==="number")t=t.lt(i.exclusiveMaximum);else if(i.exclusiveMaximum===!0&&typeof i.maximum==="number")t=t.lt(i.maximum);if(typeof i.multipleOf==="number")t=t.multipleOf(i.multipleOf);u=t;break}case"boolean":{u=A.boolean();break}case"null":{u=A.null();break}case"object":{let t={},o=i.properties||{},l=new Set(i.required||[]);for(let[c,$]of Object.entries(o)){let v=Wi($,n);t[c]=l.has(c)?v:v.optional()}if(i.propertyNames){let c=Wi(i.propertyNames,n),$=i.additionalProperties&&typeof i.additionalProperties==="object"?Wi(i.additionalProperties,n):A.any();if(Object.keys(t).length===0){u=A.record(c,$);break}let v=A.object(t).passthrough(),_=A.looseRecord(c,$);u=A.intersection(v,_);break}if(i.patternProperties){let c=i.patternProperties,$=Object.keys(c),v=[];for(let w of $){let h=Wi(c[w],n),f=A.string().regex(new RegExp(w));v.push(A.looseRecord(f,h))}let _=[];if(Object.keys(t).length>0)_.push(A.object(t).passthrough());if(_.push(...v),_.length===0)u=A.object({}).passthrough();else if(_.length===1)u=_[0];else{let w=A.intersection(_[0],_[1]);for(let h=2;h<_.length;h++)w=A.intersection(w,_[h]);u=w}break}let e=A.object(t);if(i.additionalProperties===!1)u=e.strict();else if(typeof i.additionalProperties==="object")u=e.catchall(Wi(i.additionalProperties,n));else u=e.passthrough();break}case"array":{let{prefixItems:t,items:o}=i;if(t&&Array.isArray(t)){let l=t.map((c)=>Wi(c,n)),e=o&&typeof o==="object"&&!Array.isArray(o)?Wi(o,n):void 0;if(e)u=A.tuple(l).rest(e);else u=A.tuple(l);if(typeof i.minItems==="number")u=u.check(A.minLength(i.minItems));if(typeof i.maxItems==="number")u=u.check(A.maxLength(i.maxItems))}else if(Array.isArray(o)){let l=o.map((c)=>Wi(c,n)),e=i.additionalItems&&typeof i.additionalItems==="object"?Wi(i.additionalItems,n):void 0;if(e)u=A.tuple(l).rest(e);else u=A.tuple(l);if(typeof i.minItems==="number")u=u.check(A.minLength(i.minItems));if(typeof i.maxItems==="number")u=u.check(A.maxLength(i.maxItems))}else if(o!==void 0){let l=Wi(o,n),e=A.array(l);if(typeof i.minItems==="number")e=e.min(i.minItems);if(typeof i.maxItems==="number")e=e.max(i.maxItems);u=e}else u=A.array(A.any());break}default:throw Error(`Unsupported type: ${r}`)}if(i.description)u=u.describe(i.description);if(i.default!==void 0)u=u.default(i.default);return u}function Wi(i,n){if(typeof i==="boolean")return i?A.any():A.never();let r=zO(i,n),u=i.type||i.enum!==void 0||i.const!==void 0;if(i.anyOf&&Array.isArray(i.anyOf)){let e=i.anyOf.map(($)=>Wi($,n)),c=A.union(e);r=u?A.intersection(r,c):c}if(i.oneOf&&Array.isArray(i.oneOf)){let e=i.oneOf.map(($)=>Wi($,n)),c=A.xor(e);r=u?A.intersection(r,c):c}if(i.allOf&&Array.isArray(i.allOf))if(i.allOf.length===0)r=u?r:A.any();else{let e=u?r:Wi(i.allOf[0],n),c=u?0:1;for(let $=c;$<i.allOf.length;$++)e=A.intersection(e,Wi(i.allOf[$],n));r=e}if(i.nullable===!0&&n.version==="openapi-3.0")r=A.nullable(r);if(i.readOnly===!0)r=A.readonly(r);let t={},o=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let e of o)if(e in i)t[e]=i[e];let l=["contentEncoding","contentMediaType","contentSchema"];for(let e of l)if(e in i)t[e]=i[e];for(let e of Object.keys(i))if(!oG.has(e))t[e]=i[e];if(Object.keys(t).length>0)n.registry.add(r,t);return r}function qO(i,n){if(typeof i==="boolean")return i?A.any():A.never();let r=lG(i,n?.defaultTarget),u=i.$defs||i.definitions||{},t={version:r,defs:u,refs:new Map,processing:new Set,rootSchema:i,registry:n?.registry??zi};return Wi(i,t)}var Th={};ln(Th,{string:()=>eG,number:()=>cG,date:()=>_G,boolean:()=>$G,bigint:()=>vG});function eG(i){return h_(wr,i)}function cG(i){return N_(br,i)}function $G(i){return G_(fr,i)}function vG(i){return X_(Ur,i)}function _G(i){return k_(Iu,i)}bi(ou());var HO=g;var zt=HO;var p;(function(i){i.assertEqual=(t)=>{};function n(t){}i.assertIs=n;function r(t){throw Error()}i.assertNever=r,i.arrayToEnum=(t)=>{let o={};for(let l of t)o[l]=l;return o},i.getValidEnumValues=(t)=>{let o=i.objectKeys(t).filter((e)=>typeof t[t[e]]!=="number"),l={};for(let e of o)l[e]=t[e];return i.objectValues(l)},i.objectValues=(t)=>{return i.objectKeys(t).map(function(o){return t[o]})},i.objectKeys=typeof Object.keys==="function"?(t)=>Object.keys(t):(t)=>{let o=[];for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l))o.push(l);return o},i.find=(t,o)=>{for(let l of t)if(o(l))return l;return},i.isInteger=typeof Number.isInteger==="function"?(t)=>Number.isInteger(t):(t)=>typeof t==="number"&&Number.isFinite(t)&&Math.floor(t)===t;function u(t,o=" | "){return t.map((l)=>typeof l==="string"?`\'${l}\'`:l).join(o)}i.joinValues=u,i.jsonStringifyReplacer=(t,o)=>{if(typeof o==="bigint")return o.toString();return o}})(p||(p={}));var WO;(function(i){i.mergeShapes=(n,r)=>{return{...n,...r}}})(WO||(WO={}));var B=p.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gn=(i)=>{switch(typeof i){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(i)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":if(Array.isArray(i))return B.array;if(i===null)return B.null;if(i.then&&typeof i.then==="function"&&i.catch&&typeof i.catch==="function")return B.promise;if(typeof Map<"u"&&i instanceof Map)return B.map;if(typeof Set<"u"&&i instanceof Set)return B.set;if(typeof Date<"u"&&i instanceof Date)return B.date;return B.object;default:return B.unknown}};var W=p.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ti extends Error{get errors(){return this.issues}constructor(i){super();this.issues=[],this.addIssue=(r)=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,n);else this.__proto__=n;this.name="ZodError",this.issues=i}format(i){let n=i||function(t){return t.message},r={_errors:[]},u=(t)=>{for(let o of t.issues)if(o.code==="invalid_union")o.unionErrors.map(u);else if(o.code==="invalid_return_type")u(o.returnTypeError);else if(o.code==="invalid_arguments")u(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,e=0;while(e<o.path.length){let c=o.path[e];if(e!==o.path.length-1)l[c]=l[c]||{_errors:[]};else l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(o));l=l[c],e++}}};return u(this),r}static assert(i){if(!(i instanceof Ti))throw Error(`Not a ZodError: ${i}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,p.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=(n)=>n.message){let n=Object.create(null),r=[];for(let u of this.issues)if(u.path.length>0){let t=u.path[0];n[t]=n[t]||[],n[t].push(i(u))}else r.push(i(u));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ti.create=(i)=>{return new Ti(i)};var hG=(i,n)=>{let r;switch(i.code){case W.invalid_type:if(i.received===B.undefined)r="Required";else r=`Expected ${i.expected}, received ${i.received}`;break;case W.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,p.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:r=`Unrecognized key(s) in object: ${p.joinValues(i.keys,", ")}`;break;case W.invalid_union:r="Invalid input";break;case W.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${p.joinValues(i.options)}`;break;case W.invalid_enum_value:r=`Invalid enum value. Expected ${p.joinValues(i.options)}, received \'${i.received}\'`;break;case W.invalid_arguments:r="Invalid function arguments";break;case W.invalid_return_type:r="Invalid function return type";break;case W.invalid_date:r="Invalid date";break;case W.invalid_string:if(typeof i.validation==="object")if("includes"in i.validation){if(r=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position==="number")r=`${r} at one or more positions greater than or equal to ${i.validation.position}`}else if("startsWith"in i.validation)r=`Invalid input: must start with "${i.validation.startsWith}"`;else if("endsWith"in i.validation)r=`Invalid input: must end with "${i.validation.endsWith}"`;else p.assertNever(i.validation);else if(i.validation!=="regex")r=`Invalid ${i.validation}`;else r="Invalid";break;case W.too_small:if(i.type==="array")r=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`;else if(i.type==="string")r=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`;else if(i.type==="number")r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`;else if(i.type==="bigint")r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`;else if(i.type==="date")r=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`;else r="Invalid input";break;case W.too_big:if(i.type==="array")r=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`;else if(i.type==="string")r=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`;else if(i.type==="number")r=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`;else if(i.type==="bigint")r=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`;else if(i.type==="date")r=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`;else r="Invalid input";break;case W.custom:r="Invalid input";break;case W.invalid_intersection_types:r="Intersection results could not be merged";break;case W.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case W.not_finite:r="Number must be finite";break;default:r=n.defaultError,p.assertNever(i)}return{message:r}},sn=hG;var bG=sn;function zu(){return bG}var hg=(i)=>{let{data:n,path:r,errorMaps:u,issueData:t}=i,o=[...r,...t.path||[]],l={...t,path:o};if(t.message!==void 0)return{...t,path:o,message:t.message};let e="",c=u.filter(($)=>!!$).slice().reverse();for(let $ of c)e=$(l,{data:n,defaultError:e}).message;return{...t,path:o,message:e}};function V(i,n){let r=zu(),u=hg({issueData:n,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===sn?void 0:sn].filter((t)=>!!t)});i.common.issues.push(u)}class Gi{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(i,n){let r=[];for(let u of n){if(u.status==="aborted")return F;if(u.status==="dirty")i.dirty();r.push(u.value)}return{status:i.value,value:r}}static async mergeObjectAsync(i,n){let r=[];for(let u of n){let t=await u.key,o=await u.value;r.push({key:t,value:o})}return Gi.mergeObjectSync(i,r)}static mergeObjectSync(i,n){let r={};for(let u of n){let{key:t,value:o}=u;if(t.status==="aborted")return F;if(o.status==="aborted")return F;if(t.status==="dirty")i.dirty();if(o.status==="dirty")i.dirty();if(t.value!=="__proto__"&&(typeof o.value<"u"||u.alwaysSet))r[t.value]=o.value}return{status:i.value,value:r}}}var F=Object.freeze({status:"aborted"}),Or=(i)=>({status:"dirty",value:i}),Bi=(i)=>({status:"valid",value:i}),Ph=(i)=>i.status==="aborted",xh=(i)=>i.status==="dirty",qt=(i)=>i.status==="valid",qu=(i)=>typeof Promise<"u"&&i instanceof Promise;var y;(function(i){i.errToObj=(n)=>typeof n==="string"?{message:n}:n||{},i.toString=(n)=>typeof n==="string"?n:n?.message})(y||(y={}));class nn{constructor(i,n,r,u){this._cachedPath=[],this.parent=i,this.data=n,this._path=r,this._key=u}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var GO=(i,n)=>{if(qt(n))return{success:!0,data:n.value};else{if(!i.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ti(i.common.issues);return this._error=r,this._error}}}};function d(i){if(!i)return{};let{errorMap:n,invalid_type_error:r,required_error:u,description:t}=i;if(n&&(r||u))throw Error(`Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(n)return{errorMap:n,description:t};return{errorMap:(l,e)=>{let{message:c}=i;if(l.code==="invalid_enum_value")return{message:c??e.defaultError};if(typeof e.data>"u")return{message:c??u??e.defaultError};if(l.code!=="invalid_type")return{message:e.defaultError};return{message:c??r??e.defaultError}},description:t}}class a{get description(){return this._def.description}_getType(i){return Gn(i.data)}_getOrReturnCtx(i,n){return n||{common:i.parent.common,data:i.data,parsedType:Gn(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new Gi,ctx:{common:i.parent.common,data:i.data,parsedType:Gn(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){let n=this._parse(i);if(qu(n))throw Error("Synchronous parse encountered promise.");return n}_parseAsync(i){let n=this._parse(i);return Promise.resolve(n)}parse(i,n){let r=this.safeParse(i,n);if(r.success)return r.data;throw r.error}safeParse(i,n){let r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Gn(i)},u=this._parseSync({data:i,path:r.path,parent:r});return GO(r,u)}"~validate"(i){let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Gn(i)};if(!this["~standard"].async)try{let r=this._parseSync({data:i,path:[],parent:n});return qt(r)?{value:r.value}:{issues:n.common.issues}}catch(r){if(r?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;n.common={issues:[],async:!0}}return this._parseAsync({data:i,path:[],parent:n}).then((r)=>qt(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(i,n){let r=await this.safeParseAsync(i,n);if(r.success)return r.data;throw r.error}async safeParseAsync(i,n){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Gn(i)},u=this._parse({data:i,path:r.path,parent:r}),t=await(qu(u)?u:Promise.resolve(u));return GO(r,t)}refine(i,n){let r=(u)=>{if(typeof n==="string"||typeof n>"u")return{message:n};else if(typeof n==="function")return n(u);else return n};return this._refinement((u,t)=>{let o=i(u),l=()=>t.addIssue({code:W.custom,...r(u)});if(typeof Promise<"u"&&o instanceof Promise)return o.then((e)=>{if(!e)return l(),!1;else return!0});if(!o)return l(),!1;else return!0})}refinement(i,n){return this._refinement((r,u)=>{if(!i(r))return u.addIssue(typeof n==="function"?n(r,u):n),!1;else return!0})}_refinement(i){return new Un({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(n)=>this["~validate"](n)}}optional(){return fn.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this)}promise(){return Er.create(this,this._def)}or(i){return Xu.create([this,i],this._def)}and(i){return Su.create(this,i,this._def)}transform(i){return new Un({...d(this._def),schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:i}})}default(i){let n=typeof i==="function"?i:()=>i;return new Bu({...d(this._def),innerType:this,defaultValue:n,typeName:X.ZodDefault})}brand(){return new Zh({typeName:X.ZodBranded,type:this,...d(this._def)})}catch(i){let n=typeof i==="function"?i:()=>i;return new Au({...d(this._def),innerType:this,catchValue:n,typeName:X.ZodCatch})}describe(i){return new this.constructor({...this._def,description:i})}pipe(i){return Ng.create(this,i)}readonly(){return Vu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var fG=/^c[^\\s-]{8,}$/i,UG=/^[0-9a-z]+$/,OG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,IG=/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i,jG=/^[a-z0-9_-]{21}$/i,DG=/^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/,NG=/^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/,EG=/^(?!\\.)(?!.*\\.\\.)([A-Z0-9_\'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i,JG="^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$",Ch,zG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,HG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LO="((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))",XG=new RegExp(`^${LO}$`);function XO(i){let n="[0-5]\\\\d";if(i.precision)n=`${n}\\\\.\\\\d{${i.precision}}`;else if(i.precision==null)n=`${n}(\\\\.\\\\d+)?`;let r=i.precision?"+":"?";return`([01]\\\\d|2[0-3]):[0-5]\\\\d(:${n})${r}`}function SG(i){return new RegExp(`^${XO(i)}$`)}function mG(i){let n=`${LO}T${XO(i)}`,r=[];if(r.push(i.local?"Z?":"Z"),i.offset)r.push("([+-]\\\\d{2}:?\\\\d{2})");return n=`${n}(${r.join("|")})`,new RegExp(`^${n}$`)}function YG(i,n){if((n==="v4"||!n)&&zG.test(i))return!0;if((n==="v6"||!n)&&HG.test(i))return!0;return!1}function QG(i,n){if(!DG.test(i))return!1;try{let[r]=i.split(".");if(!r)return!1;let u=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),t=JSON.parse(atob(u));if(typeof t!=="object"||t===null)return!1;if("typ"in t&&t?.typ!=="JWT")return!1;if(!t.alg)return!1;if(n&&t.alg!==n)return!1;return!0}catch{return!1}}function BG(i,n){if((n==="v4"||!n)&&qG.test(i))return!0;if((n==="v6"||!n)&&WG.test(i))return!0;return!1}class Xn extends a{_parse(i){if(this._def.coerce)i.data=String(i.data);if(this._getType(i)!==B.string){let t=this._getOrReturnCtx(i);return V(t,{code:W.invalid_type,expected:B.string,received:t.parsedType}),F}let r=new Gi,u=void 0;for(let t of this._def.checks)if(t.kind==="min"){if(i.data.length<t.value)u=this._getOrReturnCtx(i,u),V(u,{code:W.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),r.dirty()}else if(t.kind==="max"){if(i.data.length>t.value)u=this._getOrReturnCtx(i,u),V(u,{code:W.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),r.dirty()}else if(t.kind==="length"){let o=i.data.length>t.value,l=i.data.length<t.value;if(o||l){if(u=this._getOrReturnCtx(i,u),o)V(u,{code:W.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message});else if(l)V(u,{code:W.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message});r.dirty()}}else if(t.kind==="email"){if(!EG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"email",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="emoji"){if(!Ch)Ch=new RegExp(JG,"u");if(!Ch.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"emoji",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="uuid"){if(!IG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"uuid",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="nanoid"){if(!jG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"nanoid",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="cuid"){if(!fG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"cuid",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="cuid2"){if(!UG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"cuid2",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="ulid"){if(!OG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"ulid",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="url")try{new URL(i.data)}catch{u=this._getOrReturnCtx(i,u),V(u,{validation:"url",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="regex"){if(t.regex.lastIndex=0,!t.regex.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"regex",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="trim")i.data=i.data.trim();else if(t.kind==="includes"){if(!i.data.includes(t.value,t.position))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),r.dirty()}else if(t.kind==="toLowerCase")i.data=i.data.toLowerCase();else if(t.kind==="toUpperCase")i.data=i.data.toUpperCase();else if(t.kind==="startsWith"){if(!i.data.startsWith(t.value))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:{startsWith:t.value},message:t.message}),r.dirty()}else if(t.kind==="endsWith"){if(!i.data.endsWith(t.value))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:{endsWith:t.value},message:t.message}),r.dirty()}else if(t.kind==="datetime"){if(!mG(t).test(i.data))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:"datetime",message:t.message}),r.dirty()}else if(t.kind==="date"){if(!XG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:"date",message:t.message}),r.dirty()}else if(t.kind==="time"){if(!SG(t).test(i.data))u=this._getOrReturnCtx(i,u),V(u,{code:W.invalid_string,validation:"time",message:t.message}),r.dirty()}else if(t.kind==="duration"){if(!NG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"duration",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="ip"){if(!YG(i.data,t.version))u=this._getOrReturnCtx(i,u),V(u,{validation:"ip",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="jwt"){if(!QG(i.data,t.alg))u=this._getOrReturnCtx(i,u),V(u,{validation:"jwt",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="cidr"){if(!BG(i.data,t.version))u=this._getOrReturnCtx(i,u),V(u,{validation:"cidr",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="base64"){if(!GG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"base64",code:W.invalid_string,message:t.message}),r.dirty()}else if(t.kind==="base64url"){if(!LG.test(i.data))u=this._getOrReturnCtx(i,u),V(u,{validation:"base64url",code:W.invalid_string,message:t.message}),r.dirty()}else p.assertNever(t);return{status:r.value,value:i.data}}_regex(i,n,r){return this.refinement((u)=>i.test(u),{validation:n,code:W.invalid_string,...y.errToObj(r)})}_addCheck(i){return new Xn({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...y.errToObj(i)})}url(i){return this._addCheck({kind:"url",...y.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...y.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...y.errToObj(i)})}nanoid(i){return this._addCheck({kind:"nanoid",...y.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...y.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...y.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...y.errToObj(i)})}base64(i){return this._addCheck({kind:"base64",...y.errToObj(i)})}base64url(i){return this._addCheck({kind:"base64url",...y.errToObj(i)})}jwt(i){return this._addCheck({kind:"jwt",...y.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...y.errToObj(i)})}cidr(i){return this._addCheck({kind:"cidr",...y.errToObj(i)})}datetime(i){if(typeof i==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:i});return this._addCheck({kind:"datetime",precision:typeof i?.precision>"u"?null:i?.precision,offset:i?.offset??!1,local:i?.local??!1,...y.errToObj(i?.message)})}date(i){return this._addCheck({kind:"date",message:i})}time(i){if(typeof i==="string")return this._addCheck({kind:"time",precision:null,message:i});return this._addCheck({kind:"time",precision:typeof i?.precision>"u"?null:i?.precision,...y.errToObj(i?.message)})}duration(i){return this._addCheck({kind:"duration",...y.errToObj(i)})}regex(i,n){return this._addCheck({kind:"regex",regex:i,...y.errToObj(n)})}includes(i,n){return this._addCheck({kind:"includes",value:i,position:n?.position,...y.errToObj(n?.message)})}startsWith(i,n){return this._addCheck({kind:"startsWith",value:i,...y.errToObj(n)})}endsWith(i,n){return this._addCheck({kind:"endsWith",value:i,...y.errToObj(n)})}min(i,n){return this._addCheck({kind:"min",value:i,...y.errToObj(n)})}max(i,n){return this._addCheck({kind:"max",value:i,...y.errToObj(n)})}length(i,n){return this._addCheck({kind:"length",value:i,...y.errToObj(n)})}nonempty(i){return this.min(1,y.errToObj(i))}trim(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((i)=>i.kind==="datetime")}get isDate(){return!!this._def.checks.find((i)=>i.kind==="date")}get isTime(){return!!this._def.checks.find((i)=>i.kind==="time")}get isDuration(){return!!this._def.checks.find((i)=>i.kind==="duration")}get isEmail(){return!!this._def.checks.find((i)=>i.kind==="email")}get isURL(){return!!this._def.checks.find((i)=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find((i)=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find((i)=>i.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((i)=>i.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((i)=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((i)=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find((i)=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find((i)=>i.kind==="ip")}get isCIDR(){return!!this._def.checks.find((i)=>i.kind==="cidr")}get isBase64(){return!!this._def.checks.find((i)=>i.kind==="base64")}get isBase64url(){return!!this._def.checks.find((i)=>i.kind==="base64url")}get minLength(){let i=null;for(let n of this._def.checks)if(n.kind==="min"){if(i===null||n.value>i)i=n.value}return i}get maxLength(){let i=null;for(let n of this._def.checks)if(n.kind==="max"){if(i===null||n.value<i)i=n.value}return i}}Xn.create=(i)=>{return new Xn({checks:[],typeName:X.ZodString,coerce:i?.coerce??!1,...d(i)})};function AG(i,n){let r=(i.toString().split(".")[1]||"").length,u=(n.toString().split(".")[1]||"").length,t=r>u?r:u,o=Number.parseInt(i.toFixed(t).replace(".","")),l=Number.parseInt(n.toFixed(t).replace(".",""));return o%l/10**t}class jr extends a{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce)i.data=Number(i.data);if(this._getType(i)!==B.number){let t=this._getOrReturnCtx(i);return V(t,{code:W.invalid_type,expected:B.number,received:t.parsedType}),F}let r=void 0,u=new Gi;for(let t of this._def.checks)if(t.kind==="int"){if(!p.isInteger(i.data))r=this._getOrReturnCtx(i,r),V(r,{code:W.invalid_type,expected:"integer",received:"float",message:t.message}),u.dirty()}else if(t.kind==="min"){if(t.inclusive?i.data<t.value:i.data<=t.value)r=this._getOrReturnCtx(i,r),V(r,{code:W.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()}else if(t.kind==="max"){if(t.inclusive?i.data>t.value:i.data>=t.value)r=this._getOrReturnCtx(i,r),V(r,{code:W.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()}else if(t.kind==="multipleOf"){if(AG(i.data,t.value)!==0)r=this._getOrReturnCtx(i,r),V(r,{code:W.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()}else if(t.kind==="finite"){if(!Number.isFinite(i.data))r=this._getOrReturnCtx(i,r),V(r,{code:W.not_finite,message:t.message}),u.dirty()}else p.assertNever(t);return{status:u.value,value:i.data}}gte(i,n){return this.setLimit("min",i,!0,y.toString(n))}gt(i,n){return this.setLimit("min",i,!1,y.toString(n))}lte(i,n){return this.setLimit("max",i,!0,y.toString(n))}lt(i,n){return this.setLimit("max",i,!1,y.toString(n))}setLimit(i,n,r,u){return new jr({...this._def,checks:[...this._def.checks,{kind:i,value:n,inclusive:r,message:y.toString(u)}]})}_addCheck(i){return new jr({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:y.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(i)})}multipleOf(i,n){return this._addCheck({kind:"multipleOf",value:i,message:y.toString(n)})}finite(i){return this._addCheck({kind:"finite",message:y.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(i)})}get minValue(){let i=null;for(let n of this._def.checks)if(n.kind==="min"){if(i===null||n.value>i)i=n.value}return i}get maxValue(){let i=null;for(let n of this._def.checks)if(n.kind==="max"){if(i===null||n.value<i)i=n.value}return i}get isInt(){return!!this._def.checks.find((i)=>i.kind==="int"||i.kind==="multipleOf"&&p.isInteger(i.value))}get isFinite(){let i=null,n=null;for(let r of this._def.checks)if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;else if(r.kind==="min"){if(n===null||r.value>n)n=r.value}else if(r.kind==="max"){if(i===null||r.value<i)i=r.value}return Number.isFinite(n)&&Number.isFinite(i)}}jr.create=(i)=>{return new jr({checks:[],typeName:X.ZodNumber,coerce:i?.coerce||!1,...d(i)})};class Dr extends a{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce)try{i.data=BigInt(i.data)}catch{return this._getInvalidInput(i)}if(this._getType(i)!==B.bigint)return this._getInvalidInput(i);let r=void 0,u=new Gi;for(let t of this._def.checks)if(t.kind==="min"){if(t.inclusive?i.data<t.value:i.data<=t.value)r=this._getOrReturnCtx(i,r),V(r,{code:W.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()}else if(t.kind==="max"){if(t.inclusive?i.data>t.value:i.data>=t.value)r=this._getOrReturnCtx(i,r),V(r,{code:W.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()}else if(t.kind==="multipleOf"){if(i.data%t.value!==BigInt(0))r=this._getOrReturnCtx(i,r),V(r,{code:W.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()}else p.assertNever(t);return{status:u.value,value:i.data}}_getInvalidInput(i){let n=this._getOrReturnCtx(i);return V(n,{code:W.invalid_type,expected:B.bigint,received:n.parsedType}),F}gte(i,n){return this.setLimit("min",i,!0,y.toString(n))}gt(i,n){return this.setLimit("min",i,!1,y.toString(n))}lte(i,n){return this.setLimit("max",i,!0,y.toString(n))}lt(i,n){return this.setLimit("max",i,!1,y.toString(n))}setLimit(i,n,r,u){return new Dr({...this._def,checks:[...this._def.checks,{kind:i,value:n,inclusive:r,message:y.toString(u)}]})}_addCheck(i){return new Dr({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(i)})}multipleOf(i,n){return this._addCheck({kind:"multipleOf",value:i,message:y.toString(n)})}get minValue(){let i=null;for(let n of this._def.checks)if(n.kind==="min"){if(i===null||n.value>i)i=n.value}return i}get maxValue(){let i=null;for(let n of this._def.checks)if(n.kind==="max"){if(i===null||n.value<i)i=n.value}return i}}Dr.create=(i)=>{return new Dr({checks:[],typeName:X.ZodBigInt,coerce:i?.coerce??!1,...d(i)})};class bg extends a{_parse(i){if(this._def.coerce)i.data=Boolean(i.data);if(this._getType(i)!==B.boolean){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.boolean,received:r.parsedType}),F}return Bi(i.data)}}bg.create=(i)=>{return new bg({typeName:X.ZodBoolean,coerce:i?.coerce||!1,...d(i)})};class Wu extends a{_parse(i){if(this._def.coerce)i.data=new Date(i.data);if(this._getType(i)!==B.date){let t=this._getOrReturnCtx(i);return V(t,{code:W.invalid_type,expected:B.date,received:t.parsedType}),F}if(Number.isNaN(i.data.getTime())){let t=this._getOrReturnCtx(i);return V(t,{code:W.invalid_date}),F}let r=new Gi,u=void 0;for(let t of this._def.checks)if(t.kind==="min"){if(i.data.getTime()<t.value)u=this._getOrReturnCtx(i,u),V(u,{code:W.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:"date"}),r.dirty()}else if(t.kind==="max"){if(i.data.getTime()>t.value)u=this._getOrReturnCtx(i,u),V(u,{code:W.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:"date"}),r.dirty()}else p.assertNever(t);return{status:r.value,value:new Date(i.data.getTime())}}_addCheck(i){return new Wu({...this._def,checks:[...this._def.checks,i]})}min(i,n){return this._addCheck({kind:"min",value:i.getTime(),message:y.toString(n)})}max(i,n){return this._addCheck({kind:"max",value:i.getTime(),message:y.toString(n)})}get minDate(){let i=null;for(let n of this._def.checks)if(n.kind==="min"){if(i===null||n.value>i)i=n.value}return i!=null?new Date(i):null}get maxDate(){let i=null;for(let n of this._def.checks)if(n.kind==="max"){if(i===null||n.value<i)i=n.value}return i!=null?new Date(i):null}}Wu.create=(i)=>{return new Wu({checks:[],coerce:i?.coerce||!1,typeName:X.ZodDate,...d(i)})};class fg extends a{_parse(i){if(this._getType(i)!==B.symbol){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.symbol,received:r.parsedType}),F}return Bi(i.data)}}fg.create=(i)=>{return new fg({typeName:X.ZodSymbol,...d(i)})};class Gu extends a{_parse(i){if(this._getType(i)!==B.undefined){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.undefined,received:r.parsedType}),F}return Bi(i.data)}}Gu.create=(i)=>{return new Gu({typeName:X.ZodUndefined,...d(i)})};class Lu extends a{_parse(i){if(this._getType(i)!==B.null){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.null,received:r.parsedType}),F}return Bi(i.data)}}Lu.create=(i)=>{return new Lu({typeName:X.ZodNull,...d(i)})};class Ug extends a{constructor(){super(...arguments);this._any=!0}_parse(i){return Bi(i.data)}}Ug.create=(i)=>{return new Ug({typeName:X.ZodAny,...d(i)})};class Ht extends a{constructor(){super(...arguments);this._unknown=!0}_parse(i){return Bi(i.data)}}Ht.create=(i)=>{return new Ht({typeName:X.ZodUnknown,...d(i)})};class Sn extends a{_parse(i){let n=this._getOrReturnCtx(i);return V(n,{code:W.invalid_type,expected:B.never,received:n.parsedType}),F}}Sn.create=(i)=>{return new Sn({typeName:X.ZodNever,...d(i)})};class Og extends a{_parse(i){if(this._getType(i)!==B.undefined){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.void,received:r.parsedType}),F}return Bi(i.data)}}Og.create=(i)=>{return new Og({typeName:X.ZodVoid,...d(i)})};class bn extends a{_parse(i){let{ctx:n,status:r}=this._processInputParams(i),u=this._def;if(n.parsedType!==B.array)return V(n,{code:W.invalid_type,expected:B.array,received:n.parsedType}),F;if(u.exactLength!==null){let o=n.data.length>u.exactLength.value,l=n.data.length<u.exactLength.value;if(o||l)V(n,{code:o?W.too_big:W.too_small,minimum:l?u.exactLength.value:void 0,maximum:o?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),r.dirty()}if(u.minLength!==null){if(n.data.length<u.minLength.value)V(n,{code:W.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),r.dirty()}if(u.maxLength!==null){if(n.data.length>u.maxLength.value)V(n,{code:W.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),r.dirty()}if(n.common.async)return Promise.all([...n.data].map((o,l)=>{return u.type._parseAsync(new nn(n,o,n.path,l))})).then((o)=>{return Gi.mergeArray(r,o)});let t=[...n.data].map((o,l)=>{return u.type._parseSync(new nn(n,o,n.path,l))});return Gi.mergeArray(r,t)}get element(){return this._def.type}min(i,n){return new bn({...this._def,minLength:{value:i,message:y.toString(n)}})}max(i,n){return new bn({...this._def,maxLength:{value:i,message:y.toString(n)}})}length(i,n){return new bn({...this._def,exactLength:{value:i,message:y.toString(n)}})}nonempty(i){return this.min(1,i)}}bn.create=(i,n)=>{return new bn({type:i,minLength:null,maxLength:null,exactLength:null,typeName:X.ZodArray,...d(n)})};function Ir(i){if(i instanceof $i){let n={};for(let r in i.shape){let u=i.shape[r];n[r]=fn.create(Ir(u))}return new $i({...i._def,shape:()=>n})}else if(i instanceof bn)return new bn({...i._def,type:Ir(i.element)});else if(i instanceof fn)return fn.create(Ir(i.unwrap()));else if(i instanceof it)return it.create(Ir(i.unwrap()));else if(i instanceof mn)return mn.create(i.items.map((n)=>Ir(n)));else return i}class $i extends a{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let i=this._def.shape(),n=p.objectKeys(i);return this._cached={shape:i,keys:n},this._cached}_parse(i){if(this._getType(i)!==B.object){let c=this._getOrReturnCtx(i);return V(c,{code:W.invalid_type,expected:B.object,received:c.parsedType}),F}let{status:r,ctx:u}=this._processInputParams(i),{shape:t,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Sn&&this._def.unknownKeys==="strip")){for(let c in u.data)if(!o.includes(c))l.push(c)}let e=[];for(let c of o){let $=t[c],v=u.data[c];e.push({key:{status:"valid",value:c},value:$._parse(new nn(u,v,u.path,c)),alwaysSet:c in u.data})}if(this._def.catchall instanceof Sn){let c=this._def.unknownKeys;if(c==="passthrough")for(let $ of l)e.push({key:{status:"valid",value:$},value:{status:"valid",value:u.data[$]}});else if(c==="strict"){if(l.length>0)V(u,{code:W.unrecognized_keys,keys:l}),r.dirty()}else if(c==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let $ of l){let v=u.data[$];e.push({key:{status:"valid",value:$},value:c._parse(new nn(u,v,u.path,$)),alwaysSet:$ in u.data})}}if(u.common.async)return Promise.resolve().then(async()=>{let c=[];for(let $ of e){let v=await $.key,_=await $.value;c.push({key:v,value:_,alwaysSet:$.alwaysSet})}return c}).then((c)=>{return Gi.mergeObjectSync(r,c)});else return Gi.mergeObjectSync(r,e)}get shape(){return this._def.shape()}strict(i){return y.errToObj,new $i({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(n,r)=>{let u=this._def.errorMap?.(n,r).message??r.defaultError;if(n.code==="unrecognized_keys")return{message:y.errToObj(i).message??u};return{message:u}}}:{}})}strip(){return new $i({...this._def,unknownKeys:"strip"})}passthrough(){return new $i({...this._def,unknownKeys:"passthrough"})}extend(i){return new $i({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new $i({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:X.ZodObject})}setKey(i,n){return this.augment({[i]:n})}catchall(i){return new $i({...this._def,catchall:i})}pick(i){let n={};for(let r of p.objectKeys(i))if(i[r]&&this.shape[r])n[r]=this.shape[r];return new $i({...this._def,shape:()=>n})}omit(i){let n={};for(let r of p.objectKeys(this.shape))if(!i[r])n[r]=this.shape[r];return new $i({...this._def,shape:()=>n})}deepPartial(){return Ir(this)}partial(i){let n={};for(let r of p.objectKeys(this.shape)){let u=this.shape[r];if(i&&!i[r])n[r]=u;else n[r]=u.optional()}return new $i({...this._def,shape:()=>n})}required(i){let n={};for(let r of p.objectKeys(this.shape))if(i&&!i[r])n[r]=this.shape[r];else{let t=this.shape[r];while(t instanceof fn)t=t._def.innerType;n[r]=t}return new $i({...this._def,shape:()=>n})}keyof(){return SO(p.objectKeys(this.shape))}}$i.create=(i,n)=>{return new $i({shape:()=>i,unknownKeys:"strip",catchall:Sn.create(),typeName:X.ZodObject,...d(n)})};$i.strictCreate=(i,n)=>{return new $i({shape:()=>i,unknownKeys:"strict",catchall:Sn.create(),typeName:X.ZodObject,...d(n)})};$i.lazycreate=(i,n)=>{return new $i({shape:i,unknownKeys:"strip",catchall:Sn.create(),typeName:X.ZodObject,...d(n)})};class Xu extends a{_parse(i){let{ctx:n}=this._processInputParams(i),r=this._def.options;function u(t){for(let l of t)if(l.result.status==="valid")return l.result;for(let l of t)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;let o=t.map((l)=>new Ti(l.ctx.common.issues));return V(n,{code:W.invalid_union,unionErrors:o}),F}if(n.common.async)return Promise.all(r.map(async(t)=>{let o={...n,common:{...n.common,issues:[]},parent:null};return{result:await t._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(u);else{let t=void 0,o=[];for(let e of r){let c={...n,common:{...n.common,issues:[]},parent:null},$=e._parseSync({data:n.data,path:n.path,parent:c});if($.status==="valid")return $;else if($.status==="dirty"&&!t)t={result:$,ctx:c};if(c.common.issues.length)o.push(c.common.issues)}if(t)return n.common.issues.push(...t.ctx.common.issues),t.result;let l=o.map((e)=>new Ti(e));return V(n,{code:W.invalid_union,unionErrors:l}),F}}get options(){return this._def.options}}Xu.create=(i,n)=>{return new Xu({options:i,typeName:X.ZodUnion,...d(n)})};var Ln=(i)=>{if(i instanceof mu)return Ln(i.schema);else if(i instanceof Un)return Ln(i.innerType());else if(i instanceof Yu)return[i.value];else if(i instanceof Wt)return i.options;else if(i instanceof Qu)return p.objectValues(i.enum);else if(i instanceof Bu)return Ln(i._def.innerType);else if(i instanceof Gu)return[void 0];else if(i instanceof Lu)return[null];else if(i instanceof fn)return[void 0,...Ln(i.unwrap())];else if(i instanceof it)return[null,...Ln(i.unwrap())];else if(i instanceof Zh)return Ln(i.unwrap());else if(i instanceof Vu)return Ln(i.unwrap());else if(i instanceof Au)return Ln(i._def.innerType);else return[]};class dh extends a{_parse(i){let{ctx:n}=this._processInputParams(i);if(n.parsedType!==B.object)return V(n,{code:W.invalid_type,expected:B.object,received:n.parsedType}),F;let r=this.discriminator,u=n.data[r],t=this.optionsMap.get(u);if(!t)return V(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),F;if(n.common.async)return t._parseAsync({data:n.data,path:n.path,parent:n});else return t._parseSync({data:n.data,path:n.path,parent:n})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,n,r){let u=new Map;for(let t of n){let o=Ln(t.shape[i]);if(!o.length)throw Error(`A discriminator value for key \\`${i}\\` could not be extracted from all schema options`);for(let l of o){if(u.has(l))throw Error(`Discriminator property ${String(i)} has duplicate value ${String(l)}`);u.set(l,t)}}return new dh({typeName:X.ZodDiscriminatedUnion,discriminator:i,options:n,optionsMap:u,...d(r)})}}function Rh(i,n){let r=Gn(i),u=Gn(n);if(i===n)return{valid:!0,data:i};else if(r===B.object&&u===B.object){let t=p.objectKeys(n),o=p.objectKeys(i).filter((e)=>t.indexOf(e)!==-1),l={...i,...n};for(let e of o){let c=Rh(i[e],n[e]);if(!c.valid)return{valid:!1};l[e]=c.data}return{valid:!0,data:l}}else if(r===B.array&&u===B.array){if(i.length!==n.length)return{valid:!1};let t=[];for(let o=0;o<i.length;o++){let l=i[o],e=n[o],c=Rh(l,e);if(!c.valid)return{valid:!1};t.push(c.data)}return{valid:!0,data:t}}else if(r===B.date&&u===B.date&&+i===+n)return{valid:!0,data:i};else return{valid:!1}}class Su extends a{_parse(i){let{status:n,ctx:r}=this._processInputParams(i),u=(t,o)=>{if(Ph(t)||Ph(o))return F;let l=Rh(t.value,o.value);if(!l.valid)return V(r,{code:W.invalid_intersection_types}),F;if(xh(t)||xh(o))n.dirty();return{status:n.value,value:l.data}};if(r.common.async)return Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([t,o])=>u(t,o));else return u(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Su.create=(i,n,r)=>{return new Su({left:i,right:n,typeName:X.ZodIntersection,...d(r)})};class mn extends a{_parse(i){let{status:n,ctx:r}=this._processInputParams(i);if(r.parsedType!==B.array)return V(r,{code:W.invalid_type,expected:B.array,received:r.parsedType}),F;if(r.data.length<this._def.items.length)return V(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),F;if(!this._def.rest&&r.data.length>this._def.items.length)V(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty();let t=[...r.data].map((o,l)=>{let e=this._def.items[l]||this._def.rest;if(!e)return null;return e._parse(new nn(r,o,r.path,l))}).filter((o)=>!!o);if(r.common.async)return Promise.all(t).then((o)=>{return Gi.mergeArray(n,o)});else return Gi.mergeArray(n,t)}get items(){return this._def.items}rest(i){return new mn({...this._def,rest:i})}}mn.create=(i,n)=>{if(!Array.isArray(i))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new mn({items:i,typeName:X.ZodTuple,rest:null,...d(n)})};class Ig extends a{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){let{status:n,ctx:r}=this._processInputParams(i);if(r.parsedType!==B.object)return V(r,{code:W.invalid_type,expected:B.object,received:r.parsedType}),F;let u=[],t=this._def.keyType,o=this._def.valueType;for(let l in r.data)u.push({key:t._parse(new nn(r,l,r.path,l)),value:o._parse(new nn(r,r.data[l],r.path,l)),alwaysSet:l in r.data});if(r.common.async)return Gi.mergeObjectAsync(n,u);else return Gi.mergeObjectSync(n,u)}get element(){return this._def.valueType}static create(i,n,r){if(n instanceof a)return new Ig({keyType:i,valueType:n,typeName:X.ZodRecord,...d(r)});return new Ig({keyType:Xn.create(),valueType:i,typeName:X.ZodRecord,...d(n)})}}class jg extends a{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){let{status:n,ctx:r}=this._processInputParams(i);if(r.parsedType!==B.map)return V(r,{code:W.invalid_type,expected:B.map,received:r.parsedType}),F;let u=this._def.keyType,t=this._def.valueType,o=[...r.data.entries()].map(([l,e],c)=>{return{key:u._parse(new nn(r,l,r.path,[c,"key"])),value:t._parse(new nn(r,e,r.path,[c,"value"]))}});if(r.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let e of o){let c=await e.key,$=await e.value;if(c.status==="aborted"||$.status==="aborted")return F;if(c.status==="dirty"||$.status==="dirty")n.dirty();l.set(c.value,$.value)}return{status:n.value,value:l}})}else{let l=new Map;for(let e of o){let{key:c,value:$}=e;if(c.status==="aborted"||$.status==="aborted")return F;if(c.status==="dirty"||$.status==="dirty")n.dirty();l.set(c.value,$.value)}return{status:n.value,value:l}}}}jg.create=(i,n,r)=>{return new jg({valueType:n,keyType:i,typeName:X.ZodMap,...d(r)})};class Nr extends a{_parse(i){let{status:n,ctx:r}=this._processInputParams(i);if(r.parsedType!==B.set)return V(r,{code:W.invalid_type,expected:B.set,received:r.parsedType}),F;let u=this._def;if(u.minSize!==null){if(r.data.size<u.minSize.value)V(r,{code:W.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),n.dirty()}if(u.maxSize!==null){if(r.data.size>u.maxSize.value)V(r,{code:W.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),n.dirty()}let t=this._def.valueType;function o(e){let c=new Set;for(let $ of e){if($.status==="aborted")return F;if($.status==="dirty")n.dirty();c.add($.value)}return{status:n.value,value:c}}let l=[...r.data.values()].map((e,c)=>t._parse(new nn(r,e,r.path,c)));if(r.common.async)return Promise.all(l).then((e)=>o(e));else return o(l)}min(i,n){return new Nr({...this._def,minSize:{value:i,message:y.toString(n)}})}max(i,n){return new Nr({...this._def,maxSize:{value:i,message:y.toString(n)}})}size(i,n){return this.min(i,n).max(i,n)}nonempty(i){return this.min(1,i)}}Nr.create=(i,n)=>{return new Nr({valueType:i,minSize:null,maxSize:null,typeName:X.ZodSet,...d(n)})};class Hu extends a{constructor(){super(...arguments);this.validate=this.implement}_parse(i){let{ctx:n}=this._processInputParams(i);if(n.parsedType!==B.function)return V(n,{code:W.invalid_type,expected:B.function,received:n.parsedType}),F;function r(l,e){return hg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zu(),sn].filter((c)=>!!c),issueData:{code:W.invalid_arguments,argumentsError:e}})}function u(l,e){return hg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zu(),sn].filter((c)=>!!c),issueData:{code:W.invalid_return_type,returnTypeError:e}})}let t={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Er){let l=this;return Bi(async function(...e){let c=new Ti([]),$=await l._def.args.parseAsync(e,t).catch((w)=>{throw c.addIssue(r(e,w)),c}),v=await Reflect.apply(o,this,$);return await l._def.returns._def.type.parseAsync(v,t).catch((w)=>{throw c.addIssue(u(v,w)),c})})}else{let l=this;return Bi(function(...e){let c=l._def.args.safeParse(e,t);if(!c.success)throw new Ti([r(e,c.error)]);let $=Reflect.apply(o,this,c.data),v=l._def.returns.safeParse($,t);if(!v.success)throw new Ti([u($,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new Hu({...this._def,args:mn.create(i).rest(Ht.create())})}returns(i){return new Hu({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,n,r){return new Hu({args:i?i:mn.create([]).rest(Ht.create()),returns:n||Ht.create(),typeName:X.ZodFunction,...d(r)})}}class mu extends a{get schema(){return this._def.getter()}_parse(i){let{ctx:n}=this._processInputParams(i);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mu.create=(i,n)=>{return new mu({getter:i,typeName:X.ZodLazy,...d(n)})};class Yu extends a{_parse(i){if(i.data!==this._def.value){let n=this._getOrReturnCtx(i);return V(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),F}return{status:"valid",value:i.data}}get value(){return this._def.value}}Yu.create=(i,n)=>{return new Yu({value:i,typeName:X.ZodLiteral,...d(n)})};function SO(i,n){return new Wt({values:i,typeName:X.ZodEnum,...d(n)})}class Wt extends a{_parse(i){if(typeof i.data!=="string"){let n=this._getOrReturnCtx(i),r=this._def.values;return V(n,{expected:p.joinValues(r),received:n.parsedType,code:W.invalid_type}),F}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(i.data)){let n=this._getOrReturnCtx(i),r=this._def.values;return V(n,{received:n.data,code:W.invalid_enum_value,options:r}),F}return Bi(i.data)}get options(){return this._def.values}get enum(){let i={};for(let n of this._def.values)i[n]=n;return i}get Values(){let i={};for(let n of this._def.values)i[n]=n;return i}get Enum(){let i={};for(let n of this._def.values)i[n]=n;return i}extract(i,n=this._def){return Wt.create(i,{...this._def,...n})}exclude(i,n=this._def){return Wt.create(this.options.filter((r)=>!i.includes(r)),{...this._def,...n})}}Wt.create=SO;class Qu extends a{_parse(i){let n=p.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(i);if(r.parsedType!==B.string&&r.parsedType!==B.number){let u=p.objectValues(n);return V(r,{expected:p.joinValues(u),received:r.parsedType,code:W.invalid_type}),F}if(!this._cache)this._cache=new Set(p.getValidEnumValues(this._def.values));if(!this._cache.has(i.data)){let u=p.objectValues(n);return V(r,{received:r.data,code:W.invalid_enum_value,options:u}),F}return Bi(i.data)}get enum(){return this._def.values}}Qu.create=(i,n)=>{return new Qu({values:i,typeName:X.ZodNativeEnum,...d(n)})};class Er extends a{unwrap(){return this._def.type}_parse(i){let{ctx:n}=this._processInputParams(i);if(n.parsedType!==B.promise&&n.common.async===!1)return V(n,{code:W.invalid_type,expected:B.promise,received:n.parsedType}),F;let r=n.parsedType===B.promise?n.data:Promise.resolve(n.data);return Bi(r.then((u)=>{return this._def.type.parseAsync(u,{path:n.path,errorMap:n.common.contextualErrorMap})}))}}Er.create=(i,n)=>{return new Er({type:i,typeName:X.ZodPromise,...d(n)})};class Un extends a{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){let{status:n,ctx:r}=this._processInputParams(i),u=this._def.effect||null,t={addIssue:(o)=>{if(V(r,o),o.fatal)n.abort();else n.dirty()},get path(){return r.path}};if(t.addIssue=t.addIssue.bind(t),u.type==="preprocess"){let o=u.transform(r.data,t);if(r.common.async)return Promise.resolve(o).then(async(l)=>{if(n.value==="aborted")return F;let e=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});if(e.status==="aborted")return F;if(e.status==="dirty")return Or(e.value);if(n.value==="dirty")return Or(e.value);return e});else{if(n.value==="aborted")return F;let l=this._def.schema._parseSync({data:o,path:r.path,parent:r});if(l.status==="aborted")return F;if(l.status==="dirty")return Or(l.value);if(n.value==="dirty")return Or(l.value);return l}}if(u.type==="refinement"){let o=(l)=>{let e=u.refinement(l,t);if(r.common.async)return Promise.resolve(e);if(e instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(l.status==="aborted")return F;if(l.status==="dirty")n.dirty();return o(l.value),{status:n.value,value:l.value}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((l)=>{if(l.status==="aborted")return F;if(l.status==="dirty")n.dirty();return o(l.value).then(()=>{return{status:n.value,value:l.value}})})}if(u.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qt(o))return F;let l=u.transform(o.value,t);if(l instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((o)=>{if(!qt(o))return F;return Promise.resolve(u.transform(o.value,t)).then((l)=>({status:n.value,value:l}))});p.assertNever(u)}}Un.create=(i,n,r)=>{return new Un({schema:i,typeName:X.ZodEffects,effect:n,...d(r)})};Un.createWithPreprocess=(i,n,r)=>{return new Un({schema:n,effect:{type:"preprocess",transform:i},typeName:X.ZodEffects,...d(r)})};class fn extends a{_parse(i){if(this._getType(i)===B.undefined)return Bi(void 0);return this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}fn.create=(i,n)=>{return new fn({innerType:i,typeName:X.ZodOptional,...d(n)})};class it extends a{_parse(i){if(this._getType(i)===B.null)return Bi(null);return this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}it.create=(i,n)=>{return new it({innerType:i,typeName:X.ZodNullable,...d(n)})};class Bu extends a{_parse(i){let{ctx:n}=this._processInputParams(i),r=n.data;if(n.parsedType===B.undefined)r=this._def.defaultValue();return this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bu.create=(i,n)=>{return new Bu({innerType:i,typeName:X.ZodDefault,defaultValue:typeof n.default==="function"?n.default:()=>n.default,...d(n)})};class Au extends a{_parse(i){let{ctx:n}=this._processInputParams(i),r={...n,common:{...n.common,issues:[]}},u=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});if(qu(u))return u.then((t)=>{return{status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})}});else return{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ti(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Au.create=(i,n)=>{return new Au({innerType:i,typeName:X.ZodCatch,catchValue:typeof n.catch==="function"?n.catch:()=>n.catch,...d(n)})};class Dg extends a{_parse(i){if(this._getType(i)!==B.nan){let r=this._getOrReturnCtx(i);return V(r,{code:W.invalid_type,expected:B.nan,received:r.parsedType}),F}return{status:"valid",value:i.data}}}Dg.create=(i)=>{return new Dg({typeName:X.ZodNaN,...d(i)})};var My=Symbol("zod_brand");class Zh extends a{_parse(i){let{ctx:n}=this._processInputParams(i),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ng extends a{_parse(i){let{status:n,ctx:r}=this._processInputParams(i);if(r.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});if(t.status==="aborted")return F;if(t.status==="dirty")return n.dirty(),Or(t.value);else return this._def.out._parseAsync({data:t.value,path:r.path,parent:r})})();else{let u=this._def.in._parseSync({data:r.data,path:r.path,parent:r});if(u.status==="aborted")return F;if(u.status==="dirty")return n.dirty(),{status:"dirty",value:u.value};else return this._def.out._parseSync({data:u.value,path:r.path,parent:r})}}static create(i,n){return new Ng({in:i,out:n,typeName:X.ZodPipeline})}}class Vu extends a{_parse(i){let n=this._def.innerType._parse(i),r=(u)=>{if(qt(u))u.value=Object.freeze(u.value);return u};return qu(n)?n.then((u)=>r(u)):r(n)}unwrap(){return this._def.innerType}}Vu.create=(i,n)=>{return new Vu({innerType:i,typeName:X.ZodReadonly,...d(n)})};var ky={object:$i.lazycreate},X;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(X||(X={}));var Fy=Xn.create,Ty=jr.create,Py=Dg.create,xy=Dr.create,Cy=bg.create,Ry=Wu.create,dy=fg.create,Zy=Gu.create,ay=Lu.create,py=Ug.create,sy=Ht.create,i2=Sn.create,n2=Og.create,t2=bn.create,r2=$i.create,u2=$i.strictCreate,o2=Xu.create,l2=dh.create,g2=Su.create,e2=mn.create,c2=Ig.create,$2=jg.create,v2=Nr.create,_2=Hu.create,w2=mu.create,h2=Yu.create,b2=Wt.create,f2=Qu.create,U2=Er.create,O2=Un.create,I2=fn.create,j2=it.create,D2=Un.createWithPreprocess,N2=Ng.create;var Yn=({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new N6({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`},BO=Yn();function n0(i){if(i==null)return"unknown error";if(typeof i==="string")return i;if(i instanceof Error)return i.message;return JSON.stringify(i)}var VG=/"__proto__"\\s*:/,KG=/"constructor"\\s*:/;function mO(i){let n=JSON.parse(i);if(n===null||typeof n!=="object")return n;if(VG.test(i)===!1&&KG.test(i)===!1)return n;return yG(n)}function yG(i){let n=[i];while(n.length){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__"))throw SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];if(o&&typeof o==="object")n.push(o)}}}return i}function MG(i){let{stackTraceLimit:n}=Error;try{Error.stackTraceLimit=0}catch(r){return mO(i)}try{return mO(i)}finally{Error.stackTraceLimit=n}}var Eg=Symbol.for("vercel.ai.validator");function kG(i){return{[Eg]:!0,validate:i}}function FG(i){return typeof i==="object"&&i!==null&&Eg in i&&i[Eg]===!0&&"validate"in i}function Jg(i){let n;return()=>{if(n==null)n=i();return n}}function TG(i){return FG(i)?i:typeof i==="function"?i():PG(i)}function PG(i){return kG(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new bt({value:n,cause:r.issues})}})}async function zg({value:i,schema:n}){let r=await qg({value:i,schema:n});if(!r.success)throw bt.wrap({value:i,cause:r.error});return r.value}async function qg({value:i,schema:n}){let r=TG(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);if(u.success)return{success:!0,value:u.value,rawValue:i};return{success:!1,error:bt.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:bt.wrap({value:i,cause:u}),rawValue:i}}}async function Ku({text:i,schema:n}){try{let r=MG(i);if(n==null)return{success:!0,value:r,rawValue:r};return await qg({value:r,schema:n})}catch(r){return{success:!1,error:se.isInstance(r)?r:new se({text:i,cause:r}),rawValue:void 0}}}var xG=(i,n)=>{let r=0;for(;r<i.length&&r<n.length;r++)if(i[r]!==n[r])break;return[(i.length-r).toString(),...n.slice(r)].join("/")},CG=Symbol("Let zodToJsonSchema decide on which parser to use"),YO={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},RG=(i)=>typeof i==="string"?{...YO,name:i}:{...YO,...i};function Pi(){return{}}function dG(i,n){var r,u,t;let o={type:"array"};if(((r=i.type)==null?void 0:r._def)&&((t=(u=i.type)==null?void 0:u._def)==null?void 0:t.typeName)!==X.ZodAny)o.items=ti(i.type._def,{...n,currentPath:[...n.currentPath,"items"]});if(i.minLength)o.minItems=i.minLength.value;if(i.maxLength)o.maxItems=i.maxLength.value;if(i.exactLength)o.minItems=i.exactLength.value,o.maxItems=i.exactLength.value;return o}function ZG(i){let n={type:"integer",format:"int64"};if(!i.checks)return n;for(let r of i.checks)switch(r.kind){case"min":if(r.inclusive)n.minimum=r.value;else n.exclusiveMinimum=r.value;break;case"max":if(r.inclusive)n.maximum=r.value;else n.exclusiveMaximum=r.value;break;case"multipleOf":n.multipleOf=r.value;break}return n}function aG(){return{type:"boolean"}}function AO(i,n){return ti(i.type._def,n)}var pG=(i,n)=>{return ti(i.innerType._def,n)};function VO(i,n,r){let u=r!=null?r:n.dateStrategy;if(Array.isArray(u))return{anyOf:u.map((t,o)=>VO(i,n,t))};switch(u){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return sG(i)}}var sG=(i)=>{let n={type:"integer",format:"unix-time"};for(let r of i.checks)switch(r.kind){case"min":n.minimum=r.value;break;case"max":n.maximum=r.value;break}return n};function iL(i,n){return{...ti(i.innerType._def,n),default:i.defaultValue()}}function nL(i,n){return n.effectStrategy==="input"?ti(i.schema._def,n):Pi()}function tL(i){return{type:"string",enum:Array.from(i.values)}}var rL=(i)=>{if("type"in i&&i.type==="string")return!1;return"allOf"in i};function uL(i,n){let r=[ti(i.left._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),ti(i.right._def,{...n,currentPath:[...n.currentPath,"allOf","1"]})].filter((t)=>!!t),u=[];return r.forEach((t)=>{if(rL(t))u.push(...t.allOf);else{let o=t;if("additionalProperties"in t&&t.additionalProperties===!1){let{additionalProperties:l,...e}=t;o=e}u.push(o)}}),u.length?{allOf:u}:void 0}function oL(i){let n=typeof i.value;if(n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string")return{type:Array.isArray(i.value)?"array":"object"};return{type:n==="bigint"?"integer":n,const:i.value}}var ah=void 0,tn={cuid:/^[cC][^\\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_\'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,emoji:()=>{if(ah===void 0)ah=RegExp("^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$","u");return ah},uuid:/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/};function KO(i,n){let r={type:"string"};if(i.checks)for(let u of i.checks)switch(u.kind){case"min":r.minLength=typeof r.minLength==="number"?Math.max(r.minLength,u.value):u.value;break;case"max":r.maxLength=typeof r.maxLength==="number"?Math.min(r.maxLength,u.value):u.value;break;case"email":switch(n.emailStrategy){case"format:email":rn(r,"email",u.message,n);break;case"format:idn-email":rn(r,"idn-email",u.message,n);break;case"pattern:zod":Ai(r,tn.email,u.message,n);break}break;case"url":rn(r,"uri",u.message,n);break;case"uuid":rn(r,"uuid",u.message,n);break;case"regex":Ai(r,u.regex,u.message,n);break;case"cuid":Ai(r,tn.cuid,u.message,n);break;case"cuid2":Ai(r,tn.cuid2,u.message,n);break;case"startsWith":Ai(r,RegExp(`^${ph(u.value,n)}`),u.message,n);break;case"endsWith":Ai(r,RegExp(`${ph(u.value,n)}$`),u.message,n);break;case"datetime":rn(r,"date-time",u.message,n);break;case"date":rn(r,"date",u.message,n);break;case"time":rn(r,"time",u.message,n);break;case"duration":rn(r,"duration",u.message,n);break;case"length":r.minLength=typeof r.minLength==="number"?Math.max(r.minLength,u.value):u.value,r.maxLength=typeof r.maxLength==="number"?Math.min(r.maxLength,u.value):u.value;break;case"includes":{Ai(r,RegExp(ph(u.value,n)),u.message,n);break}case"ip":{if(u.version!=="v6")rn(r,"ipv4",u.message,n);if(u.version!=="v4")rn(r,"ipv6",u.message,n);break}case"base64url":Ai(r,tn.base64url,u.message,n);break;case"jwt":Ai(r,tn.jwt,u.message,n);break;case"cidr":{if(u.version!=="v6")Ai(r,tn.ipv4Cidr,u.message,n);if(u.version!=="v4")Ai(r,tn.ipv6Cidr,u.message,n);break}case"emoji":Ai(r,tn.emoji(),u.message,n);break;case"ulid":{Ai(r,tn.ulid,u.message,n);break}case"base64":{switch(n.base64Strategy){case"format:binary":{rn(r,"binary",u.message,n);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{Ai(r,tn.base64,u.message,n);break}}break}case"nanoid":Ai(r,tn.nanoid,u.message,n);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function ph(i,n){return n.patternStrategy==="escape"?gL(i):i}var lL=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function gL(i){let n="";for(let r=0;r<i.length;r++){if(!lL.has(i[r]))n+="\\\\";n+=i[r]}return n}function rn(i,n,r,u){var t;if(i.format||((t=i.anyOf)==null?void 0:t.some((o)=>o.format))){if(!i.anyOf)i.anyOf=[];if(i.format)i.anyOf.push({format:i.format}),delete i.format;i.anyOf.push({format:n,...r&&u.errorMessages&&{errorMessage:{format:r}}})}else i.format=n}function Ai(i,n,r,u){var t;if(i.pattern||((t=i.allOf)==null?void 0:t.some((o)=>o.pattern))){if(!i.allOf)i.allOf=[];if(i.pattern)i.allOf.push({pattern:i.pattern}),delete i.pattern;i.allOf.push({pattern:QO(n,u),...r&&u.errorMessages&&{errorMessage:{pattern:r}}})}else i.pattern=QO(n,u)}function QO(i,n){var r;if(!n.applyRegexFlags||!i.flags)return i.source;let u={i:i.flags.includes("i"),m:i.flags.includes("m"),s:i.flags.includes("s")},t=u.i?i.source.toLowerCase():i.source,o="",l=!1,e=!1,c=!1;for(let $=0;$<t.length;$++){if(l){o+=t[$],l=!1;continue}if(u.i){if(e){if(t[$].match(/[a-z]/)){if(c)o+=t[$],o+=`${t[$-2]}-${t[$]}`.toUpperCase(),c=!1;else if(t[$+1]==="-"&&((r=t[$+2])==null?void 0:r.match(/[a-z]/)))o+=t[$],c=!0;else o+=`${t[$]}${t[$].toUpperCase()}`;continue}}else if(t[$].match(/[a-z]/)){o+=`[${t[$]}${t[$].toUpperCase()}]`;continue}}if(u.m){if(t[$]==="^"){o+=`(^|(?<=[\\r\n]))`;continue}else if(t[$]==="$"){o+=`($|(?=[\\r\n]))`;continue}}if(u.s&&t[$]==="."){o+=e?`${t[$]}\\r\n`:`[${t[$]}\\r\n]`;continue}if(o+=t[$],t[$]==="\\\\")l=!0;else if(e&&t[$]==="]")e=!1;else if(!e&&t[$]==="[")e=!0}try{new RegExp(o)}catch($){return console.warn(`Could not convert regex pattern at ${n.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),i.source}return o}function yO(i,n){var r,u,t,o,l,e;let c={type:"object",additionalProperties:(r=ti(i.valueType._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]}))!=null?r:n.allowedAdditionalProperties};if(((u=i.keyType)==null?void 0:u._def.typeName)===X.ZodString&&((t=i.keyType._def.checks)==null?void 0:t.length)){let{type:$,...v}=KO(i.keyType._def,n);return{...c,propertyNames:v}}else if(((o=i.keyType)==null?void 0:o._def.typeName)===X.ZodEnum)return{...c,propertyNames:{enum:i.keyType._def.values}};else if(((l=i.keyType)==null?void 0:l._def.typeName)===X.ZodBranded&&i.keyType._def.type._def.typeName===X.ZodString&&((e=i.keyType._def.type._def.checks)==null?void 0:e.length)){let{type:$,...v}=AO(i.keyType._def,n);return{...c,propertyNames:v}}return c}function eL(i,n){if(n.mapStrategy==="record")return yO(i,n);let r=ti(i.keyType._def,{...n,currentPath:[...n.currentPath,"items","items","0"]})||Pi(),u=ti(i.valueType._def,{...n,currentPath:[...n.currentPath,"items","items","1"]})||Pi();return{type:"array",maxItems:125,items:{type:"array",items:[r,u],minItems:2,maxItems:2}}}function cL(i){let n=i.values,u=Object.keys(i.values).filter((o)=>{return typeof n[n[o]]!=="number"}).map((o)=>n[o]),t=Array.from(new Set(u.map((o)=>typeof o)));return{type:t.length===1?t[0]==="string"?"string":"number":["string","number"],enum:u}}function $L(){return{not:Pi()}}function vL(){return{type:"null"}}var sh={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function _L(i,n){let r=i.options instanceof Map?Array.from(i.options.values()):i.options;if(r.every((u)=>(u._def.typeName in sh)&&(!u._def.checks||!u._def.checks.length))){let u=r.reduce((t,o)=>{let l=sh[o._def.typeName];return l&&!t.includes(l)?[...t,l]:t},[]);return{type:u.length>1?u:u[0]}}else if(r.every((u)=>u._def.typeName==="ZodLiteral"&&!u.description)){let u=r.reduce((t,o)=>{let l=typeof o._def.value;switch(l){case"string":case"number":case"boolean":return[...t,l];case"bigint":return[...t,"integer"];case"object":if(o._def.value===null)return[...t,"null"];case"symbol":case"undefined":case"function":default:return t}},[]);if(u.length===r.length){let t=u.filter((o,l,e)=>e.indexOf(o)===l);return{type:t.length>1?t:t[0],enum:r.reduce((o,l)=>{return o.includes(l._def.value)?o:[...o,l._def.value]},[])}}}else if(r.every((u)=>u._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((u,t)=>[...u,...t._def.values.filter((o)=>!u.includes(o))],[])};return wL(i,n)}var wL=(i,n)=>{let r=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((u,t)=>ti(u._def,{...n,currentPath:[...n.currentPath,"anyOf",`${t}`]})).filter((u)=>!!u&&(!n.strictUnions||typeof u==="object"&&Object.keys(u).length>0));return r.length?{anyOf:r}:void 0};function hL(i,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(i.innerType._def.typeName)&&(!i.innerType._def.checks||!i.innerType._def.checks.length))return{type:[sh[i.innerType._def.typeName],"null"]};let r=ti(i.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function bL(i){let n={type:"number"};if(!i.checks)return n;for(let r of i.checks)switch(r.kind){case"int":n.type="integer";break;case"min":if(r.inclusive)n.minimum=r.value;else n.exclusiveMinimum=r.value;break;case"max":if(r.inclusive)n.maximum=r.value;else n.exclusiveMaximum=r.value;break;case"multipleOf":n.multipleOf=r.value;break}return n}function fL(i,n){let r={type:"object",properties:{}},u=[],t=i.shape();for(let l in t){let e=t[l];if(e===void 0||e._def===void 0)continue;let c=OL(e),$=ti(e._def,{...n,currentPath:[...n.currentPath,"properties",l],propertyPath:[...n.currentPath,"properties",l]});if($===void 0)continue;if(r.properties[l]=$,!c)u.push(l)}if(u.length)r.required=u;let o=UL(i,n);if(o!==void 0)r.additionalProperties=o;return r}function UL(i,n){if(i.catchall._def.typeName!=="ZodNever")return ti(i.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]});switch(i.unknownKeys){case"passthrough":return n.allowedAdditionalProperties;case"strict":return n.rejectedAdditionalProperties;case"strip":return n.removeAdditionalStrategy==="strict"?n.allowedAdditionalProperties:n.rejectedAdditionalProperties}}function OL(i){try{return i.isOptional()}catch(n){return!0}}var IL=(i,n)=>{var r;if(n.currentPath.toString()===((r=n.propertyPath)==null?void 0:r.toString()))return ti(i.innerType._def,n);let u=ti(i.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","1"]});return u?{anyOf:[{not:Pi()},u]}:Pi()},jL=(i,n)=>{if(n.pipeStrategy==="input")return ti(i.in._def,n);else if(n.pipeStrategy==="output")return ti(i.out._def,n);let r=ti(i.in._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),u=ti(i.out._def,{...n,currentPath:[...n.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,u].filter((t)=>t!==void 0)}};function DL(i,n){return ti(i.type._def,n)}function NL(i,n){let u={type:"array",uniqueItems:!0,items:ti(i.valueType._def,{...n,currentPath:[...n.currentPath,"items"]})};if(i.minSize)u.minItems=i.minSize.value;if(i.maxSize)u.maxItems=i.maxSize.value;return u}function EL(i,n){if(i.rest)return{type:"array",minItems:i.items.length,items:i.items.map((r,u)=>ti(r._def,{...n,currentPath:[...n.currentPath,"items",`${u}`]})).reduce((r,u)=>u===void 0?r:[...r,u],[]),additionalItems:ti(i.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})};else return{type:"array",minItems:i.items.length,maxItems:i.items.length,items:i.items.map((r,u)=>ti(r._def,{...n,currentPath:[...n.currentPath,"items",`${u}`]})).reduce((r,u)=>u===void 0?r:[...r,u],[])}}function JL(){return{not:Pi()}}function zL(){return Pi()}var qL=(i,n)=>{return ti(i.innerType._def,n)},HL=(i,n,r)=>{switch(n){case X.ZodString:return KO(i,r);case X.ZodNumber:return bL(i);case X.ZodObject:return fL(i,r);case X.ZodBigInt:return ZG(i);case X.ZodBoolean:return aG();case X.ZodDate:return VO(i,r);case X.ZodUndefined:return JL();case X.ZodNull:return vL();case X.ZodArray:return dG(i,r);case X.ZodUnion:case X.ZodDiscriminatedUnion:return _L(i,r);case X.ZodIntersection:return uL(i,r);case X.ZodTuple:return EL(i,r);case X.ZodRecord:return yO(i,r);case X.ZodLiteral:return oL(i);case X.ZodEnum:return tL(i);case X.ZodNativeEnum:return cL(i);case X.ZodNullable:return hL(i,r);case X.ZodOptional:return IL(i,r);case X.ZodMap:return eL(i,r);case X.ZodSet:return NL(i,r);case X.ZodLazy:return()=>i.getter()._def;case X.ZodPromise:return DL(i,r);case X.ZodNaN:case X.ZodNever:return $L();case X.ZodEffects:return nL(i,r);case X.ZodAny:return Pi();case X.ZodUnknown:return zL();case X.ZodDefault:return iL(i,r);case X.ZodBranded:return AO(i,r);case X.ZodReadonly:return qL(i,r);case X.ZodCatch:return pG(i,r);case X.ZodPipeline:return jL(i,r);case X.ZodFunction:case X.ZodVoid:case X.ZodSymbol:return;default:return((u)=>{return})(n)}};function ti(i,n,r=!1){var u;let t=n.seen.get(i);if(n.override){let c=(u=n.override)==null?void 0:u.call(n,i,n,t,r);if(c!==CG)return c}if(t&&!r){let c=WL(t,n);if(c!==void 0)return c}let o={def:i,path:n.currentPath,jsonSchema:void 0};n.seen.set(i,o);let l=HL(i,i.typeName,n),e=typeof l==="function"?ti(l(),n):l;if(e)GL(i,n,e);if(n.postProcess){let c=n.postProcess(e,i,n);return o.jsonSchema=e,c}return o.jsonSchema=e,e}var WL=(i,n)=>{switch(n.$refStrategy){case"root":return{$ref:i.path.join("/")};case"relative":return{$ref:xG(n.currentPath,i.path)};case"none":case"seen":{if(i.path.length<n.currentPath.length&&i.path.every((r,u)=>n.currentPath[u]===r))return console.warn(`Recursive reference detected at ${n.currentPath.join("/")}! Defaulting to any`),Pi();return n.$refStrategy==="seen"?Pi():void 0}}},GL=(i,n,r)=>{if(i.description)r.description=i.description;return r},LL=(i)=>{let n=RG(i),r=n.name!==void 0?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([u,t])=>[t._def,{def:t._def,path:[...n.basePath,n.definitionPath,u],jsonSchema:void 0}]))}},XL=(i,n)=>{var r;let u=LL(n),t=typeof n==="object"&&n.definitions?Object.entries(n.definitions).reduce(($,[v,_])=>{var w;return{...$,[v]:(w=ti(_._def,{...u,currentPath:[...u.basePath,u.definitionPath,v]},!0))!=null?w:Pi()}},{}):void 0,o=typeof n==="string"?n:(n==null?void 0:n.nameStrategy)==="title"?void 0:n==null?void 0:n.name,l=(r=ti(i._def,o===void 0?u:{...u,currentPath:[...u.basePath,u.definitionPath,o]},!1))!=null?r:Pi(),e=typeof n==="object"&&n.name!==void 0&&n.nameStrategy==="title"?n.name:void 0;if(e!==void 0)l.title=e;let c=o===void 0?t?{...l,[u.definitionPath]:t}:l:{$ref:[...u.$refStrategy==="relative"?[]:u.basePath,u.definitionPath,o].join("/"),[u.definitionPath]:{...t,[o]:l}};return c.$schema="http://json-schema.org/draft-07/schema#",c},SL=XL;function mL(i,n){var r;let u=(r=n==null?void 0:n.useReferences)!=null?r:!1;return t0(()=>SL(i,{$refStrategy:u?"root":"none"}),{validate:async(t)=>{let o=await i.safeParseAsync(t);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function YL(i,n){var r;let u=(r=n==null?void 0:n.useReferences)!=null?r:!1;return t0(()=>$r(i,{target:"draft-7",io:"output",reused:u?"ref":"inline"}),{validate:async(t)=>{let o=await wu(i,t);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function QL(i){return"_zod"in i}function yu(i,n){if(QL(i))return YL(i,n);else return mL(i,n)}var i0=Symbol.for("vercel.ai.schema");function t0(i,{validate:n}={}){return{[i0]:!0,_type:void 0,[Eg]:!0,get jsonSchema(){if(typeof i==="function")i=i();return i},validate:n}}function BL(i){return typeof i==="object"&&i!==null&&i0 in i&&i[i0]===!0&&"jsonSchema"in i&&"validate"in i}function MO(i){return i==null?t0({properties:{},additionalProperties:!1}):BL(i)?i:typeof i==="function"?i():yu(i)}var KL=Object.defineProperty,yL=(i,n)=>{for(var r in n)KL(i,r,{get:n[r],enumerable:!0})},ML="AI_NoOutputSpecifiedError",kL=`vercel.ai.error.${ML}`,FL=Symbol.for(kL),TL;TL=FL;var PL="AI_InvalidArgumentError",xL=`vercel.ai.error.${PL}`,CL=Symbol.for(xL),RL;RL=CL;var dL="AI_InvalidStreamPartError",ZL=`vercel.ai.error.${dL}`,aL=Symbol.for(ZL),pL;pL=aL;var sL="AI_InvalidToolInputError",iX=`vercel.ai.error.${sL}`,nX=Symbol.for(iX),tX;tX=nX;var rX="AI_NoImageGeneratedError",uX=`vercel.ai.error.${rX}`,oX=Symbol.for(uX),lX;lX=oX;var CO="AI_NoObjectGeneratedError",RO=`vercel.ai.error.${CO}`,gX=Symbol.for(RO),dO,kO=class extends Ci{constructor({message:i="No object generated.",cause:n,text:r,response:u,usage:t,finishReason:o}){super({name:CO,message:i,cause:n});this[dO]=!0,this.text=r,this.response=u,this.usage=t,this.finishReason=o}static isInstance(i){return Ci.hasMarker(i,RO)}};dO=gX;var eX="AI_NoOutputGeneratedError",cX=`vercel.ai.error.${eX}`,$X=Symbol.for(cX),vX;vX=$X;var _X="AI_NoSuchToolError",wX=`vercel.ai.error.${_X}`,hX=Symbol.for(wX),bX;bX=hX;var fX="AI_ToolCallRepairError",UX=`vercel.ai.error.${fX}`,OX=Symbol.for(UX),IX;IX=OX;var jX="AI_InvalidDataContentError",DX=`vercel.ai.error.${jX}`,NX=Symbol.for(DX),EX;EX=NX;var JX="AI_InvalidMessageRoleError",zX=`vercel.ai.error.${JX}`,qX=Symbol.for(zX),HX;HX=qX;var ZO="AI_MessageConversionError",aO=`vercel.ai.error.${ZO}`,WX=Symbol.for(aO),pO,GX=class extends Ci{constructor({originalMessage:i,message:n}){super({name:ZO,message:n});this[pO]=!0,this.originalMessage=i}static isInstance(i){return Ci.hasMarker(i,aO)}};pO=WX;var LX="AI_DownloadError",XX=`vercel.ai.error.${LX}`,SX=Symbol.for(XX),mX;mX=SX;var YX="AI_RetryError",QX=`vercel.ai.error.${YX}`,BX=Symbol.for(QX),AX;AX=BX;var sO=g.union([g.string(),g.instanceof(Uint8Array),g.instanceof(ArrayBuffer),g.custom((i)=>{var n,r;return(r=(n=globalThis.Buffer)==null?void 0:n.isBuffer(i))!=null?r:!1},{message:"Must be a Buffer"})]);var Mu=g.lazy(()=>g.union([g.null(),g.string(),g.number(),g.boolean(),g.record(g.string(),Mu),g.array(Mu)])),s=g.record(g.string(),g.record(g.string(),Mu)),iI=g.object({type:g.literal("text"),text:g.string(),providerOptions:s.optional()}),VX=g.object({type:g.literal("image"),image:g.union([sO,g.instanceof(URL)]),mediaType:g.string().optional(),providerOptions:s.optional()}),nI=g.object({type:g.literal("file"),data:g.union([sO,g.instanceof(URL)]),filename:g.string().optional(),mediaType:g.string(),providerOptions:s.optional()}),KX=g.object({type:g.literal("reasoning"),text:g.string(),providerOptions:s.optional()}),yX=g.object({type:g.literal("tool-call"),toolCallId:g.string(),toolName:g.string(),input:g.unknown(),providerOptions:s.optional(),providerExecuted:g.boolean().optional()}),MX=g.discriminatedUnion("type",[g.object({type:g.literal("text"),value:g.string()}),g.object({type:g.literal("json"),value:Mu}),g.object({type:g.literal("error-text"),value:g.string()}),g.object({type:g.literal("error-json"),value:Mu}),g.object({type:g.literal("content"),value:g.array(g.union([g.object({type:g.literal("text"),text:g.string()}),g.object({type:g.literal("media"),data:g.string(),mediaType:g.string()})]))})]),tI=g.object({type:g.literal("tool-result"),toolCallId:g.string(),toolName:g.string(),output:MX,providerOptions:s.optional()}),kX=g.object({role:g.literal("system"),content:g.string(),providerOptions:s.optional()});var FX=g.object({role:g.literal("user"),content:g.union([g.string(),g.array(g.union([iI,VX,nI]))]),providerOptions:s.optional()});var TX=g.object({role:g.literal("assistant"),content:g.union([g.string(),g.array(g.union([iI,nI,KX,yX,tI]))]),providerOptions:s.optional()});var PX=g.object({role:g.literal("tool"),content:g.array(tI),providerOptions:s.optional()});var F2=g.union([kX,FX,TX,PX]);function FO({output:i,tool:n,errorMode:r}){if(r==="text")return{type:"error-text",value:mo(i)};else if(r==="json")return{type:"error-json",value:TO(i)};if(n==null?void 0:n.toModelOutput)return n.toModelOutput(i);return typeof i==="string"?{type:"text",value:i}:{type:"json",value:TO(i)}}function TO(i){return i===void 0?null:i}var P2=Yn({prefix:"aitxt",size:24});var C2=class extends TransformStream{constructor(){super({transform(i,n){n.enqueue(`data: ${JSON.stringify(i)}\n\n`)},flush(i){i.enqueue(`data: [DONE]\n\n`)}})}};var a2=Jg(()=>yu(g.union([g.strictObject({type:g.literal("text-start"),id:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("text-delta"),id:g.string(),delta:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("text-end"),id:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("error"),errorText:g.string()}),g.strictObject({type:g.literal("tool-input-start"),toolCallId:g.string(),toolName:g.string(),providerExecuted:g.boolean().optional(),dynamic:g.boolean().optional()}),g.strictObject({type:g.literal("tool-input-delta"),toolCallId:g.string(),inputTextDelta:g.string()}),g.strictObject({type:g.literal("tool-input-available"),toolCallId:g.string(),toolName:g.string(),input:g.unknown(),providerExecuted:g.boolean().optional(),providerMetadata:s.optional(),dynamic:g.boolean().optional()}),g.strictObject({type:g.literal("tool-input-error"),toolCallId:g.string(),toolName:g.string(),input:g.unknown(),providerExecuted:g.boolean().optional(),providerMetadata:s.optional(),dynamic:g.boolean().optional(),errorText:g.string()}),g.strictObject({type:g.literal("tool-output-available"),toolCallId:g.string(),output:g.unknown(),providerExecuted:g.boolean().optional(),dynamic:g.boolean().optional(),preliminary:g.boolean().optional()}),g.strictObject({type:g.literal("tool-output-error"),toolCallId:g.string(),errorText:g.string(),providerExecuted:g.boolean().optional(),dynamic:g.boolean().optional()}),g.strictObject({type:g.literal("reasoning-start"),id:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("reasoning-delta"),id:g.string(),delta:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("reasoning-end"),id:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("source-url"),sourceId:g.string(),url:g.string(),title:g.string().optional(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("source-document"),sourceId:g.string(),mediaType:g.string(),title:g.string(),filename:g.string().optional(),providerMetadata:s.optional()}),g.strictObject({type:g.literal("file"),url:g.string(),mediaType:g.string(),providerMetadata:s.optional()}),g.strictObject({type:g.custom((i)=>typeof i==="string"&&i.startsWith("data-"),{message:\'Type must start with "data-"\'}),id:g.string().optional(),data:g.unknown(),transient:g.boolean().optional()}),g.strictObject({type:g.literal("start-step")}),g.strictObject({type:g.literal("finish-step")}),g.strictObject({type:g.literal("start"),messageId:g.string().optional(),messageMetadata:g.unknown().optional()}),g.strictObject({type:g.literal("finish"),finishReason:g.enum(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:g.unknown().optional()}),g.strictObject({type:g.literal("abort")}),g.strictObject({type:g.literal("message-metadata"),messageMetadata:g.unknown()})])));function xX(i){return i.type.startsWith("data-")}function rI(i,n){if(i===void 0&&n===void 0)return;if(i===void 0)return n;if(n===void 0)return i;let r={...i};for(let u in n)if(Object.prototype.hasOwnProperty.call(n,u)){let t=n[u];if(t===void 0)continue;let o=u in i?i[u]:void 0,l=t!==null&&typeof t==="object"&&!Array.isArray(t)&&!(t instanceof Date)&&!(t instanceof RegExp),e=o!==null&&o!==void 0&&typeof o==="object"&&!Array.isArray(o)&&!(o instanceof Date)&&!(o instanceof RegExp);if(l&&e)r[u]=rI(o,t);else r[u]=t}return r}function CX(i){let n=["ROOT"],r=-1,u=null;function t(c,$,v){switch(c){case\'"\':{r=$,n.pop(),n.push(v),n.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=$,u=$,n.pop(),n.push(v),n.push("INSIDE_LITERAL");break}case"-":{n.pop(),n.push(v),n.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=$,n.pop(),n.push(v),n.push("INSIDE_NUMBER");break}case"{":{r=$,n.pop(),n.push(v),n.push("INSIDE_OBJECT_START");break}case"[":{r=$,n.pop(),n.push(v),n.push("INSIDE_ARRAY_START");break}}}function o(c,$){switch(c){case",":{n.pop(),n.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=$,n.pop();break}}}function l(c,$){switch(c){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=$,n.pop();break}}}for(let c=0;c<i.length;c++){let $=i[c];switch(n[n.length-1]){case"ROOT":t($,c,"FINISH");break;case"INSIDE_OBJECT_START":{switch($){case\'"\':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}case"}":{r=c,n.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch($){case\'"\':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch($){case\'"\':{n.pop(),n.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch($){case":":{n.pop(),n.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{t($,c,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o($,c);break}case"INSIDE_STRING":{switch($){case\'"\':{n.pop(),r=c;break}case"\\\\":{n.push("INSIDE_STRING_ESCAPE");break}default:r=c}break}case"INSIDE_ARRAY_START":{switch($){case"]":{r=c,n.pop();break}default:{r=c,t($,c,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch($){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=c,n.pop();break}default:{r=c;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{t($,c,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{n.pop(),r=c;break}case"INSIDE_NUMBER":{switch($){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=c;break}case"e":case"E":case"-":case".":break;case",":{if(n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE")l($,c);if(n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE")o($,c);break}case"}":{if(n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE")o($,c);break}case"]":{if(n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE")l($,c);break}default:{n.pop();break}}break}case"INSIDE_LITERAL":{let _=i.substring(u,c+1);if(!"false".startsWith(_)&&!"true".startsWith(_)&&!"null".startsWith(_)){if(n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE")o($,c);else if(n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE")l($,c)}else r=c;break}}}let e=i.slice(0,r+1);for(let c=n.length-1;c>=0;c--)switch(n[c]){case"INSIDE_STRING":{e+=\'"\';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{e+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{e+="]";break}case"INSIDE_LITERAL":{let v=i.substring(u,i.length);if("true".startsWith(v))e+="true".slice(v.length);else if("false".startsWith(v))e+="false".slice(v.length);else if("null".startsWith(v))e+="null".slice(v.length)}}return e}async function uI(i){if(i===void 0)return{value:void 0,state:"undefined-input"};let n=await Ku({text:i});if(n.success)return{value:n.value,state:"successful-parse"};if(n=await Ku({text:CX(i)}),n.success)return{value:n.value,state:"repaired-parse"};return{value:void 0,state:"failed-parse"}}function r0(i){return i.type.startsWith("data-")}function u0(i){return i.type==="text"}function o0(i){return i.type==="file"}function PO(i){return i.type==="reasoning"}function nt(i){return i.type.startsWith("tool-")}function l0(i){return i.type==="dynamic-tool"}function xO(i){return nt(i)||l0(i)}function Gt(i){return i.type.split("-").slice(1).join("-")}function RX(i){return l0(i)?i.toolName:Gt(i)}function dX({lastMessage:i,messageId:n}){return{message:(i==null?void 0:i.role)==="assistant"?i:{id:n,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function ZX({stream:i,messageMetadataSchema:n,dataPartSchemas:r,runUpdateMessageJob:u,onError:t,onToolCall:o,onData:l}){return i.pipeThrough(new TransformStream({async transform(e,c){await u(async({state:$,write:v})=>{var _,w,h,f;function U(b){let z=$.message.parts.filter(nt).find((Y)=>Y.toolCallId===b);if(z==null)throw Error("tool-output-error must be preceded by a tool-input-available");return z}function j(b){let z=$.message.parts.filter((Y)=>Y.type==="dynamic-tool").find((Y)=>Y.toolCallId===b);if(z==null)throw Error("tool-output-error must be preceded by a tool-input-available");return z}function q(b){var I;let z=$.message.parts.find((S)=>nt(S)&&S.toolCallId===b.toolCallId),Y=b,E=z;if(z!=null){if(z.state=b.state,E.input=Y.input,E.output=Y.output,E.errorText=Y.errorText,E.rawInput=Y.rawInput,E.preliminary=Y.preliminary,E.providerExecuted=(I=Y.providerExecuted)!=null?I:z.providerExecuted,Y.providerMetadata!=null&&z.state==="input-available")z.callProviderMetadata=Y.providerMetadata}else $.message.parts.push({type:`tool-${b.toolName}`,toolCallId:b.toolCallId,state:b.state,input:Y.input,output:Y.output,rawInput:Y.rawInput,errorText:Y.errorText,providerExecuted:Y.providerExecuted,preliminary:Y.preliminary,...Y.providerMetadata!=null?{callProviderMetadata:Y.providerMetadata}:{}})}function D(b){var I,z;let Y=$.message.parts.find((K)=>K.type==="dynamic-tool"&&K.toolCallId===b.toolCallId),E=b,S=Y;if(Y!=null){if(Y.state=b.state,S.toolName=b.toolName,S.input=E.input,S.output=E.output,S.errorText=E.errorText,S.rawInput=(I=E.rawInput)!=null?I:S.rawInput,S.preliminary=E.preliminary,S.providerExecuted=(z=E.providerExecuted)!=null?z:Y.providerExecuted,E.providerMetadata!=null&&Y.state==="input-available")Y.callProviderMetadata=E.providerMetadata}else $.message.parts.push({type:"dynamic-tool",toolName:b.toolName,toolCallId:b.toolCallId,state:b.state,input:E.input,output:E.output,errorText:E.errorText,preliminary:E.preliminary,providerExecuted:E.providerExecuted,...E.providerMetadata!=null?{callProviderMetadata:E.providerMetadata}:{}})}async function O(b){if(b!=null){let I=$.message.metadata!=null?rI($.message.metadata,b):b;if(n!=null)await zg({value:I,schema:n});$.message.metadata=I}}switch(e.type){case"text-start":{let b={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};$.activeTextParts[e.id]=b,$.message.parts.push(b),v();break}case"text-delta":{let b=$.activeTextParts[e.id];b.text+=e.delta,b.providerMetadata=(_=e.providerMetadata)!=null?_:b.providerMetadata,v();break}case"text-end":{let b=$.activeTextParts[e.id];b.state="done",b.providerMetadata=(w=e.providerMetadata)!=null?w:b.providerMetadata,delete $.activeTextParts[e.id],v();break}case"reasoning-start":{let b={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};$.activeReasoningParts[e.id]=b,$.message.parts.push(b),v();break}case"reasoning-delta":{let b=$.activeReasoningParts[e.id];b.text+=e.delta,b.providerMetadata=(h=e.providerMetadata)!=null?h:b.providerMetadata,v();break}case"reasoning-end":{let b=$.activeReasoningParts[e.id];b.providerMetadata=(f=e.providerMetadata)!=null?f:b.providerMetadata,b.state="done",delete $.activeReasoningParts[e.id],v();break}case"file":{$.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),v();break}case"source-url":{$.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),v();break}case"source-document":{$.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),v();break}case"tool-input-start":{let b=$.message.parts.filter(nt);if($.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:b.length,dynamic:e.dynamic},e.dynamic)D({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted});else q({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted});v();break}case"tool-input-delta":{let b=$.partialToolCalls[e.toolCallId];b.text+=e.inputTextDelta;let{value:I}=await uI(b.text);if(b.dynamic)D({toolCallId:e.toolCallId,toolName:b.toolName,state:"input-streaming",input:I});else q({toolCallId:e.toolCallId,toolName:b.toolName,state:"input-streaming",input:I});v();break}case"tool-input-available":{if(e.dynamic)D({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata});else q({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata});if(v(),o&&!e.providerExecuted)await o({toolCall:e});break}case"tool-input-error":{if(e.dynamic)D({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata});else q({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata});v();break}case"tool-output-available":{if(e.dynamic){let b=j(e.toolCallId);D({toolCallId:e.toolCallId,toolName:b.toolName,state:"output-available",input:b.input,output:e.output,preliminary:e.preliminary})}else{let b=U(e.toolCallId);q({toolCallId:e.toolCallId,toolName:Gt(b),state:"output-available",input:b.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}v();break}case"tool-output-error":{if(e.dynamic){let b=j(e.toolCallId);D({toolCallId:e.toolCallId,toolName:b.toolName,state:"output-error",input:b.input,errorText:e.errorText,providerExecuted:e.providerExecuted})}else{let b=U(e.toolCallId);q({toolCallId:e.toolCallId,toolName:Gt(b),state:"output-error",input:b.input,rawInput:b.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted})}v();break}case"start-step":{$.message.parts.push({type:"step-start"});break}case"finish-step":{$.activeTextParts={},$.activeReasoningParts={};break}case"start":{if(e.messageId!=null)$.message.id=e.messageId;if(await O(e.messageMetadata),e.messageId!=null||e.messageMetadata!=null)v();break}case"finish":{if(e.finishReason!=null)$.finishReason=e.finishReason;if(await O(e.messageMetadata),e.messageMetadata!=null)v();break}case"message-metadata":{if(await O(e.messageMetadata),e.messageMetadata!=null)v();break}case"error":{t==null||t(Error(e.errorText));break}default:if(xX(e)){if((r==null?void 0:r[e.type])!=null)await zg({value:e.data,schema:r[e.type]});let b=e;if(b.transient){l==null||l(b);break}let I=b.id!=null?$.message.parts.find((z)=>b.type===z.type&&b.id===z.id):void 0;if(I!=null)I.data=b.data;else $.message.parts.push(b);l==null||l(b),v()}}c.enqueue(e)})}}))}function aX({messageId:i,originalMessages:n=[],onFinish:r,onError:u,stream:t}){let o=n==null?void 0:n[n.length-1];if((o==null?void 0:o.role)!=="assistant")o=void 0;else i=o.id;let l=!1,e=t.pipeThrough(new TransformStream({transform(w,h){if(w.type==="start"){let f=w;if(f.messageId==null&&i!=null)f.messageId=i}if(w.type==="abort")l=!0;h.enqueue(w)}}));if(r==null)return e;let c=dX({lastMessage:o?structuredClone(o):void 0,messageId:i!=null?i:""}),$=async(w)=>{await w({state:c,write:()=>{}})},v=!1,_=async()=>{if(v||!r)return;v=!0;let w=c.message.id===(o==null?void 0:o.id);await r({isAborted:l,isContinuation:w,responseMessage:c.message,messages:[...w?n.slice(0,-1):n,c.message],finishReason:c.finishReason})};return ZX({stream:e,runUpdateMessageJob:$,onError:u}).pipeThrough(new TransformStream({transform(w,h){h.enqueue(w)},async cancel(){await _()},async flush(){await _()}}))}var s2=Yn({prefix:"aitxt",size:24});function oI(i,n){let r=[];if(n==null?void 0:n.ignoreIncompleteToolCalls)i=i.map((t)=>({...t,parts:t.parts.filter((o)=>!xO(o)||o.state!=="input-streaming"&&o.state!=="input-available")}));for(let t of i)switch(t.role){case"system":{let o=t.parts.filter((e)=>e.type==="text"),l=o.reduce((e,c)=>{if(c.providerMetadata!=null)return{...e,...c.providerMetadata};return e},{});r.push({role:"system",content:o.map((e)=>e.text).join(""),...Object.keys(l).length>0?{providerOptions:l}:{}});break}case"user":{r.push({role:"user",content:t.parts.map((o)=>{var l;if(u0(o))return{type:"text",text:o.text,...o.providerMetadata!=null?{providerOptions:o.providerMetadata}:{}};if(o0(o))return{type:"file",mediaType:o.mediaType,filename:o.filename,data:o.url,...o.providerMetadata!=null?{providerOptions:o.providerMetadata}:{}};if(r0(o))return(l=n==null?void 0:n.convertDataPart)==null?void 0:l.call(n,o)}).filter((o)=>o!=null)});break}case"assistant":{if(t.parts!=null){let o=function(){var e,c,$;if(l.length===0)return;let v=[];for(let w of l)if(u0(w))v.push({type:"text",text:w.text,...w.providerMetadata!=null?{providerOptions:w.providerMetadata}:{}});else if(o0(w))v.push({type:"file",mediaType:w.mediaType,filename:w.filename,data:w.url});else if(PO(w))v.push({type:"reasoning",text:w.text,providerOptions:w.providerMetadata});else if(l0(w)){let h=w.toolName;if(w.state!=="input-streaming")v.push({type:"tool-call",toolCallId:w.toolCallId,toolName:h,input:w.input,...w.callProviderMetadata!=null?{providerOptions:w.callProviderMetadata}:{}})}else if(nt(w)){let h=Gt(w);if(w.state!=="input-streaming"){if(v.push({type:"tool-call",toolCallId:w.toolCallId,toolName:h,input:w.state==="output-error"?(e=w.input)!=null?e:w.rawInput:w.input,providerExecuted:w.providerExecuted,...w.callProviderMetadata!=null?{providerOptions:w.callProviderMetadata}:{}}),w.providerExecuted===!0&&(w.state==="output-available"||w.state==="output-error"))v.push({type:"tool-result",toolCallId:w.toolCallId,toolName:h,output:FO({output:w.state==="output-error"?w.errorText:w.output,tool:(c=n==null?void 0:n.tools)==null?void 0:c[h],errorMode:w.state==="output-error"?"json":"none"}),...w.callProviderMetadata!=null?{providerOptions:w.callProviderMetadata}:{}})}}else if(r0(w)){let h=($=n==null?void 0:n.convertDataPart)==null?void 0:$.call(n,w);if(h!=null)v.push(h)}else throw Error(`Unsupported part: ${w}`);r.push({role:"assistant",content:v});let _=l.filter((w)=>nt(w)&&w.providerExecuted!==!0||w.type==="dynamic-tool");if(_.length>0)r.push({role:"tool",content:_.map((w)=>{var h;switch(w.state){case"output-error":case"output-available":{let f=RX(w);return{type:"tool-result",toolCallId:w.toolCallId,toolName:f,output:FO({output:w.state==="output-error"?w.errorText:w.output,tool:(h=n==null?void 0:n.tools)==null?void 0:h[f],errorMode:w.state==="output-error"?"text":"none"}),...w.callProviderMetadata!=null?{providerOptions:w.callProviderMetadata}:{}}}default:return null}}).filter((w)=>w!=null)});l=[]};var u=o;let l=[];for(let e of t.parts)if(u0(e)||PO(e)||o0(e)||xO(e)||r0(e))l.push(e);else if(e.type==="step-start")o();o();break}break}default:{let o=t.role;throw new GX({originalMessage:t,message:`Unsupported role: ${o}`})}}return r}var n7=Yn({prefix:"aiobj",size:24});var r7=Yn({prefix:"aiobj",size:24});var pX={};yL(pX,{object:()=>iS,text:()=>sX});var sX=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:i}){return{partial:i}},async parseOutput({text:i}){return i}}),iS=({schema:i})=>{let n=MO(i);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial({text:r}){let u=await uI(r);switch(u.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:u.value};default:{let t=u.state;throw Error(`Unsupported parse state: ${t}`)}}},async parseOutput({text:r},u){let t=await Ku({text:r});if(!t.success)throw new kO({message:"No object generated: could not parse the response.",cause:t.error,text:r,response:u.response,usage:u.usage,finishReason:u.finishReason});let o=await qg({value:t.value,schema:n});if(!o.success)throw new kO({message:"No object generated: response did not match schema.",cause:o.error,text:r,response:u.response,usage:u.usage,finishReason:u.finishReason});return o.value}}};var nS="AI_NoSuchProviderError",tS=`vercel.ai.error.${nS}`,rS=Symbol.for(tS),uS;uS=rS;var g7=Jg(()=>yu(g.array(g.object({id:g.string(),role:g.enum(["system","user","assistant"]),metadata:g.unknown().optional(),parts:g.array(g.union([g.object({type:g.literal("text"),text:g.string(),state:g.enum(["streaming","done"]).optional(),providerMetadata:s.optional()}),g.object({type:g.literal("reasoning"),text:g.string(),state:g.enum(["streaming","done"]).optional(),providerMetadata:s.optional()}),g.object({type:g.literal("source-url"),sourceId:g.string(),url:g.string(),title:g.string().optional(),providerMetadata:s.optional()}),g.object({type:g.literal("source-document"),sourceId:g.string(),mediaType:g.string(),title:g.string(),filename:g.string().optional(),providerMetadata:s.optional()}),g.object({type:g.literal("file"),mediaType:g.string(),filename:g.string().optional(),url:g.string(),providerMetadata:s.optional()}),g.object({type:g.literal("step-start")}),g.object({type:g.string().startsWith("data-"),id:g.string().optional(),data:g.unknown()}),g.object({type:g.literal("dynamic-tool"),toolName:g.string(),toolCallId:g.string(),state:g.literal("input-streaming"),input:g.unknown().optional(),providerExecuted:g.boolean().optional(),output:g.never().optional(),errorText:g.never().optional()}),g.object({type:g.literal("dynamic-tool"),toolName:g.string(),toolCallId:g.string(),state:g.literal("input-available"),input:g.unknown(),providerExecuted:g.boolean().optional(),output:g.never().optional(),errorText:g.never().optional(),callProviderMetadata:s.optional()}),g.object({type:g.literal("dynamic-tool"),toolName:g.string(),toolCallId:g.string(),state:g.literal("output-available"),input:g.unknown(),providerExecuted:g.boolean().optional(),output:g.unknown(),errorText:g.never().optional(),callProviderMetadata:s.optional(),preliminary:g.boolean().optional()}),g.object({type:g.literal("dynamic-tool"),toolName:g.string(),toolCallId:g.string(),state:g.literal("output-error"),input:g.unknown(),providerExecuted:g.boolean().optional(),output:g.never().optional(),errorText:g.string(),callProviderMetadata:s.optional()}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("input-streaming"),providerExecuted:g.boolean().optional(),input:g.unknown().optional(),output:g.never().optional(),errorText:g.never().optional(),approval:g.never().optional()}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("input-available"),providerExecuted:g.boolean().optional(),input:g.unknown(),output:g.never().optional(),errorText:g.never().optional(),callProviderMetadata:s.optional(),approval:g.never().optional()}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("approval-requested"),input:g.unknown(),providerExecuted:g.boolean().optional(),output:g.never().optional(),errorText:g.never().optional(),callProviderMetadata:s.optional(),approval:g.object({id:g.string(),approved:g.never().optional(),reason:g.never().optional()})}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("approval-responded"),input:g.unknown(),providerExecuted:g.boolean().optional(),output:g.never().optional(),errorText:g.never().optional(),callProviderMetadata:s.optional(),approval:g.object({id:g.string(),approved:g.boolean(),reason:g.string().optional()})}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("output-available"),providerExecuted:g.boolean().optional(),input:g.unknown(),output:g.unknown(),errorText:g.never().optional(),callProviderMetadata:s.optional(),preliminary:g.boolean().optional(),approval:g.object({id:g.string(),approved:g.literal(!0),reason:g.string().optional()}).optional()}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("output-error"),providerExecuted:g.boolean().optional(),input:g.unknown(),output:g.never().optional(),errorText:g.string(),callProviderMetadata:s.optional(),approval:g.object({id:g.string(),approved:g.literal(!0),reason:g.string().optional()}).optional()}),g.object({type:g.string().startsWith("tool-"),toolCallId:g.string(),state:g.literal("output-denied"),providerExecuted:g.boolean().optional(),input:g.unknown(),output:g.never().optional(),errorText:g.never().optional(),callProviderMetadata:s.optional(),approval:g.object({id:g.string(),approved:g.literal(!1),reason:g.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));function lI({execute:i,onError:n=n0,originalMessages:r,onFinish:u,generateId:t=BO}){let o,l=[],e=new ReadableStream({start(v){o=v}});function c(v){try{o.enqueue(v)}catch(_){}}try{let v=i({writer:{write(_){c(_)},merge(_){l.push((async()=>{let w=_.getReader();while(!0){let{done:h,value:f}=await w.read();if(h)break;c(f)}})().catch((w)=>{c({type:"error",errorText:n(w)})}))},onError:n}});if(v)l.push(v.catch((_)=>{c({type:"error",errorText:n(_)})}))}catch(v){c({type:"error",errorText:n(v)})}return new Promise(async(v)=>{while(l.length>0)await l.shift();v()}).finally(()=>{try{o.close()}catch(v){}}),aX({stream:e,messageId:t(),originalMessages:r,onFinish:u,onError:n})}function oS(i){return typeof i=="object"&&!!i&&typeof i[Symbol.asyncIterator]=="function"}var lS=class extends Error{constructor(i,n){super(i),this.response=n}};var h7=Object.freeze({withContext(i,n){let r={};for(let u of Object.keys(i))r[u]=i[u].withContext(n);return r},with(i,n){let r={};for(let u of Object.keys(i))r[u]=i[u].withContext(n);return r},async withApproval(i){let n={};for(let[t,o]of Object.entries(i.tools)){let l=o.execute;n[t]={...o,execute:async(e,c)=>o.autoApprove&&l&&await o.autoApprove(e)?l(e,c):{type:"tool-approval",outcome:"pending"}}}let r=i.messages[i.messages.length-1];if(!r?.parts)return n;let u=[];for(let t of r.parts){if(!nt(t))continue;let o=Gt(t),l=i.tools[o];l&&t.state==="output-available"&&l.execute&&gS(t.output)&&t.output.outcome==="approved"&&u.push({toolName:Gt(t),tool:l,input:t.input,toolCallId:t.toolCallId})}if(u.length>0){let t=lI({execute:async({writer:o})=>{o.write({type:"start-step"}),await Promise.all(u.map(async(l)=>{if(!l.tool.execute)throw Error("Tool does not support execute.");o.write({type:"tool-input-available",toolCallId:l.toolCallId,toolName:l.toolName,input:l.input});try{let e=await l.tool.execute(l.input,{toolCallId:l.toolCallId,messages:oI(i.messages,{tools:i.tools}),abortSignal:i.abortSignal}),c=e;if(oS(e))for await(let $ of e)c=$,o.write({type:"tool-output-available",toolCallId:l.toolCallId,output:$,preliminary:!0});o.write({type:"tool-output-available",toolCallId:l.toolCallId,output:c})}catch(e){o.write({type:"tool-output-error",toolCallId:l.toolCallId,errorText:e instanceof Error?e.message:String(e)})}})),o.write({type:"finish"})}});throw new lS("Executing tools",t)}return n},prefix(i,n){let r={};for(let[u,t]of Object.entries(i))r[`${n}${u}`]=t;return r}});function gS(i){return typeof i=="object"&&!!i&&"type"in i&&i.type==="tool-approval"}var e0=(i)=>{let n=i.split("/");return n[0]===""&&n.shift(),n},gI=(i)=>{let{groups:n,path:r}=eS(i),u=e0(r);return cS(u,n)},eS=(i)=>{let n=[];return i=i.replace(/\\{[^}]+\\}/g,(r,u)=>{let t=`@${u}`;return n.push([t,r]),t}),{groups:n,path:i}},cS=(i,n)=>{for(let r=n.length-1;r>=0;r--){let[u]=n[r];for(let t=i.length-1;t>=0;t--)if(i[t].includes(u)){i[t]=i[t].replace(u,n[r][1]);break}}return i},Hg={},eI=(i,n)=>{if(i==="*")return"*";let r=i.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);if(r){let u=`${i}#${n}`;return Hg[u]||(r[2]?Hg[u]=n&&n[0]!==":"&&n[0]!=="*"?[u,r[1],RegExp(`^${r[2]}(?=/${n})`)]:[i,r[1],RegExp(`^${r[2]}$`)]:Hg[u]=[i,r[1],!0]),Hg[u]}return null},ku=(i,n)=>{try{return n(i)}catch{return i.replace(/(?:%[0-9A-Fa-f]{2})+/g,(r)=>{try{return n(r)}catch{return r}})}},$S=(i)=>ku(i,decodeURI),c0=(i)=>{let n=i.url,r=n.indexOf("/",n.indexOf(":")+4),u=r;for(;u<n.length;u++){let t=n.charCodeAt(u);if(t===37){let o=n.indexOf("?",u),l=n.slice(r,o===-1?void 0:o);return $S(l.includes("%25")?l.replace(/%25/g,"%2525"):l)}else if(t===63)break}return n.slice(r,u)},cI=(i)=>{let n=c0(i);return n.length>1&&n.at(-1)==="/"?n.slice(0,-1):n},Lt=(i,n,...r)=>(r.length&&(n=Lt(n,...r)),`${i?.[0]==="/"?"":"/"}${i}${n==="/"?"":`${i?.at(-1)==="/"?"":"/"}${n?.[0]==="/"?n.slice(1):n}`}`),$0=(i)=>{if(i.charCodeAt(i.length-1)!==63||!i.includes(":"))return null;let n=i.split("/"),r=[],u="";return n.forEach((t)=>{if(t!==""&&!/\\:/.test(t))u+="/"+t;else if(/\\:/.test(t))if(/\\?/.test(t)){r.length===0&&u===""?r.push("/"):r.push(u);let o=t.replace("?","");u+="/"+o,r.push(u)}else u+="/"+t}),r.filter((t,o,l)=>l.indexOf(t)===o)},g0=(i)=>/[%+]/.test(i)?(i.indexOf("+")!==-1&&(i=i.replace(/\\+/g," ")),i.indexOf("%")===-1?i:ku(i,Wg)):i,$I=(i,n,r)=>{let u;if(!r&&n&&!/[%+]/.test(n)){let l=i.indexOf(`?${n}`,8);for(l===-1&&(l=i.indexOf(`&${n}`,8));l!==-1;){let e=i.charCodeAt(l+n.length+1);if(e===61){let c=l+n.length+2,$=i.indexOf("&",c);return g0(i.slice(c,$===-1?void 0:$))}else if(e==38||isNaN(e))return"";l=i.indexOf(`&${n}`,l+1)}if(u=/[%+]/.test(i),!u)return}let t={};u??=/[%+]/.test(i);let o=i.indexOf("?",8);for(;o!==-1;){let l=i.indexOf("&",o+1),e=i.indexOf("=",o);e>l&&l!==-1&&(e=-1);let c=i.slice(o+1,e===-1?l===-1?void 0:l:e);if(u&&(c=g0(c)),o=l,c==="")continue;let $;e===-1?$="":($=i.slice(e+1,l===-1?void 0:l),u&&($=g0($))),r?(t[c]&&Array.isArray(t[c])||(t[c]=[]),t[c].push($)):t[c]??=$}return n?t[n]:t},vI=$I,_I=(i,n)=>$I(i,n,!0),Wg=decodeURIComponent,vS=/^[\\w!#$%&\'*.^`|~+-]+$/,_S=/^[ !#-:<-[\\]-~]*$/,v0=(i,n)=>{if(n&&i.indexOf(n)===-1)return{};let r=i.trim().split(";"),u={};for(let t of r){t=t.trim();let o=t.indexOf("=");if(o===-1)continue;let l=t.substring(0,o).trim();if(n&&n!==l||!vS.test(l))continue;let e=t.substring(o+1).trim();if(e.startsWith(\'"\')&&e.endsWith(\'"\')&&(e=e.slice(1,-1)),_S.test(e)&&(u[l]=e.indexOf("%")===-1?e:ku(e,Wg),n))break}return u};var wI=class extends Error{constructor(i,n){super(i),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}};function _0(i){}function wS(i){if(typeof i=="function")throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:n=_0,onError:r=_0,onRetry:u=_0,onComment:t}=i,o="",l=!0,e,c="",$="";function v(U){let j=l?U.replace(/^\\xEF\\xBB\\xBF/,""):U,[q,D]=hS(`${o}${j}`);for(let O of q)_(O);o=D,l=!1}function _(U){if(U===""){h();return}if(U.startsWith(":")){t&&t(U.slice(U.startsWith(": ")?2:1));return}let j=U.indexOf(":");if(j!==-1){let q=U.slice(0,j),D=U[j+1]===" "?2:1,O=U.slice(j+D);w(q,O,U);return}w(U,"",U)}function w(U,j,q){switch(U){case"event":$=j;break;case"data":c=`${c}${j}\n`;break;case"id":e=j.includes("\\x00")?void 0:j;break;case"retry":/^\\d+$/.test(j)?u(parseInt(j,10)):r(new wI(`Invalid \\`retry\\` value: "${j}"`,{type:"invalid-retry",value:j,line:q}));break;default:r(new wI(`Unknown field "${U.length>20?`${U.slice(0,20)}…`:U}"`,{type:"unknown-field",field:U,value:j,line:q}));break}}function h(){c.length>0&&n({id:e,event:$||void 0,data:c.endsWith(`\n`)?c.slice(0,-1):c}),e=void 0,c="",$=""}function f(U={}){o&&U.consume&&_(o),l=!0,e=void 0,c="",$="",o=""}return{feed:v,reset:f}}function hS(i){let n=[],r="",u=0;for(;u<i.length;){let t=i.indexOf("\\r",u),o=i.indexOf(`\n`,u),l=-1;if(t!==-1&&o!==-1?l=Math.min(t,o):t===-1?o!==-1&&(l=o):l=t===i.length-1?-1:t,l===-1){r=i.slice(u);break}else{let e=i.slice(u,l);n.push(e),u=l+1,i[u-1]==="\\r"&&i[u]===`\n`&&u++}}return[n,r]}var Yg=class extends TransformStream{constructor({onError:i,onRetry:n,onComment:r}={}){let u;super({start(t){u=wS({onEvent:(o)=>{t.enqueue(o)},onError(o){i==="terminate"?t.error(o):typeof i=="function"&&i(o)},onRetry:n,onComment:r})},transform(t){u.feed(t)}})}};var VI="vercel.ai.error",bS=Symbol.for(VI),KI,fS=class i extends Error{constructor({name:n,message:r,cause:u}){super(r),this[KI]=!0,this.name=n,this.cause=u}static isInstance(n){return i.hasMarker(n,VI)}static hasMarker(n,r){let u=Symbol.for(r);return typeof n=="object"&&!!n&&u in n&&typeof n[u]=="boolean"&&n[u]===!0}};KI=bS;var _i=fS,yI="AI_APICallError",MI=`vercel.ai.error.${yI}`,US=Symbol.for(MI),kI,T=class extends _i{constructor({message:i,url:n,requestBodyValues:r,statusCode:u,responseHeaders:t,responseBody:o,cause:l,isRetryable:e=u!=null&&(u===408||u===409||u===429||u>=500),data:c}){super({name:yI,message:i,cause:l}),this[kI]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=u,this.responseHeaders=t,this.responseBody=o,this.isRetryable=e,this.data=c}static isInstance(i){return _i.hasMarker(i,MI)}};kI=US;var FI="AI_EmptyResponseBodyError",TI=`vercel.ai.error.${FI}`,OS=Symbol.for(TI),PI,Qg=class extends _i{constructor({message:i="Empty response body"}={}){super({name:FI,message:i}),this[PI]=!0}static isInstance(i){return _i.hasMarker(i,TI)}};PI=OS;function xI(i){return i==null?"unknown error":typeof i=="string"?i:i instanceof Error?i.message:JSON.stringify(i)}var CI="AI_InvalidArgumentError",RI=`vercel.ai.error.${CI}`,IS=Symbol.for(RI),dI,An=class extends _i{constructor({message:i,cause:n,argument:r}){super({name:CI,message:i,cause:n}),this[dI]=!0,this.argument=r}static isInstance(i){return _i.hasMarker(i,RI)}};dI=IS;var ZI="AI_InvalidPromptError",aI=`vercel.ai.error.${ZI}`,jS=Symbol.for(aI),pI,DS=class extends _i{constructor({prompt:i,message:n,cause:r}){super({name:ZI,message:`Invalid prompt: ${n}`,cause:r}),this[pI]=!0,this.prompt=i}static isInstance(i){return _i.hasMarker(i,aI)}};pI=jS;var sI="AI_InvalidResponseDataError",ij=`vercel.ai.error.${sI}`,NS=Symbol.for(ij),nj,w0=class extends _i{constructor({data:i,message:n=`Invalid response data: ${JSON.stringify(i)}.`}){super({name:sI,message:n}),this[nj]=!0,this.data=i}static isInstance(i){return _i.hasMarker(i,ij)}};nj=NS;var tj="AI_JSONParseError",rj=`vercel.ai.error.${tj}`,ES=Symbol.for(rj),uj,Ui=class extends _i{constructor({text:i,cause:n}){super({name:tj,message:`JSON parsing failed: Text: ${i}.\nError message: ${xI(n)}`,cause:n}),this[uj]=!0,this.text=i}static isInstance(i){return _i.hasMarker(i,rj)}};uj=ES;var oj="AI_LoadAPIKeyError",lj=`vercel.ai.error.${oj}`,JS=Symbol.for(lj),gj,Li=class extends _i{constructor({message:i}){super({name:oj,message:i}),this[gj]=!0}static isInstance(i){return _i.hasMarker(i,lj)}};gj=JS;var ej="AI_NoSuchModelError",cj=`vercel.ai.error.${ej}`,zS=Symbol.for(cj),$j,h0=class extends _i{constructor({errorName:i=ej,modelId:n,modelType:r,message:u=`No such ${r}: ${n}`}){super({name:i,message:u}),this[$j]=!0,this.modelId=n,this.modelType=r}static isInstance(i){return _i.hasMarker(i,cj)}};$j=zS;var vj="AI_TooManyEmbeddingValuesForCallError",_j=`vercel.ai.error.${vj}`,qS=Symbol.for(_j),wj,hj=class extends _i{constructor(i){super({name:vj,message:`Too many values for a single embedding call. The ${i.provider} model "${i.modelId}" can only embed up to ${i.maxEmbeddingsPerCall} values per call, but ${i.values.length} values were provided.`}),this[wj]=!0,this.provider=i.provider,this.modelId=i.modelId,this.maxEmbeddingsPerCall=i.maxEmbeddingsPerCall,this.values=i.values}static isInstance(i){return _i.hasMarker(i,_j)}};wj=qS;var bj="AI_TypeValidationError",fj=`vercel.ai.error.${bj}`,HS=Symbol.for(fj),Uj,WS=class i extends _i{constructor({value:n,cause:r}){super({name:bj,message:`Type validation failed: Value: ${JSON.stringify(n)}.\nError message: ${xI(r)}`,cause:r}),this[Uj]=!0,this.value=n}static isInstance(n){return _i.hasMarker(n,fj)}static wrap({value:n,cause:r}){return i.isInstance(r)&&r.value===n?r:new i({value:n,cause:r})}};Uj=HS;var gi=WS,Oj="AI_UnsupportedFunctionalityError",Ij=`vercel.ai.error.${Oj}`,GS=Symbol.for(Ij),jj,vi=class extends _i{constructor({functionality:i,message:n=`\'${i}\' functionality not supported.`}){super({name:Oj,message:n}),this[jj]=!0,this.functionality=i}static isInstance(i){return _i.hasMarker(i,Ij)}};jj=GS;function LS(...i){return i.reduce((n,r)=>({...n,...r??{}}),{})}function Bg(i){return Object.fromEntries([...i.headers])}function XS(i=globalThis){return i.window?"runtime/browser":i.navigator?.userAgent?`runtime/${i.navigator.userAgent.toLowerCase()}`:i.process?.versions?.node?`runtime/node.js/${i.process.version.substring(0)}`:i.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function SS(i){return Object.fromEntries(Object.entries(i).filter(([n,r])=>r!=null))}function Dj(i,...n){let r=SS(i??{}),u=new Headers(r),t=u.get("user-agent")||"";return u.set("user-agent",[t,...n].filter(Boolean).join(" ")),Object.fromEntries(u)}var Nj=(({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new An({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`})();function b0(i){return(i instanceof Error||i instanceof DOMException)&&(i.name==="AbortError"||i.name==="ResponseAborted"||i.name==="TimeoutError")}var mS=["fetch failed","failed to fetch"];function YS({error:i,url:n,requestBodyValues:r}){if(b0(i))return i;if(i instanceof TypeError&&mS.includes(i.message.toLowerCase())){let u=i.cause;if(u!=null)return new T({message:`Cannot connect to API: ${u.message}`,cause:u,url:n,requestBodyValues:r,isRetryable:!0})}return i}var QS="3.0.10";function BS({apiKey:i,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:u}){if(typeof i=="string")return i;if(i!=null)throw new Li({message:`${u} API key must be a string.`});if(typeof process>"u")throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter. Environment variables is not supported in this environment.`});if(i=process.env[n],i==null)throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter or the ${n} environment variable.`});if(typeof i!="string")throw new Li({message:`${u} API key must be a string. The value of the ${n} environment variable is not a string.`});return i}var AS=/"__proto__"\\s*:/,VS=/"constructor"\\s*:/;function KS(i){let n=JSON.parse(i);return typeof n!="object"||!n||AS.test(i)===!1&&VS.test(i)===!1?n:yS(n)}function yS(i){let n=[i];for(;n.length;){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__")||Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];o&&typeof o=="object"&&n.push(o)}}}return i}function Ej(i){let{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return KS(i)}finally{Error.stackTraceLimit=n}}var f0=Symbol.for("vercel.ai.validator");function MS(i){return{[f0]:!0,validate:i}}function kS(i){return typeof i=="object"&&!!i&&f0 in i&&i[f0]===!0&&"validate"in i}function FS(i){return kS(i)?i:TS(i)}function TS(i){return MS(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new gi({value:n,cause:r.issues})}})}async function PS({value:i,schema:n}){let r=await z0({value:i,schema:n});if(!r.success)throw gi.wrap({value:i,cause:r.error});return r.value}async function z0({value:i,schema:n}){let r=FS(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);return u.success?{success:!0,value:u.value,rawValue:i}:{success:!1,error:gi.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:gi.wrap({value:i,cause:u}),rawValue:i}}}async function xS({text:i,schema:n}){try{let r=Ej(i);return n==null?r:PS({value:r,schema:n})}catch(r){throw Ui.isInstance(r)||gi.isInstance(r)?r:new Ui({text:i,cause:r})}}async function Jj({text:i,schema:n}){try{let r=Ej(i);return n==null?{success:!0,value:r,rawValue:r}:await z0({value:r,schema:n})}catch(r){return{success:!1,error:Ui.isInstance(r)?r:new Ui({text:i,cause:r}),rawValue:void 0}}}function CS({stream:i,schema:n}){return i.pipeThrough(new TextDecoderStream).pipeThrough(new Yg).pipeThrough(new TransformStream({async transform({data:r},u){r!=="[DONE]"&&u.enqueue(await Jj({text:r,schema:n}))}}))}async function Gg({provider:i,providerOptions:n,schema:r}){if(n?.[i]==null)return;let u=await z0({value:n[i],schema:r});if(!u.success)throw new An({argument:"providerOptions",message:`invalid ${i} provider options`,cause:u.error});return u.value}var RS=()=>globalThis.fetch,hI=async({url:i,headers:n,body:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>dS({url:i,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),dS=async({url:i,headers:n={},body:r,successfulResponseHandler:u,failedResponseHandler:t,abortSignal:o,fetch:l=RS()})=>{try{let e=await l(i,{method:"POST",headers:Dj(n,`ai-sdk/provider-utils/${QS}`,XS()),body:r.content,signal:o}),c=Bg(e);if(!e.ok){let $;try{$=await t({response:e,url:i,requestBodyValues:r.values})}catch(v){throw b0(v)||T.isInstance(v)?v:new T({message:"Failed to process error response",cause:v,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}throw $.value}try{return await u({response:e,url:i,requestBodyValues:r.values})}catch($){throw $ instanceof Error&&(b0($)||T.isInstance($))?$:new T({message:"Failed to process successful response",cause:$,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}}catch(e){throw YS({error:e,url:i,requestBodyValues:r.values})}};function zj(i){return i}function ut({id:i,name:n,inputSchema:r}){return({execute:u,outputSchema:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>zj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:t,execute:u,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}function q0({id:i,name:n,inputSchema:r,outputSchema:u}){return({execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>zj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:u,execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}async function ZS(i){return typeof i=="function"&&(i=i()),Promise.resolve(i)}var aS=({errorSchema:i,errorToMessage:n,isRetryable:r})=>async({response:u,url:t,requestBodyValues:o})=>{let l=await u.text(),e=Bg(u);if(l.trim()==="")return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})};try{let c=await xS({text:l,schema:i});return{responseHeaders:e,value:new T({message:n(c),url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,data:c,isRetryable:r?.(u,c)})}}catch{return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})}}},pS=(i)=>async({response:n})=>{let r=Bg(n);if(n.body==null)throw new Qg({});return{responseHeaders:r,value:CS({stream:n.body,schema:i})}},sS=(i)=>async({response:n,url:r,requestBodyValues:u})=>{let t=await n.text(),o=await Jj({text:t,schema:i}),l=Bg(n);if(!o.success)throw new T({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:l,responseBody:t,url:r,requestBodyValues:u});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}},{btoa:i5,atob:E7}=globalThis;function n5(i){let n="";for(let r=0;r<i.length;r++)n+=String.fromCodePoint(i[r]);return i5(n)}function bI(i){return i instanceof Uint8Array?n5(i):i}function t5(i){return i?.replace(/\\/$/,"")}var r5="2.0.23",u5=g.object({type:g.literal("error"),error:g.object({type:g.string(),message:g.string()})}),fI=aS({errorSchema:u5,errorToMessage:(i)=>i.error.message}),UI=g.object({citations:g.object({enabled:g.boolean()}).optional(),title:g.string().optional(),context:g.string().optional()}),o5=g.object({sendReasoning:g.boolean().optional(),thinking:g.object({type:g.union([g.literal("enabled"),g.literal("disabled")]),budgetTokens:g.number().optional()}).optional(),disableParallelToolUse:g.boolean().optional(),cacheControl:g.object({type:g.literal("ephemeral"),ttl:g.union([g.literal("5m"),g.literal("1h")]).optional()}).optional()});function tt(i){let n=i?.anthropic;return n?.cacheControl??n?.cache_control}var l5=g.object({maxCharacters:g.number().optional()}),g5=ut({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:g.object({command:g.enum(["view","create","str_replace","insert"]),path:g.string(),file_text:g.string().optional(),insert_line:g.number().int().optional(),new_str:g.string().optional(),old_str:g.string().optional(),view_range:g.array(g.number().int()).optional()})}),e5=(i={})=>g5(i),c5=g.object({maxUses:g.number().optional(),allowedDomains:g.array(g.string()).optional(),blockedDomains:g.array(g.string()).optional(),userLocation:g.object({type:g.literal("approximate"),city:g.string().optional(),region:g.string().optional(),country:g.string().optional(),timezone:g.string().optional()}).optional()}),qj=g.array(g.object({url:g.string(),title:g.string(),pageAge:g.string().nullable(),encryptedContent:g.string(),type:g.literal("web_search_result")})),$5=q0({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:g.object({query:g.string()}),outputSchema:qj}),v5=(i={})=>$5(i),_5=g.object({maxUses:g.number().optional(),allowedDomains:g.array(g.string()).optional(),blockedDomains:g.array(g.string()).optional(),citations:g.object({enabled:g.boolean()}).optional(),maxContentTokens:g.number().optional()}),Hj=g.object({type:g.literal("web_fetch_result"),url:g.string(),content:g.object({type:g.literal("document"),title:g.string(),citations:g.object({enabled:g.boolean()}).optional(),source:g.union([g.object({type:g.literal("base64"),mediaType:g.literal("application/pdf"),data:g.string()}),g.object({type:g.literal("text"),mediaType:g.literal("text/plain"),data:g.string()})])}),retrievedAt:g.string().nullable()}),w5=q0({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:g.object({url:g.string()}),outputSchema:Hj}),h5=(i={})=>w5(i);function b5({tools:i,toolChoice:n,disableParallelToolUse:r}){i=i?.length?i:void 0;let u=[],t=new Set;if(i==null)return{tools:void 0,toolChoice:void 0,toolWarnings:u,betas:t};let o=[];for(let e of i)switch(e.type){case"function":{let c=tt(e.providerOptions);o.push({name:e.name,description:e.description,input_schema:e.inputSchema,cache_control:c});break}case"provider-defined":switch(e.id){case"anthropic.code_execution_20250522":t.add("code-execution-2025-05-22"),o.push({type:"code_execution_20250522",name:"code_execution"});break;case"anthropic.computer_20250124":t.add("computer-use-2025-01-24"),o.push({name:"computer",type:"computer_20250124",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.computer_20241022":t.add("computer-use-2024-10-22"),o.push({name:"computer",type:"computer_20241022",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.text_editor_20250124":t.add("computer-use-2025-01-24"),o.push({name:"str_replace_editor",type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":t.add("computer-use-2024-10-22"),o.push({name:"str_replace_editor",type:"text_editor_20241022"});break;case"anthropic.text_editor_20250429":t.add("computer-use-2025-01-24"),o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429"});break;case"anthropic.text_editor_20250728":{let c=l5.parse(e.args);o.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:c.maxCharacters});break}case"anthropic.bash_20250124":t.add("computer-use-2025-01-24"),o.push({name:"bash",type:"bash_20250124"});break;case"anthropic.bash_20241022":t.add("computer-use-2024-10-22"),o.push({name:"bash",type:"bash_20241022"});break;case"anthropic.web_fetch_20250910":{t.add("web-fetch-2025-09-10");let c=_5.parse(e.args);o.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:c.maxUses,allowed_domains:c.allowedDomains,blocked_domains:c.blockedDomains,citations:c.citations,max_content_tokens:c.maxContentTokens});break}case"anthropic.web_search_20250305":{let c=c5.parse(e.args);o.push({type:"web_search_20250305",name:"web_search",max_uses:c.maxUses,allowed_domains:c.allowedDomains,blocked_domains:c.blockedDomains,user_location:c.userLocation});break}default:u.push({type:"unsupported-tool",tool:e});break}break;default:u.push({type:"unsupported-tool",tool:e});break}if(n==null)return{tools:o,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:u,betas:t};let l=n.type;switch(l){case"auto":return{tools:o,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:u,betas:t};case"required":return{tools:o,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:u,betas:t};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:u,betas:t};case"tool":return{tools:o,toolChoice:{type:"tool",name:n.toolName,disable_parallel_tool_use:r},toolWarnings:u,betas:t};default:throw new vi({functionality:`tool choice type: ${l}`})}}var Wj=g.object({type:g.literal("code_execution_result"),stdout:g.string(),stderr:g.string(),return_code:g.number()}),f5=q0({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:g.object({code:g.string()}),outputSchema:Wj}),U5=(i={})=>f5(i);function O5(i){if(typeof i=="string")return Buffer.from(i,"base64").toString("utf-8");if(i instanceof Uint8Array)return new TextDecoder().decode(i);throw i instanceof URL?new vi({functionality:"URL-based text documents are not supported for citations"}):new vi({functionality:`unsupported data type for text documents: ${typeof i}`})}async function I5({prompt:i,sendReasoning:n,warnings:r}){let u=new Set,t=j5(i),o,l=[];async function e($){return(await Gg({provider:"anthropic",providerOptions:$,schema:UI}))?.citations?.enabled??!1}async function c($){let v=await Gg({provider:"anthropic",providerOptions:$,schema:UI});return{title:v?.title,context:v?.context}}for(let $=0;$<t.length;$++){let v=t[$],_=$===t.length-1,w=v.type;switch(w){case"system":if(o!=null)throw new vi({functionality:"Multiple system messages that are separated by user/assistant messages"});o=v.messages.map(({content:h,providerOptions:f})=>({type:"text",text:h,cache_control:tt(f)}));break;case"user":{let h=[];for(let f of v.messages){let{role:U,content:j}=f;switch(U){case"user":for(let q=0;q<j.length;q++){let D=j[q],O=q===j.length-1,b=tt(D.providerOptions)??(O?tt(f.providerOptions):void 0);switch(D.type){case"text":h.push({type:"text",text:D.text,cache_control:b});break;case"file":if(D.mediaType.startsWith("image/"))h.push({type:"image",source:D.data instanceof URL?{type:"url",url:D.data.toString()}:{type:"base64",media_type:D.mediaType==="image/*"?"image/jpeg":D.mediaType,data:bI(D.data)},cache_control:b});else if(D.mediaType==="application/pdf"){u.add("pdfs-2024-09-25");let I=await e(D.providerOptions),z=await c(D.providerOptions);h.push({type:"document",source:D.data instanceof URL?{type:"url",url:D.data.toString()}:{type:"base64",media_type:"application/pdf",data:bI(D.data)},title:z.title??D.filename,...z.context&&{context:z.context},...I&&{citations:{enabled:!0}},cache_control:b})}else if(D.mediaType==="text/plain"){let I=await e(D.providerOptions),z=await c(D.providerOptions);h.push({type:"document",source:D.data instanceof URL?{type:"url",url:D.data.toString()}:{type:"text",media_type:"text/plain",data:O5(D.data)},title:z.title??D.filename,...z.context&&{context:z.context},...I&&{citations:{enabled:!0}},cache_control:b})}else throw new vi({functionality:`media type: ${D.mediaType}`});break}}break;case"tool":for(let q=0;q<j.length;q++){let D=j[q],O=q===j.length-1,b=tt(D.providerOptions)??(O?tt(f.providerOptions):void 0),I=D.output,z;switch(I.type){case"content":z=I.value.map((Y)=>{switch(Y.type){case"text":return{type:"text",text:Y.text,cache_control:void 0};case"media":if(Y.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:Y.mediaType,data:Y.data},cache_control:void 0};throw new vi({functionality:`media type: ${Y.mediaType}`})}});break;case"text":case"error-text":z=I.value;break;case"json":case"error-json":default:z=JSON.stringify(I.value);break}h.push({type:"tool_result",tool_use_id:D.toolCallId,content:z,is_error:I.type==="error-text"||I.type==="error-json"?!0:void 0,cache_control:b})}break;default:throw Error(`Unsupported role: ${U}`)}}l.push({role:"user",content:h});break}case"assistant":{let h=[];for(let f=0;f<v.messages.length;f++){let U=v.messages[f],j=f===v.messages.length-1,{content:q}=U;for(let D=0;D<q.length;D++){let O=q[D],b=D===q.length-1,I=tt(O.providerOptions)??(b?tt(U.providerOptions):void 0);switch(O.type){case"text":h.push({type:"text",text:_&&j&&b?O.text.trim():O.text,cache_control:I});break;case"reasoning":if(n){let z=await Gg({provider:"anthropic",providerOptions:O.providerOptions,schema:z5});z==null?r.push({type:"other",message:"unsupported reasoning metadata"}):z.signature==null?z.redactedData==null?r.push({type:"other",message:"unsupported reasoning metadata"}):h.push({type:"redacted_thinking",data:z.redactedData,cache_control:I}):h.push({type:"thinking",thinking:O.text,signature:z.signature,cache_control:I})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":if(O.providerExecuted){O.toolName==="code_execution"||O.toolName==="web_fetch"||O.toolName==="web_search"?h.push({type:"server_tool_use",id:O.toolCallId,name:O.toolName,input:O.input,cache_control:I}):r.push({type:"other",message:`provider executed tool call for tool ${O.toolName} is not supported`});break}h.push({type:"tool_use",id:O.toolCallId,name:O.toolName,input:O.input,cache_control:I});break;case"tool-result":if(O.toolName==="code_execution"){let z=O.output;if(z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${z.type} for tool ${O.toolName} is not supported`});break}let Y=Wj.parse(z.value);h.push({type:"code_execution_tool_result",tool_use_id:O.toolCallId,content:{type:Y.type,stdout:Y.stdout,stderr:Y.stderr,return_code:Y.return_code},cache_control:I});break}if(O.toolName==="web_fetch"){let z=O.output;if(z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${z.type} for tool ${O.toolName} is not supported`});break}let Y=Hj.parse(z.value);h.push({type:"web_fetch_tool_result",tool_use_id:O.toolCallId,content:{type:"web_fetch_result",url:Y.url,retrieved_at:Y.retrievedAt,content:{type:"document",title:Y.content.title,citations:Y.content.citations,source:{type:Y.content.source.type,media_type:Y.content.source.mediaType,data:Y.content.source.data}}},cache_control:I});break}if(O.toolName==="web_search"){let z=O.output;if(z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${z.type} for tool ${O.toolName} is not supported`});break}let Y=qj.parse(z.value);h.push({type:"web_search_tool_result",tool_use_id:O.toolCallId,content:Y.map((E)=>({url:E.url,title:E.title,page_age:E.pageAge,encrypted_content:E.encryptedContent,type:E.type})),cache_control:I});break}r.push({type:"other",message:`provider executed tool result for tool ${O.toolName} is not supported`});break}}}l.push({role:"assistant",content:h});break}default:throw Error(`content type: ${w}`)}}return{prompt:{system:o,messages:l},betas:u}}function j5(i){let n=[],r;for(let u of i){let{role:t}=u;switch(t){case"system":r?.type!=="system"&&(r={type:"system",messages:[]},n.push(r)),r.messages.push(u);break;case"assistant":r?.type!=="assistant"&&(r={type:"assistant",messages:[]},n.push(r)),r.messages.push(u);break;case"user":r?.type!=="user"&&(r={type:"user",messages:[]},n.push(r)),r.messages.push(u);break;case"tool":r?.type!=="user"&&(r={type:"user",messages:[]},n.push(r)),r.messages.push(u);break;default:throw Error(`Unsupported role: ${t}`)}}return n}function OI({finishReason:i,isJsonResponseFromTool:n}){switch(i){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return n?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var Fu={webSearchResult:g.object({type:g.literal("web_search_result_location"),cited_text:g.string(),url:g.string(),title:g.string(),encrypted_index:g.string()}),pageLocation:g.object({type:g.literal("page_location"),cited_text:g.string(),document_index:g.number(),document_title:g.string().nullable(),start_page_number:g.number(),end_page_number:g.number()}),charLocation:g.object({type:g.literal("char_location"),cited_text:g.string(),document_index:g.number(),document_title:g.string().nullable(),start_char_index:g.number(),end_char_index:g.number()})},Gj=g.discriminatedUnion("type",[Fu.webSearchResult,Fu.pageLocation,Fu.charLocation]);g.discriminatedUnion("type",[Fu.pageLocation,Fu.charLocation]);function II(i,n,r,u){if(i.type==="page_location"||i.type==="char_location"){let t=D5(i,n,r);t&&u(t)}}function D5(i,n,r){let u=n[i.document_index];if(!u)return null;let t=i.type==="page_location"?{citedText:i.cited_text,startPageNumber:i.start_page_number,endPageNumber:i.end_page_number}:{citedText:i.cited_text,startCharIndex:i.start_char_index,endCharIndex:i.end_char_index};return{type:"source",sourceType:"document",id:r(),mediaType:u.mediaType,title:i.document_title??u.title,filename:u.filename,providerMetadata:{anthropic:t}}}var N5=class{constructor(i,n){this.specificationVersion="v2",this.modelId=i,this.config=n,this.generateId=n.generateId??Nj}supportsUrl(i){return i.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var i;return(i=this.config).supportedUrls?.call(i)??{}}async getArgs({prompt:i,maxOutputTokens:n=4096,temperature:r,topP:u,topK:t,frequencyPenalty:o,presencePenalty:l,stopSequences:e,responseFormat:c,seed:$,tools:v,toolChoice:_,providerOptions:w}){let h=[];o!=null&&h.push({type:"unsupported-setting",setting:"frequencyPenalty"}),l!=null&&h.push({type:"unsupported-setting",setting:"presencePenalty"}),$!=null&&h.push({type:"unsupported-setting",setting:"seed"}),c?.type==="json"&&(c.schema==null?h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):v!=null&&h.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let f=c?.type==="json"&&c.schema!=null?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:c.schema}:void 0,U=await Gg({provider:"anthropic",providerOptions:w,schema:o5}),{prompt:j,betas:q}=await I5({prompt:i,sendReasoning:U?.sendReasoning??!0,warnings:h}),D=U?.thinking?.type==="enabled",O=U?.thinking?.budgetTokens,b={model:this.modelId,max_tokens:n,temperature:r,top_k:t,top_p:u,stop_sequences:e,...D&&{thinking:{type:"enabled",budget_tokens:O}},system:j.system,messages:j.messages};if(D){if(O==null)throw new vi({functionality:"thinking requires a budget"});b.temperature!=null&&(b.temperature=void 0,h.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),t!=null&&(b.top_k=void 0,h.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),u!=null&&(b.top_p=void 0,h.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),b.max_tokens=n+O}let{tools:I,toolChoice:z,toolWarnings:Y,betas:E}=b5(f==null?{tools:v??[],toolChoice:_,disableParallelToolUse:U?.disableParallelToolUse}:{tools:[f],toolChoice:{type:"tool",toolName:f.name},disableParallelToolUse:!0});return{args:{...b,tools:I,tool_choice:z},warnings:[...h,...Y],betas:new Set([...q,...E]),usesJsonResponseTool:f!=null}}async getHeaders({betas:i,headers:n}){return LS(await ZS(this.config.headers),i.size>0?{"anthropic-beta":Array.from(i).join(",")}:{},n)}buildRequestUrl(i){var n;return(n=this.config).buildRequestUrl?.call(n,this.config.baseURL,i)??`${this.config.baseURL}/messages`}transformRequestBody(i){var n;return(n=this.config).transformRequestBody?.call(n,i)??i}extractCitationDocuments(i){return i.filter((n)=>n.role==="user").flatMap((n)=>n.content).filter((n)=>n.type!=="file"||n.mediaType!=="application/pdf"&&n.mediaType!=="text/plain"?!1:n.providerOptions?.anthropic?.citations?.enabled??!1).map((n)=>{let r=n;return{title:r.filename??"Untitled Document",filename:r.filename,mediaType:r.mediaType}})}async doGenerate(i){let{args:n,warnings:r,betas:u,usesJsonResponseTool:t}=await this.getArgs(i),o=this.extractCitationDocuments(i.prompt),{responseHeaders:l,value:e,rawValue:c}=await hI({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:u,headers:i.headers}),body:this.transformRequestBody(n),failedResponseHandler:fI,successfulResponseHandler:sS(E5),abortSignal:i.abortSignal,fetch:this.config.fetch}),$=[];for(let v of e.content)switch(v.type){case"text":if(!t&&($.push({type:"text",text:v.text}),v.citations))for(let _ of v.citations)II(_,o,this.generateId,(w)=>$.push(w));break;case"thinking":$.push({type:"reasoning",text:v.thinking,providerMetadata:{anthropic:{signature:v.signature}}});break;case"redacted_thinking":$.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:v.data}}});break;case"tool_use":$.push(t?{type:"text",text:JSON.stringify(v.input)}:{type:"tool-call",toolCallId:v.id,toolName:v.name,input:JSON.stringify(v.input)});break;case"server_tool_use":(v.name==="web_search"||v.name==="code_execution"||v.name==="web_fetch")&&$.push({type:"tool-call",toolCallId:v.id,toolName:v.name,input:JSON.stringify(v.input),providerExecuted:!0});break;case"web_fetch_tool_result":v.content.type==="web_fetch_result"?$.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:v.content.url,retrievedAt:v.content.retrieved_at,content:{type:v.content.content.type,title:v.content.content.title,citations:v.content.content.citations,source:{type:v.content.content.source.type,mediaType:v.content.content.source.media_type,data:v.content.content.source.data}}},providerExecuted:!0}):v.content.type==="web_fetch_tool_result_error"&&$.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:v.content.error_code},providerExecuted:!0});break;case"web_search_tool_result":if(Array.isArray(v.content)){$.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"web_search",result:v.content.map((_)=>({url:_.url,title:_.title,pageAge:_.page_age??null,encryptedContent:_.encrypted_content,type:_.type})),providerExecuted:!0});for(let _ of v.content)$.push({type:"source",sourceType:"url",id:this.generateId(),url:_.url,title:_.title,providerMetadata:{anthropic:{pageAge:_.page_age??null}}})}else $.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:v.content.error_code},providerExecuted:!0});break;case"code_execution_tool_result":v.content.type==="code_execution_result"?$.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"code_execution",result:{type:v.content.type,stdout:v.content.stdout,stderr:v.content.stderr,return_code:v.content.return_code},providerExecuted:!0}):v.content.type==="code_execution_tool_result_error"&&$.push({type:"tool-result",toolCallId:v.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:v.content.error_code},providerExecuted:!0});break}return{content:$,finishReason:OI({finishReason:e.stop_reason,isJsonResponseFromTool:t}),usage:{inputTokens:e.usage.input_tokens,outputTokens:e.usage.output_tokens,totalTokens:e.usage.input_tokens+e.usage.output_tokens,cachedInputTokens:e.usage.cache_read_input_tokens??void 0},request:{body:n},response:{id:e.id??void 0,modelId:e.model??void 0,headers:l,body:c},warnings:r,providerMetadata:{anthropic:{usage:e.usage,cacheCreationInputTokens:e.usage.cache_creation_input_tokens??null,stopSequence:e.stop_sequence??null}}}}async doStream(i){let{args:n,warnings:r,betas:u,usesJsonResponseTool:t}=await this.getArgs(i),o=this.extractCitationDocuments(i.prompt),l={...n,stream:!0},{responseHeaders:e,value:c}=await hI({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:u,headers:i.headers}),body:this.transformRequestBody(l),failedResponseHandler:fI,successfulResponseHandler:pS(J5),abortSignal:i.abortSignal,fetch:this.config.fetch}),$="unknown",v={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},_={},w,h=null,f=null,U,j=this.generateId;return{stream:c.pipeThrough(new TransformStream({start(q){q.enqueue({type:"stream-start",warnings:r})},transform(q,D){if(i.includeRawChunks&&D.enqueue({type:"raw",rawValue:q.rawValue}),!q.success){D.enqueue({type:"error",error:q.error});return}let O=q.value;switch(O.type){case"ping":return;case"content_block_start":{let b=O.content_block.type;switch(U=b,b){case"text":_[O.index]={type:"text"},D.enqueue({type:"text-start",id:String(O.index)});return;case"thinking":_[O.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(O.index)});return;case"redacted_thinking":_[O.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(O.index),providerMetadata:{anthropic:{redactedData:O.content_block.data}}});return;case"tool_use":_[O.index]=t?{type:"text"}:{type:"tool-call",toolCallId:O.content_block.id,toolName:O.content_block.name,input:""},D.enqueue(t?{type:"text-start",id:String(O.index)}:{type:"tool-input-start",id:O.content_block.id,toolName:O.content_block.name});return;case"server_tool_use":(O.content_block.name==="web_fetch"||O.content_block.name==="web_search"||O.content_block.name==="code_execution")&&(_[O.index]={type:"tool-call",toolCallId:O.content_block.id,toolName:O.content_block.name,input:"",providerExecuted:!0},D.enqueue({type:"tool-input-start",id:O.content_block.id,toolName:O.content_block.name,providerExecuted:!0}));return;case"web_fetch_tool_result":{let I=O.content_block;I.content.type==="web_fetch_result"?D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:I.content.url,retrievedAt:I.content.retrieved_at,content:{type:I.content.content.type,title:I.content.content.title,citations:I.content.content.citations,source:{type:I.content.content.source.type,mediaType:I.content.content.source.media_type,data:I.content.content.source.data}}}}):I.content.type==="web_fetch_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:I.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let I=O.content_block;if(Array.isArray(I.content)){D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"web_search",result:I.content.map((z)=>({url:z.url,title:z.title,pageAge:z.page_age??null,encryptedContent:z.encrypted_content,type:z.type})),providerExecuted:!0});for(let z of I.content)D.enqueue({type:"source",sourceType:"url",id:j(),url:z.url,title:z.title,providerMetadata:{anthropic:{pageAge:z.page_age??null}}})}else D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:I.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let I=O.content_block;I.content.type==="code_execution_result"?D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"code_execution",result:{type:I.content.type,stdout:I.content.stdout,stderr:I.content.stderr,return_code:I.content.return_code},providerExecuted:!0}):I.content.type==="code_execution_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:I.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:I.content.error_code},providerExecuted:!0});return}default:throw Error(`Unsupported content block type: ${b}`)}}case"content_block_stop":if(_[O.index]!=null){let b=_[O.index];switch(b.type){case"text":D.enqueue({type:"text-end",id:String(O.index)});break;case"reasoning":D.enqueue({type:"reasoning-end",id:String(O.index)});break;case"tool-call":t||(D.enqueue({type:"tool-input-end",id:b.toolCallId}),D.enqueue(b));break}delete _[O.index]}U=void 0;return;case"content_block_delta":{let b=O.delta.type;switch(b){case"text_delta":if(t)return;D.enqueue({type:"text-delta",id:String(O.index),delta:O.delta.text});return;case"thinking_delta":D.enqueue({type:"reasoning-delta",id:String(O.index),delta:O.delta.thinking});return;case"signature_delta":U==="thinking"&&D.enqueue({type:"reasoning-delta",id:String(O.index),delta:"",providerMetadata:{anthropic:{signature:O.delta.signature}}});return;case"input_json_delta":{let I=_[O.index],z=O.delta.partial_json;if(t){if(I?.type!=="text")return;D.enqueue({type:"text-delta",id:String(O.index),delta:z})}else{if(I?.type!=="tool-call")return;D.enqueue({type:"tool-input-delta",id:I.toolCallId,delta:z}),I.input+=z}return}case"citations_delta":{let I=O.delta.citation;II(I,o,j,(z)=>D.enqueue(z));return}default:throw Error(`Unsupported delta type: ${b}`)}}case"message_start":v.inputTokens=O.message.usage.input_tokens,v.cachedInputTokens=O.message.usage.cache_read_input_tokens??void 0,w={...O.message.usage},h=O.message.usage.cache_creation_input_tokens??null,D.enqueue({type:"response-metadata",id:O.message.id??void 0,modelId:O.message.model??void 0});return;case"message_delta":v.outputTokens=O.usage.output_tokens,v.totalTokens=(v.inputTokens??0)+(O.usage.output_tokens??0),$=OI({finishReason:O.delta.stop_reason,isJsonResponseFromTool:t}),f=O.delta.stop_sequence??null,w={...w,...O.usage};return;case"message_stop":D.enqueue({type:"finish",finishReason:$,usage:v,providerMetadata:{anthropic:{usage:w??null,cacheCreationInputTokens:h,stopSequence:f}}});return;case"error":D.enqueue({type:"error",error:O.error});return;default:throw Error(`Unsupported chunk type: ${O}`)}}})),request:{body:l},response:{headers:e}}}},E5=g.object({type:g.literal("message"),id:g.string().nullish(),model:g.string().nullish(),content:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("text"),text:g.string(),citations:g.array(Gj).optional()}),g.object({type:g.literal("thinking"),thinking:g.string(),signature:g.string()}),g.object({type:g.literal("redacted_thinking"),data:g.string()}),g.object({type:g.literal("tool_use"),id:g.string(),name:g.string(),input:g.unknown()}),g.object({type:g.literal("server_tool_use"),id:g.string(),name:g.string(),input:g.record(g.string(),g.unknown()).nullish()}),g.object({type:g.literal("web_fetch_tool_result"),tool_use_id:g.string(),content:g.union([g.object({type:g.literal("web_fetch_result"),url:g.string(),retrieved_at:g.string(),content:g.object({type:g.literal("document"),title:g.string().nullable(),citations:g.object({enabled:g.boolean()}).optional(),source:g.object({type:g.literal("text"),media_type:g.string(),data:g.string()})})}),g.object({type:g.literal("web_fetch_tool_result_error"),error_code:g.string()})])}),g.object({type:g.literal("web_search_tool_result"),tool_use_id:g.string(),content:g.union([g.array(g.object({type:g.literal("web_search_result"),url:g.string(),title:g.string(),encrypted_content:g.string(),page_age:g.string().nullish()})),g.object({type:g.literal("web_search_tool_result_error"),error_code:g.string()})])}),g.object({type:g.literal("code_execution_tool_result"),tool_use_id:g.string(),content:g.union([g.object({type:g.literal("code_execution_result"),stdout:g.string(),stderr:g.string(),return_code:g.number()}),g.object({type:g.literal("code_execution_tool_result_error"),error_code:g.string()})])})])),stop_reason:g.string().nullish(),stop_sequence:g.string().nullish(),usage:g.looseObject({input_tokens:g.number(),output_tokens:g.number(),cache_creation_input_tokens:g.number().nullish(),cache_read_input_tokens:g.number().nullish()})}),J5=g.discriminatedUnion("type",[g.object({type:g.literal("message_start"),message:g.object({id:g.string().nullish(),model:g.string().nullish(),usage:g.looseObject({input_tokens:g.number(),cache_creation_input_tokens:g.number().nullish(),cache_read_input_tokens:g.number().nullish()})})}),g.object({type:g.literal("content_block_start"),index:g.number(),content_block:g.discriminatedUnion("type",[g.object({type:g.literal("text"),text:g.string()}),g.object({type:g.literal("thinking"),thinking:g.string()}),g.object({type:g.literal("tool_use"),id:g.string(),name:g.string()}),g.object({type:g.literal("redacted_thinking"),data:g.string()}),g.object({type:g.literal("server_tool_use"),id:g.string(),name:g.string(),input:g.record(g.string(),g.unknown()).nullish()}),g.object({type:g.literal("web_fetch_tool_result"),tool_use_id:g.string(),content:g.union([g.object({type:g.literal("web_fetch_result"),url:g.string(),retrieved_at:g.string(),content:g.object({type:g.literal("document"),title:g.string().nullable(),citations:g.object({enabled:g.boolean()}).optional(),source:g.object({type:g.literal("text"),media_type:g.string(),data:g.string()})})}),g.object({type:g.literal("web_fetch_tool_result_error"),error_code:g.string()})])}),g.object({type:g.literal("web_search_tool_result"),tool_use_id:g.string(),content:g.union([g.array(g.object({type:g.literal("web_search_result"),url:g.string(),title:g.string(),encrypted_content:g.string(),page_age:g.string().nullish()})),g.object({type:g.literal("web_search_tool_result_error"),error_code:g.string()})])}),g.object({type:g.literal("code_execution_tool_result"),tool_use_id:g.string(),content:g.union([g.object({type:g.literal("code_execution_result"),stdout:g.string(),stderr:g.string(),return_code:g.number()}),g.object({type:g.literal("code_execution_tool_result_error"),error_code:g.string()})])})])}),g.object({type:g.literal("content_block_delta"),index:g.number(),delta:g.discriminatedUnion("type",[g.object({type:g.literal("input_json_delta"),partial_json:g.string()}),g.object({type:g.literal("text_delta"),text:g.string()}),g.object({type:g.literal("thinking_delta"),thinking:g.string()}),g.object({type:g.literal("signature_delta"),signature:g.string()}),g.object({type:g.literal("citations_delta"),citation:Gj})])}),g.object({type:g.literal("content_block_stop"),index:g.number()}),g.object({type:g.literal("error"),error:g.object({type:g.string(),message:g.string()})}),g.object({type:g.literal("message_delta"),delta:g.object({stop_reason:g.string().nullish(),stop_sequence:g.string().nullish()}),usage:g.looseObject({output_tokens:g.number(),cache_creation_input_tokens:g.number().nullish()})}),g.object({type:g.literal("message_stop")}),g.object({type:g.literal("ping")})]),z5=g.object({signature:g.string().optional(),redactedData:g.string().optional()}),q5=ut({id:"anthropic.bash_20241022",name:"bash",inputSchema:zt.object({command:zt.string(),restart:zt.boolean().optional()})}),H5=ut({id:"anthropic.bash_20250124",name:"bash",inputSchema:zt.object({command:zt.string(),restart:zt.boolean().optional()})}),W5=ut({id:"anthropic.computer_20241022",name:"computer",inputSchema:g.object({action:g.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:g.array(g.number().int()).optional(),text:g.string().optional()})}),G5=ut({id:"anthropic.computer_20250124",name:"computer",inputSchema:g.object({action:g.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:g.tuple([g.number().int(),g.number().int()]).optional(),duration:g.number().optional(),scroll_amount:g.number().optional(),scroll_direction:g.enum(["up","down","left","right"]).optional(),start_coordinate:g.tuple([g.number().int(),g.number().int()]).optional(),text:g.string().optional()})}),L5=ut({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:g.object({command:g.enum(["view","create","str_replace","insert","undo_edit"]),path:g.string(),file_text:g.string().optional(),insert_line:g.number().int().optional(),new_str:g.string().optional(),old_str:g.string().optional(),view_range:g.array(g.number().int()).optional()})}),X5=ut({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:g.object({command:g.enum(["view","create","str_replace","insert","undo_edit"]),path:g.string(),file_text:g.string().optional(),insert_line:g.number().int().optional(),new_str:g.string().optional(),old_str:g.string().optional(),view_range:g.array(g.number().int()).optional()})}),S5=ut({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:g.object({command:g.enum(["view","create","str_replace","insert"]),path:g.string(),file_text:g.string().optional(),insert_line:g.number().int().optional(),new_str:g.string().optional(),old_str:g.string().optional(),view_range:g.array(g.number().int()).optional()})}),m5={bash_20241022:q5,bash_20250124:H5,codeExecution_20250522:U5,computer_20241022:W5,computer_20250124:G5,textEditor_20241022:L5,textEditor_20250124:X5,textEditor_20250429:S5,textEditor_20250728:e5,webFetch_20250910:h5,webSearch_20250305:v5};function Y5(i={}){let n=t5(i.baseURL)??"https://api.anthropic.com/v1",r=()=>Dj({"anthropic-version":"2023-06-01","x-api-key":BS({apiKey:i.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...i.headers},`ai-sdk/anthropic/${r5}`),u=(o)=>new N5(o,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:i.fetch,generateId:i.generateId??Nj,supportedUrls:()=>({"image/*":[/^https?:\\/\\/.*$/]})}),t=function(o){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return u(o)};return t.languageModel=u,t.chat=u,t.messages=u,t.textEmbeddingModel=(o)=>{throw new h0({modelId:o,modelType:"textEmbeddingModel"})},t.imageModel=(o)=>{throw new h0({modelId:o,modelType:"imageModel"})},t.tools=m5,t}Y5();function Lg(...i){return i.reduce((n,r)=>({...n,...r??{}}),{})}function Ag(i){return Object.fromEntries([...i.headers])}function Q5(i=globalThis){return i.window?"runtime/browser":i.navigator?.userAgent?`runtime/${i.navigator.userAgent.toLowerCase()}`:i.process?.versions?.node?`runtime/node.js/${i.process.version.substring(0)}`:i.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function B5(i){return Object.fromEntries(Object.entries(i).filter(([n,r])=>r!=null))}function Lj(i,...n){let r=B5(i??{}),u=new Headers(r),t=u.get("user-agent")||"";return u.set("user-agent",[t,...n].filter(Boolean).join(" ")),Object.fromEntries(u)}var Xj=(({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new An({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`})();function U0(i){return(i instanceof Error||i instanceof DOMException)&&(i.name==="AbortError"||i.name==="ResponseAborted"||i.name==="TimeoutError")}var A5=["fetch failed","failed to fetch"];function V5({error:i,url:n,requestBodyValues:r}){if(U0(i))return i;if(i instanceof TypeError&&A5.includes(i.message.toLowerCase())){let u=i.cause;if(u!=null)return new T({message:`Cannot connect to API: ${u.message}`,cause:u,url:n,requestBodyValues:r,isRetryable:!0})}return i}var K5="3.0.10";function y5({apiKey:i,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:u}){if(typeof i=="string")return i;if(i!=null)throw new Li({message:`${u} API key must be a string.`});if(typeof process>"u")throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter. Environment variables is not supported in this environment.`});if(i=process.env[n],i==null)throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter or the ${n} environment variable.`});if(typeof i!="string")throw new Li({message:`${u} API key must be a string. The value of the ${n} environment variable is not a string.`});return i}var M5=/"__proto__"\\s*:/,k5=/"constructor"\\s*:/;function F5(i){let n=JSON.parse(i);return typeof n!="object"||!n||M5.test(i)===!1&&k5.test(i)===!1?n:T5(n)}function T5(i){let n=[i];for(;n.length;){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__")||Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];o&&typeof o=="object"&&n.push(o)}}}return i}function Sj(i){let{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return F5(i)}finally{Error.stackTraceLimit=n}}var O0=Symbol.for("vercel.ai.validator");function P5(i){return{[O0]:!0,validate:i}}function x5(i){return typeof i=="object"&&!!i&&O0 in i&&i[O0]===!0&&"validate"in i}function C5(i){return x5(i)?i:R5(i)}function R5(i){return P5(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new gi({value:n,cause:r.issues})}})}async function d5({value:i,schema:n}){let r=await H0({value:i,schema:n});if(!r.success)throw gi.wrap({value:i,cause:r.error});return r.value}async function H0({value:i,schema:n}){let r=C5(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);return u.success?{success:!0,value:u.value,rawValue:i}:{success:!1,error:gi.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:gi.wrap({value:i,cause:u}),rawValue:i}}}async function Z5({text:i,schema:n}){try{let r=Sj(i);return n==null?r:d5({value:r,schema:n})}catch(r){throw Ui.isInstance(r)||gi.isInstance(r)?r:new Ui({text:i,cause:r})}}async function mj({text:i,schema:n}){try{let r=Sj(i);return n==null?{success:!0,value:r,rawValue:r}:await H0({value:r,schema:n})}catch(r){return{success:!1,error:Ui.isInstance(r)?r:new Ui({text:i,cause:r}),rawValue:void 0}}}function a5({stream:i,schema:n}){return i.pipeThrough(new TextDecoderStream).pipeThrough(new Yg).pipeThrough(new TransformStream({async transform({data:r},u){r!=="[DONE]"&&u.enqueue(await mj({text:r,schema:n}))}}))}async function W0({provider:i,providerOptions:n,schema:r}){if(n?.[i]==null)return;let u=await H0({value:n[i],schema:r});if(!u.success)throw new An({argument:"providerOptions",message:`invalid ${i} provider options`,cause:u.error});return u.value}var p5=()=>globalThis.fetch,Tu=async({url:i,headers:n,body:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>s5({url:i,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),s5=async({url:i,headers:n={},body:r,successfulResponseHandler:u,failedResponseHandler:t,abortSignal:o,fetch:l=p5()})=>{try{let e=await l(i,{method:"POST",headers:Lj(n,`ai-sdk/provider-utils/${K5}`,Q5()),body:r.content,signal:o}),c=Ag(e);if(!e.ok){let $;try{$=await t({response:e,url:i,requestBodyValues:r.values})}catch(v){throw U0(v)||T.isInstance(v)?v:new T({message:"Failed to process error response",cause:v,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}throw $.value}try{return await u({response:e,url:i,requestBodyValues:r.values})}catch($){throw $ instanceof Error&&(U0($)||T.isInstance($))?$:new T({message:"Failed to process successful response",cause:$,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}}catch(e){throw V5({error:e,url:i,requestBodyValues:r.values})}};function Yj(i){return i}function Qj({id:i,name:n,inputSchema:r}){return({execute:u,outputSchema:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>Yj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:t,execute:u,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}function im({id:i,name:n,inputSchema:r,outputSchema:u}){return({execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>Yj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:u,execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}async function Xg(i){return typeof i=="function"&&(i=i()),Promise.resolve(i)}var nm=({errorSchema:i,errorToMessage:n,isRetryable:r})=>async({response:u,url:t,requestBodyValues:o})=>{let l=await u.text(),e=Ag(u);if(l.trim()==="")return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})};try{let c=await Z5({text:l,schema:i});return{responseHeaders:e,value:new T({message:n(c),url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,data:c,isRetryable:r?.(u,c)})}}catch{return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})}}},tm=(i)=>async({response:n})=>{let r=Ag(n);if(n.body==null)throw new Qg({});return{responseHeaders:r,value:a5({stream:n.body,schema:i})}},Sg=(i)=>async({response:n,url:r,requestBodyValues:u})=>{let t=await n.text(),o=await mj({text:t,schema:i}),l=Ag(n);if(!o.success)throw new T({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:l,responseBody:t,url:r,requestBodyValues:u});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}},{btoa:rm,atob:J7}=globalThis;function um(i){let n="";for(let r=0;r<i.length;r++)n+=String.fromCodePoint(i[r]);return rm(n)}function jI(i){return i instanceof Uint8Array?um(i):i}function om(i){return i?.replace(/\\/$/,"")}var lm="2.0.17",gm=g.object({error:g.object({code:g.number().nullable(),message:g.string(),status:g.string()})}),Pu=nm({errorSchema:gm,errorToMessage:(i)=>i.error.message}),em=g.object({outputDimensionality:g.number().optional(),taskType:g.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}),cm=class{constructor(i,n){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=i,this.config=n}get provider(){return this.config.provider}async doEmbed({values:i,headers:n,abortSignal:r,providerOptions:u}){let t=await W0({provider:"google",providerOptions:u,schema:em});if(i.length>this.maxEmbeddingsPerCall)throw new hj({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:i});let o=Lg(await Xg(this.config.headers),n);if(i.length===1){let{responseHeaders:$,value:v,rawValue:_}=await Tu({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:o,body:{model:`models/${this.modelId}`,content:{parts:[{text:i[0]}]},outputDimensionality:t?.outputDimensionality,taskType:t?.taskType},failedResponseHandler:Pu,successfulResponseHandler:Sg(vm),abortSignal:r,fetch:this.config.fetch});return{embeddings:[v.embedding.values],usage:void 0,response:{headers:$,body:_}}}let{responseHeaders:l,value:e,rawValue:c}=await Tu({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:o,body:{requests:i.map(($)=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:$}]},outputDimensionality:t?.outputDimensionality,taskType:t?.taskType}))},failedResponseHandler:Pu,successfulResponseHandler:Sg($m),abortSignal:r,fetch:this.config.fetch});return{embeddings:e.embeddings.map(($)=>$.values),usage:void 0,response:{headers:l,body:c}}}},$m=g.object({embeddings:g.array(g.object({values:g.array(g.number())}))}),vm=g.object({embedding:g.object({values:g.array(g.number())})});function On(i){if(i==null||_m(i))return;if(typeof i=="boolean")return{type:"boolean",properties:{}};let{type:n,description:r,required:u,properties:t,items:o,allOf:l,anyOf:e,oneOf:c,format:$,const:v,minLength:_,enum:w}=i,h={};if(r&&(h.description=r),u&&(h.required=u),$&&(h.format=$),v!==void 0&&(h.enum=[v]),n&&(Array.isArray(n)?n.includes("null")?(h.type=n.filter((f)=>f!=="null")[0],h.nullable=!0):h.type=n:n==="null"?h.type="null":h.type=n),w!==void 0&&(h.enum=w),t!=null&&(h.properties=Object.entries(t).reduce((f,[U,j])=>(f[U]=On(j),f),{})),o&&(h.items=Array.isArray(o)?o.map(On):On(o)),l&&(h.allOf=l.map(On)),e)if(e.some((f)=>typeof f=="object"&&f?.type==="null")){let f=e.filter((U)=>!(typeof U=="object"&&U?.type==="null"));if(f.length===1){let U=On(f[0]);typeof U=="object"&&(h.nullable=!0,Object.assign(h,U))}else h.anyOf=f.map(On),h.nullable=!0}else h.anyOf=e.map(On);return c&&(h.oneOf=c.map(On)),_!==void 0&&(h.minLength=_),h}function _m(i){return typeof i=="object"&&!!i&&i.type==="object"&&(i.properties==null||Object.keys(i.properties).length===0)&&!i.additionalProperties}function wm(i,n){let r=[],u=[],t=!0,o=n?.isGemmaModel??!1;for(let{role:l,content:e}of i)switch(l){case"system":if(!t)throw new vi({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:e});break;case"user":{t=!1;let c=[];for(let $ of e)switch($.type){case"text":c.push({text:$.text});break;case"file":{let v=$.mediaType==="image/*"?"image/jpeg":$.mediaType;c.push($.data instanceof URL?{fileData:{mimeType:v,fileUri:$.data.toString()}}:{inlineData:{mimeType:v,data:jI($.data)}});break}}u.push({role:"user",parts:c});break}case"assistant":t=!1,u.push({role:"model",parts:e.map((c)=>{switch(c.type){case"text":return c.text.length===0?void 0:{text:c.text,thoughtSignature:c.providerOptions?.google?.thoughtSignature};case"reasoning":return c.text.length===0?void 0:{text:c.text,thought:!0,thoughtSignature:c.providerOptions?.google?.thoughtSignature};case"file":if(c.mediaType!=="image/png")throw new vi({functionality:"Only PNG images are supported in assistant messages"});if(c.data instanceof URL)throw new vi({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:c.mediaType,data:jI(c.data)}};case"tool-call":return{functionCall:{name:c.toolName,args:c.input},thoughtSignature:c.providerOptions?.google?.thoughtSignature}}}).filter((c)=>c!==void 0)});break;case"tool":{t=!1;let c=[];for(let $ of e){let v=$.output;if(v.type==="content")for(let _ of v.value)switch(_.type){case"text":c.push({functionResponse:{name:$.toolName,response:{name:$.toolName,content:_.text}}});break;case"media":c.push({inlineData:{mimeType:_.mediaType,data:_.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:c.push({text:JSON.stringify(_)});break}else c.push({functionResponse:{name:$.toolName,response:{name:$.toolName,content:v.value}}})}u.push({role:"user",parts:c});break}}if(o&&r.length>0&&u.length>0&&u[0].role==="user"){let l=r.map((e)=>e.text).join(`\n\n`);u[0].parts.unshift({text:l+`\n\n`})}return{systemInstruction:r.length>0&&!o?{parts:r}:void 0,contents:u}}function DI(i){return i.includes("/")?i:`models/${i}`}var hm=g.object({responseModalities:g.array(g.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:g.object({thinkingBudget:g.number().optional(),includeThoughts:g.boolean().optional()}).optional(),cachedContent:g.string().optional(),structuredOutputs:g.boolean().optional(),safetySettings:g.array(g.object({category:g.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:g.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:g.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:g.boolean().optional(),labels:g.record(g.string(),g.string()).optional()});function bm({tools:i,toolChoice:n,modelId:r}){i=i?.length?i:void 0;let u=[],t=r.includes("gemini-2"),o=r.includes("gemini-1.5-flash")&&!r.includes("-8b");if(i==null)return{tools:void 0,toolConfig:void 0,toolWarnings:u};let l=i.some((v)=>v.type==="function"),e=i.some((v)=>v.type==="provider-defined");if(l&&e&&u.push({type:"unsupported-tool",tool:i.find((v)=>v.type==="function"),details:"Cannot mix function tools with provider-defined tools in the same request. Please use either function tools or provider-defined tools, but not both."}),e){let v={};return i.filter((_)=>_.type==="provider-defined").forEach((_)=>{switch(_.id){case"google.google_search":t?v.googleSearch={}:o?v.googleSearchRetrieval={dynamicRetrievalConfig:{mode:_.args.mode,dynamicThreshold:_.args.dynamicThreshold}}:v.googleSearchRetrieval={};break;case"google.url_context":t?v.urlContext={}:u.push({type:"unsupported-tool",tool:_,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":t?v.codeExecution={}:u.push({type:"unsupported-tool",tool:_,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;default:u.push({type:"unsupported-tool",tool:_});break}}),{tools:Object.keys(v).length>0?v:void 0,toolConfig:void 0,toolWarnings:u}}let c=[];for(let v of i)switch(v.type){case"function":c.push({name:v.name,description:v.description??"",parameters:On(v.inputSchema)});break;default:u.push({type:"unsupported-tool",tool:v});break}if(n==null)return{tools:{functionDeclarations:c},toolConfig:void 0,toolWarnings:u};let $=n.type;switch($){case"auto":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:u};case"none":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:u};case"required":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:u};case"tool":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[n.toolName]}},toolWarnings:u};default:throw new vi({functionality:`tool choice type: ${$}`})}}function NI({finishReason:i,hasToolCalls:n}){switch(i){case"STOP":return n?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}var fm=g.object({web:g.object({uri:g.string(),title:g.string()}).nullish(),retrievedContext:g.object({uri:g.string(),title:g.string()}).nullish()}),Bj=g.object({webSearchQueries:g.array(g.string()).nullish(),retrievalQueries:g.array(g.string()).nullish(),searchEntryPoint:g.object({renderedContent:g.string()}).nullish(),groundingChunks:g.array(fm).nullish(),groundingSupports:g.array(g.object({segment:g.object({startIndex:g.number().nullish(),endIndex:g.number().nullish(),text:g.string().nullish()}),segment_text:g.string().nullish(),groundingChunkIndices:g.array(g.number()).nullish(),supportChunkIndices:g.array(g.number()).nullish(),confidenceScores:g.array(g.number()).nullish(),confidenceScore:g.array(g.number()).nullish()})).nullish(),retrievalMetadata:g.union([g.object({webDynamicRetrievalScore:g.number()}),g.object({})]).nullish()}),Um=Qj({id:"google.google_search",name:"google_search",inputSchema:g.object({mode:g.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:g.number().default(1)})}),Om=g.object({retrievedUrl:g.string(),urlRetrievalStatus:g.string()}),Aj=g.object({urlMetadata:g.array(Om)}),Im=Qj({id:"google.url_context",name:"url_context",inputSchema:g.object({})}),jm=class{constructor(i,n){this.specificationVersion="v2",this.modelId=i,this.config=n,this.generateId=n.generateId??Xj}get provider(){return this.config.provider}get supportedUrls(){var i;return(i=this.config).supportedUrls?.call(i)??{}}async getArgs({prompt:i,maxOutputTokens:n,temperature:r,topP:u,topK:t,frequencyPenalty:o,presencePenalty:l,stopSequences:e,responseFormat:c,seed:$,tools:v,toolChoice:_,providerOptions:w}){let h=[],f=await W0({provider:"google",providerOptions:w,schema:hm});f?.thinkingConfig?.includeThoughts===!0&&!this.config.provider.startsWith("google.vertex.")&&h.push({type:"other",message:`The \'includeThoughts\' option is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let U=this.modelId.toLowerCase().startsWith("gemma-"),{contents:j,systemInstruction:q}=wm(i,{isGemmaModel:U}),{tools:D,toolConfig:O,toolWarnings:b}=bm({tools:v,toolChoice:_,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:n,temperature:r,topK:t,topP:u,frequencyPenalty:o,presencePenalty:l,stopSequences:e,seed:$,responseMimeType:c?.type==="json"?"application/json":void 0,responseSchema:c?.type==="json"&&c.schema!=null&&(f?.structuredOutputs??!0)?On(c.schema):void 0,...f?.audioTimestamp&&{audioTimestamp:f.audioTimestamp},responseModalities:f?.responseModalities,thinkingConfig:f?.thinkingConfig},contents:j,systemInstruction:U?void 0:q,safetySettings:f?.safetySettings,tools:D,toolConfig:O,cachedContent:f?.cachedContent,labels:f?.labels},warnings:[...h,...b]}}async doGenerate(i){let{args:n,warnings:r}=await this.getArgs(i),u=JSON.stringify(n),t=Lg(await Xg(this.config.headers),i.headers),{responseHeaders:o,value:l,rawValue:e}=await Tu({url:`${this.config.baseURL}/${DI(this.modelId)}:generateContent`,headers:t,body:n,failedResponseHandler:Pu,successfulResponseHandler:Sg(Em),abortSignal:i.abortSignal,fetch:this.config.fetch}),c=l.candidates[0],$=[],v=c.content?.parts??[],_=l.usageMetadata,w;for(let f of v)if("executableCode"in f&&f.executableCode?.code){let U=this.config.generateId();w=U,$.push({type:"tool-call",toolCallId:U,toolName:"code_execution",input:JSON.stringify(f.executableCode),providerExecuted:!0})}else"codeExecutionResult"in f&&f.codeExecutionResult?($.push({type:"tool-result",toolCallId:w,toolName:"code_execution",result:{outcome:f.codeExecutionResult.outcome,output:f.codeExecutionResult.output},providerExecuted:!0}),w=void 0):("text"in f)&&f.text!=null&&f.text.length>0?$.push({type:f.thought===!0?"reasoning":"text",text:f.text,providerMetadata:f.thoughtSignature?{google:{thoughtSignature:f.thoughtSignature}}:void 0}):("functionCall"in f)?$.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:f.functionCall.name,input:JSON.stringify(f.functionCall.args),providerMetadata:f.thoughtSignature?{google:{thoughtSignature:f.thoughtSignature}}:void 0}):("inlineData"in f)&&$.push({type:"file",data:f.inlineData.data,mediaType:f.inlineData.mimeType});let h=EI({groundingMetadata:c.groundingMetadata,generateId:this.config.generateId})??[];for(let f of h)$.push(f);return{content:$,finishReason:NI({finishReason:c.finishReason,hasToolCalls:$.some((f)=>f.type==="tool-call")}),usage:{inputTokens:_?.promptTokenCount??void 0,outputTokens:_?.candidatesTokenCount??void 0,totalTokens:_?.totalTokenCount??void 0,reasoningTokens:_?.thoughtsTokenCount??void 0,cachedInputTokens:_?.cachedContentTokenCount??void 0},warnings:r,providerMetadata:{google:{promptFeedback:l.promptFeedback??null,groundingMetadata:c.groundingMetadata??null,urlContextMetadata:c.urlContextMetadata??null,safetyRatings:c.safetyRatings??null,usageMetadata:_??null}},request:{body:u},response:{headers:o,body:e}}}async doStream(i){let{args:n,warnings:r}=await this.getArgs(i),u=JSON.stringify(n),t=Lg(await Xg(this.config.headers),i.headers),{responseHeaders:o,value:l}=await Tu({url:`${this.config.baseURL}/${DI(this.modelId)}:streamGenerateContent?alt=sse`,headers:t,body:n,failedResponseHandler:Pu,successfulResponseHandler:tm(Jm),abortSignal:i.abortSignal,fetch:this.config.fetch}),e="unknown",c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},$,v=this.config.generateId,_=!1,w=null,h=null,f=0,U=new Set,j;return{stream:l.pipeThrough(new TransformStream({start(q){q.enqueue({type:"stream-start",warnings:r})},transform(q,D){if(i.includeRawChunks&&D.enqueue({type:"raw",rawValue:q.rawValue}),!q.success){D.enqueue({type:"error",error:q.error});return}let O=q.value,b=O.usageMetadata;b!=null&&(c.inputTokens=b.promptTokenCount??void 0,c.outputTokens=b.candidatesTokenCount??void 0,c.totalTokens=b.totalTokenCount??void 0,c.reasoningTokens=b.thoughtsTokenCount??void 0,c.cachedInputTokens=b.cachedContentTokenCount??void 0);let I=O.candidates?.[0];if(I==null)return;let z=I.content,Y=EI({groundingMetadata:I.groundingMetadata,generateId:v});if(Y!=null)for(let E of Y)E.sourceType==="url"&&!U.has(E.url)&&(U.add(E.url),D.enqueue(E));if(z!=null){let E=z.parts??[];for(let Q of E)if("executableCode"in Q&&Q.executableCode?.code){let M=v();j=M,D.enqueue({type:"tool-call",toolCallId:M,toolName:"code_execution",input:JSON.stringify(Q.executableCode),providerExecuted:!0}),_=!0}else if("codeExecutionResult"in Q&&Q.codeExecutionResult){let M=j;M&&(D.enqueue({type:"tool-result",toolCallId:M,toolName:"code_execution",result:{outcome:Q.codeExecutionResult.outcome,output:Q.codeExecutionResult.output},providerExecuted:!0}),j=void 0)}else"text"in Q&&Q.text!=null&&Q.text.length>0&&(Q.thought===!0?(w!==null&&(D.enqueue({type:"text-end",id:w}),w=null),h===null&&(h=String(f++),D.enqueue({type:"reasoning-start",id:h,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),D.enqueue({type:"reasoning-delta",id:h,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})):(h!==null&&(D.enqueue({type:"reasoning-end",id:h}),h=null),w===null&&(w=String(f++),D.enqueue({type:"text-start",id:w,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),D.enqueue({type:"text-delta",id:w,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})));let S=Nm(z.parts);if(S!=null)for(let Q of S)D.enqueue({type:"file",mediaType:Q.inlineData.mimeType,data:Q.inlineData.data});let K=Dm({parts:z.parts,generateId:v});if(K!=null)for(let Q of K)D.enqueue({type:"tool-input-start",id:Q.toolCallId,toolName:Q.toolName,providerMetadata:Q.providerMetadata}),D.enqueue({type:"tool-input-delta",id:Q.toolCallId,delta:Q.args,providerMetadata:Q.providerMetadata}),D.enqueue({type:"tool-input-end",id:Q.toolCallId,providerMetadata:Q.providerMetadata}),D.enqueue({type:"tool-call",toolCallId:Q.toolCallId,toolName:Q.toolName,input:Q.args,providerMetadata:Q.providerMetadata}),_=!0}I.finishReason!=null&&(e=NI({finishReason:I.finishReason,hasToolCalls:_}),$={google:{promptFeedback:O.promptFeedback??null,groundingMetadata:I.groundingMetadata??null,urlContextMetadata:I.urlContextMetadata??null,safetyRatings:I.safetyRatings??null}},b!=null&&($.google.usageMetadata=b))},flush(q){w!==null&&q.enqueue({type:"text-end",id:w}),h!==null&&q.enqueue({type:"reasoning-end",id:h}),q.enqueue({type:"finish",finishReason:e,usage:c,providerMetadata:$})}})),response:{headers:o},request:{body:u}}}};function Dm({parts:i,generateId:n}){let r=i?.filter((u)=>("functionCall"in u));return r==null||r.length===0?void 0:r.map((u)=>({type:"tool-call",toolCallId:n(),toolName:u.functionCall.name,args:JSON.stringify(u.functionCall.args),providerMetadata:u.thoughtSignature?{google:{thoughtSignature:u.thoughtSignature}}:void 0}))}function Nm(i){return i?.filter((n)=>("inlineData"in n))}function EI({groundingMetadata:i,generateId:n}){return i?.groundingChunks?.filter((r)=>r.web!=null).map((r)=>({type:"source",sourceType:"url",id:n(),url:r.web.uri,title:r.web.title}))}var Vj=g.object({parts:g.array(g.union([g.object({functionCall:g.object({name:g.string(),args:g.unknown()}),thoughtSignature:g.string().nullish()}),g.object({inlineData:g.object({mimeType:g.string(),data:g.string()})}),g.object({executableCode:g.object({language:g.string(),code:g.string()}).nullish(),codeExecutionResult:g.object({outcome:g.string(),output:g.string()}).nullish(),text:g.string().nullish(),thought:g.boolean().nullish(),thoughtSignature:g.string().nullish()})])).nullish()}),mg=g.object({category:g.string().nullish(),probability:g.string().nullish(),probabilityScore:g.number().nullish(),severity:g.string().nullish(),severityScore:g.number().nullish(),blocked:g.boolean().nullish()}),Kj=g.object({cachedContentTokenCount:g.number().nullish(),thoughtsTokenCount:g.number().nullish(),promptTokenCount:g.number().nullish(),candidatesTokenCount:g.number().nullish(),totalTokenCount:g.number().nullish()}),Em=g.object({candidates:g.array(g.object({content:Vj.nullish().or(g.object({}).strict()),finishReason:g.string().nullish(),safetyRatings:g.array(mg).nullish(),groundingMetadata:Bj.nullish(),urlContextMetadata:Aj.nullish()})),usageMetadata:Kj.nullish(),promptFeedback:g.object({blockReason:g.string().nullish(),safetyRatings:g.array(mg).nullish()}).nullish()}),Jm=g.object({candidates:g.array(g.object({content:Vj.nullish(),finishReason:g.string().nullish(),safetyRatings:g.array(mg).nullish(),groundingMetadata:Bj.nullish(),urlContextMetadata:Aj.nullish()})).nullish(),usageMetadata:Kj.nullish(),promptFeedback:g.object({blockReason:g.string().nullish(),safetyRatings:g.array(mg).nullish()}).nullish()}),zm=im({id:"google.code_execution",name:"code_execution",inputSchema:g.object({language:g.string().describe("The programming language of the code."),code:g.string().describe("The code to be executed.")}),outputSchema:g.object({outcome:g.string().describe(\'The outcome of the execution (e.g., "OUTCOME_OK").\'),output:g.string().describe("The output from the code execution.")})}),qm={googleSearch:Um,urlContext:Im,codeExecution:zm},Hm=class{constructor(i,n,r){this.modelId=i,this.settings=n,this.config=r,this.specificationVersion="v2"}get maxImagesPerCall(){return this.settings.maxImagesPerCall??4}get provider(){return this.config.provider}async doGenerate(i){var n;let{prompt:r,n:u=1,size:t="1024x1024",aspectRatio:o="1:1",seed:l,providerOptions:e,headers:c,abortSignal:$}=i,v=[];t!=null&&v.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),l!=null&&v.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let _=await W0({provider:"google",providerOptions:e,schema:Gm}),w=(n=this.config._internal)?.currentDate?.call(n)??new Date,h={sampleCount:u};o!=null&&(h.aspectRatio=o),_&&Object.assign(h,_);let f={instances:[{prompt:r}],parameters:h},{responseHeaders:U,value:j}=await Tu({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:Lg(await Xg(this.config.headers),c),body:f,failedResponseHandler:Pu,successfulResponseHandler:Sg(Wm),abortSignal:$,fetch:this.config.fetch});return{images:j.predictions.map((q)=>q.bytesBase64Encoded),warnings:v??[],providerMetadata:{google:{images:j.predictions.map((q)=>({}))}},response:{timestamp:w,modelId:this.modelId,headers:U}}}},Wm=g.object({predictions:g.array(g.object({bytesBase64Encoded:g.string()})).default([])}),Gm=g.object({personGeneration:g.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:g.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()});function Lm(i={}){let n=om(i.baseURL)??"https://generativelanguage.googleapis.com/v1beta",r=()=>Lj({"x-goog-api-key":y5({apiKey:i.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...i.headers},`ai-sdk/google/${lm}`),u=(e)=>new jm(e,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:i.generateId??Xj,supportedUrls:()=>({"*":[RegExp(`^${n}/files/.*$`),RegExp("^https://(?:www\\\\.)?youtube\\\\.com/watch\\\\?v=[\\\\w-]+(?:&[\\\\w=&.-]*)?$"),RegExp("^https://youtu\\\\.be/[\\\\w-]+(?:\\\\?[\\\\w=&.-]*)?$")]}),fetch:i.fetch}),t=(e)=>new cm(e,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:i.fetch}),o=(e,c={})=>new Hm(e,c,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:i.fetch}),l=function(e){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return u(e)};return l.languageModel=u,l.chat=u,l.generativeAI=u,l.embedding=t,l.textEmbedding=t,l.textEmbeddingModel=t,l.image=o,l.imageModel=o,l.tools=qm,l}Lm();function In(...i){return i.reduce((n,r)=>({...n,...r??{}}),{})}function xu(i){return Object.fromEntries([...i.headers])}function Xm(i=globalThis){return i.window?"runtime/browser":i.navigator?.userAgent?`runtime/${i.navigator.userAgent.toLowerCase()}`:i.process?.versions?.node?`runtime/node.js/${i.process.version.substring(0)}`:i.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Sm(i){return Object.fromEntries(Object.entries(i).filter(([n,r])=>r!=null))}function yj(i,...n){let r=Sm(i??{}),u=new Headers(r),t=u.get("user-agent")||"";return u.set("user-agent",[t,...n].filter(Boolean).join(" ")),Object.fromEntries(u)}var Qn=(({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new An({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`})();function I0(i){return(i instanceof Error||i instanceof DOMException)&&(i.name==="AbortError"||i.name==="ResponseAborted"||i.name==="TimeoutError")}var mm=["fetch failed","failed to fetch"];function Ym({error:i,url:n,requestBodyValues:r}){if(I0(i))return i;if(i instanceof TypeError&&mm.includes(i.message.toLowerCase())){let u=i.cause;if(u!=null)return new T({message:`Cannot connect to API: ${u.message}`,cause:u,url:n,requestBodyValues:r,isRetryable:!0})}return i}var Qm="3.0.10";function Bm({apiKey:i,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:u}){if(typeof i=="string")return i;if(i!=null)throw new Li({message:`${u} API key must be a string.`});if(typeof process>"u")throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter. Environment variables is not supported in this environment.`});if(i=process.env[n],i==null)throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter or the ${n} environment variable.`});if(typeof i!="string")throw new Li({message:`${u} API key must be a string. The value of the ${n} environment variable is not a string.`});return i}function Am({settingValue:i,environmentVariableName:n}){if(typeof i=="string"||!(i!=null||typeof process>"u")&&(i=process.env[n],!(i==null||typeof i!="string")))return i}function Vm(i){let[n,r=""]=i.toLowerCase().split("/");return{mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r]??r}var Km=/"__proto__"\\s*:/,ym=/"constructor"\\s*:/;function Mm(i){let n=JSON.parse(i);return typeof n!="object"||!n||Km.test(i)===!1&&ym.test(i)===!1?n:km(n)}function km(i){let n=[i];for(;n.length;){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__")||Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];o&&typeof o=="object"&&n.push(o)}}}return i}function G0(i){let{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return Mm(i)}finally{Error.stackTraceLimit=n}}var j0=Symbol.for("vercel.ai.validator");function Fm(i){return{[j0]:!0,validate:i}}function Tm(i){return typeof i=="object"&&!!i&&j0 in i&&i[j0]===!0&&"validate"in i}function Pm(i){return Tm(i)?i:xm(i)}function xm(i){return Fm(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new gi({value:n,cause:r.issues})}})}async function Cm({value:i,schema:n}){let r=await L0({value:i,schema:n});if(!r.success)throw gi.wrap({value:i,cause:r.error});return r.value}async function L0({value:i,schema:n}){let r=Pm(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);return u.success?{success:!0,value:u.value,rawValue:i}:{success:!1,error:gi.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:gi.wrap({value:i,cause:u}),rawValue:i}}}async function Rm({text:i,schema:n}){try{let r=G0(i);return n==null?r:Cm({value:r,schema:n})}catch(r){throw Ui.isInstance(r)||gi.isInstance(r)?r:new Ui({text:i,cause:r})}}async function Mj({text:i,schema:n}){try{let r=G0(i);return n==null?{success:!0,value:r,rawValue:r}:await L0({value:r,schema:n})}catch(r){return{success:!1,error:Ui.isInstance(r)?r:new Ui({text:i,cause:r}),rawValue:void 0}}}function JI(i){try{return G0(i),!0}catch{return!1}}function dm({stream:i,schema:n}){return i.pipeThrough(new TextDecoderStream).pipeThrough(new Yg).pipeThrough(new TransformStream({async transform({data:r},u){r!=="[DONE]"&&u.enqueue(await Mj({text:r,schema:n}))}}))}async function rt({provider:i,providerOptions:n,schema:r}){if(n?.[i]==null)return;let u=await L0({value:n[i],schema:r});if(!u.success)throw new An({argument:"providerOptions",message:`invalid ${i} provider options`,cause:u.error});return u.value}var Zm=()=>globalThis.fetch,Bn=async({url:i,headers:n,body:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>kj({url:i,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),am=async({url:i,headers:n,formData:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>kj({url:i,headers:n,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),kj=async({url:i,headers:n={},body:r,successfulResponseHandler:u,failedResponseHandler:t,abortSignal:o,fetch:l=Zm()})=>{try{let e=await l(i,{method:"POST",headers:yj(n,`ai-sdk/provider-utils/${Qm}`,Xm()),body:r.content,signal:o}),c=xu(e);if(!e.ok){let $;try{$=await t({response:e,url:i,requestBodyValues:r.values})}catch(v){throw I0(v)||T.isInstance(v)?v:new T({message:"Failed to process error response",cause:v,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}throw $.value}try{return await u({response:e,url:i,requestBodyValues:r.values})}catch($){throw $ instanceof Error&&(I0($)||T.isInstance($))?$:new T({message:"Failed to process successful response",cause:$,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}}catch(e){throw Ym({error:e,url:i,requestBodyValues:r.values})}};function Fj(i){return i}function Tj({id:i,name:n,inputSchema:r}){return({execute:u,outputSchema:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>Fj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:t,execute:u,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}function Vg({id:i,name:n,inputSchema:r,outputSchema:u}){return({execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c,...$})=>Fj({type:"provider-defined",id:i,name:n,args:$,inputSchema:r,outputSchema:u,execute:t,toModelOutput:o,onInputStart:l,onInputDelta:e,onInputAvailable:c})}var pm=({errorSchema:i,errorToMessage:n,isRetryable:r})=>async({response:u,url:t,requestBodyValues:o})=>{let l=await u.text(),e=xu(u);if(l.trim()==="")return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})};try{let c=await Rm({text:l,schema:i});return{responseHeaders:e,value:new T({message:n(c),url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,data:c,isRetryable:r?.(u,c)})}}catch{return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})}}},X0=(i)=>async({response:n})=>{let r=xu(n);if(n.body==null)throw new Qg({});return{responseHeaders:r,value:dm({stream:n.body,schema:i})}},zr=(i)=>async({response:n,url:r,requestBodyValues:u})=>{let t=await n.text(),o=await Mj({text:t,schema:i}),l=xu(n);if(!o.success)throw new T({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:l,responseBody:t,url:r,requestBodyValues:u});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}},sm=()=>async({response:i,url:n,requestBodyValues:r})=>{let u=xu(i);if(!i.body)throw new T({message:"Response body is empty",url:n,requestBodyValues:r,statusCode:i.status,responseHeaders:u,responseBody:void 0});try{let t=await i.arrayBuffer();return{responseHeaders:u,value:new Uint8Array(t)}}catch(t){throw new T({message:"Failed to read response as array buffer",url:n,requestBodyValues:r,statusCode:i.status,responseHeaders:u,responseBody:void 0,cause:t})}},{btoa:iY,atob:nY}=globalThis;function tY(i){let n=i.replace(/-/g,"+").replace(/_/g,"/"),r=nY(n);return Uint8Array.from(r,(u)=>u.codePointAt(0))}function rY(i){let n="";for(let r=0;r<i.length;r++)n+=String.fromCodePoint(i[r]);return iY(n)}function Jr(i){return i instanceof Uint8Array?rY(i):i}function uY(i){return i?.replace(/\\/$/,"")}var S0=g.object({error:g.object({message:g.string(),type:g.string().nullish(),param:g.any().nullish(),code:g.union([g.string(),g.number()]).nullish()})}),jn=pm({errorSchema:S0,errorToMessage:(i)=>i.error.message});function oY({prompt:i,systemMessageMode:n="system"}){let r=[],u=[];for(let{role:t,content:o}of i)switch(t){case"system":switch(n){case"system":r.push({role:"system",content:o});break;case"developer":r.push({role:"developer",content:o});break;case"remove":u.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${n}`)}break;case"user":if(o.length===1&&o[0].type==="text"){r.push({role:"user",content:o[0].text});break}r.push({role:"user",content:o.map((l,e)=>{switch(l.type){case"text":return{type:"text",text:l.text};case"file":if(l.mediaType.startsWith("image/")){let c=l.mediaType==="image/*"?"image/jpeg":l.mediaType;return{type:"image_url",image_url:{url:l.data instanceof URL?l.data.toString():`data:${c};base64,${Jr(l.data)}`,detail:l.providerOptions?.openai?.imageDetail}}}else if(l.mediaType.startsWith("audio/")){if(l.data instanceof URL)throw new vi({functionality:"audio file parts with URLs"});switch(l.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Jr(l.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Jr(l.data),format:"mp3"}};default:throw new vi({functionality:`audio content parts with media type ${l.mediaType}`})}}else if(l.mediaType==="application/pdf"){if(l.data instanceof URL)throw new vi({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof l.data=="string"&&l.data.startsWith("file-")?{file_id:l.data}:{filename:l.filename??`part-${e}.pdf`,file_data:`data:application/pdf;base64,${Jr(l.data)}`}}}else throw new vi({functionality:`file part media type ${l.mediaType}`})}})});break;case"assistant":{let l="",e=[];for(let c of o)switch(c.type){case"text":l+=c.text;break;case"tool-call":e.push({id:c.toolCallId,type:"function",function:{name:c.toolName,arguments:JSON.stringify(c.input)}});break}r.push({role:"assistant",content:l,tool_calls:e.length>0?e:void 0});break}case"tool":for(let l of o){let e=l.output,c;switch(e.type){case"text":case"error-text":c=e.value;break;case"content":case"json":case"error-json":c=JSON.stringify(e.value);break}r.push({role:"tool",tool_call_id:l.toolCallId,content:c})}break;default:throw Error(`Unsupported role: ${t}`)}return{messages:r,warnings:u}}function zI({id:i,model:n,created:r}){return{id:i??void 0,modelId:n??void 0,timestamp:r==null?void 0:new Date(r*1000)}}function qI(i){switch(i){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var lY=g.object({logitBias:g.record(g.coerce.number(),g.number()).optional(),logprobs:g.union([g.boolean(),g.number()]).optional(),parallelToolCalls:g.boolean().optional(),user:g.string().optional(),reasoningEffort:g.enum(["minimal","low","medium","high"]).optional(),maxCompletionTokens:g.number().optional(),store:g.boolean().optional(),metadata:g.record(g.string().max(64),g.string().max(512)).optional(),prediction:g.record(g.string(),g.any()).optional(),structuredOutputs:g.boolean().optional(),serviceTier:g.enum(["auto","flex","priority"]).optional(),strictJsonSchema:g.boolean().optional(),textVerbosity:g.enum(["low","medium","high"]).optional(),promptCacheKey:g.string().optional(),safetyIdentifier:g.string().optional()});function gY({tools:i,toolChoice:n,structuredOutputs:r,strictJsonSchema:u}){i=i?.length?i:void 0;let t=[];if(i==null)return{tools:void 0,toolChoice:void 0,toolWarnings:t};let o=[];for(let e of i)switch(e.type){case"function":o.push({type:"function",function:{name:e.name,description:e.description,parameters:e.inputSchema,strict:r?u:void 0}});break;default:t.push({type:"unsupported-tool",tool:e});break}if(n==null)return{tools:o,toolChoice:void 0,toolWarnings:t};let l=n.type;switch(l){case"auto":case"none":case"required":return{tools:o,toolChoice:l,toolWarnings:t};case"tool":return{tools:o,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:t};default:throw new vi({functionality:`tool choice type: ${l}`})}}var eY=class{constructor(i,n){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\\/\\/.*$/]},this.modelId=i,this.config=n}get provider(){return this.config.provider}async getArgs({prompt:i,maxOutputTokens:n,temperature:r,topP:u,topK:t,frequencyPenalty:o,presencePenalty:l,stopSequences:e,responseFormat:c,seed:$,tools:v,toolChoice:_,providerOptions:w}){let h=[],f=await rt({provider:"openai",providerOptions:w,schema:lY})??{},U=f.structuredOutputs??!0;t!=null&&h.push({type:"unsupported-setting",setting:"topK"}),c?.type==="json"&&c.schema!=null&&!U&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:j,warnings:q}=oY({prompt:i,systemMessageMode:wY(this.modelId)});h.push(...q);let D=f.strictJsonSchema??!1,O={model:this.modelId,logit_bias:f.logitBias,logprobs:f.logprobs===!0||typeof f.logprobs=="number"?!0:void 0,top_logprobs:typeof f.logprobs=="number"?f.logprobs:typeof f.logprobs=="boolean"&&f.logprobs?0:void 0,user:f.user,parallel_tool_calls:f.parallelToolCalls,max_tokens:n,temperature:r,top_p:u,frequency_penalty:o,presence_penalty:l,response_format:c?.type==="json"?U&&c.schema!=null?{type:"json_schema",json_schema:{schema:c.schema,strict:D,name:c.name??"response",description:c.description}}:{type:"json_object"}:void 0,stop:e,seed:$,verbosity:f.textVerbosity,max_completion_tokens:f.maxCompletionTokens,store:f.store,metadata:f.metadata,prediction:f.prediction,reasoning_effort:f.reasoningEffort,service_tier:f.serviceTier,prompt_cache_key:f.promptCacheKey,safety_identifier:f.safetyIdentifier,messages:j};xj(this.modelId)?(O.temperature!=null&&(O.temperature=void 0,h.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),O.top_p!=null&&(O.top_p=void 0,h.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),O.frequency_penalty!=null&&(O.frequency_penalty=void 0,h.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),O.presence_penalty!=null&&(O.presence_penalty=void 0,h.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),O.logit_bias!=null&&(O.logit_bias=void 0,h.push({type:"other",message:"logitBias is not supported for reasoning models"})),O.logprobs!=null&&(O.logprobs=void 0,h.push({type:"other",message:"logprobs is not supported for reasoning models"})),O.top_logprobs!=null&&(O.top_logprobs=void 0,h.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),O.max_tokens!=null&&(O.max_completion_tokens??=O.max_tokens,O.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&O.temperature!=null&&(O.temperature=void 0,h.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),f.serviceTier==="flex"&&!vY(this.modelId)&&(h.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),O.service_tier=void 0),f.serviceTier==="priority"&&!_Y(this.modelId)&&(h.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),O.service_tier=void 0);let{tools:b,toolChoice:I,toolWarnings:z}=gY({tools:v,toolChoice:_,structuredOutputs:U,strictJsonSchema:D});return{args:{...O,tools:b,tool_choice:I},warnings:[...h,...z]}}async doGenerate(i){let{args:n,warnings:r}=await this.getArgs(i),{responseHeaders:u,value:t,rawValue:o}=await Bn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:n,failedResponseHandler:jn,successfulResponseHandler:zr(cY),abortSignal:i.abortSignal,fetch:this.config.fetch}),l=t.choices[0],e=[],c=l.message.content;c!=null&&c.length>0&&e.push({type:"text",text:c});for(let w of l.message.tool_calls??[])e.push({type:"tool-call",toolCallId:w.id??Qn(),toolName:w.function.name,input:w.function.arguments});for(let w of l.message.annotations??[])e.push({type:"source",sourceType:"url",id:Qn(),url:w.url,title:w.title});let $=t.usage?.completion_tokens_details,v=t.usage?.prompt_tokens_details,_={openai:{}};return $?.accepted_prediction_tokens!=null&&(_.openai.acceptedPredictionTokens=$?.accepted_prediction_tokens),$?.rejected_prediction_tokens!=null&&(_.openai.rejectedPredictionTokens=$?.rejected_prediction_tokens),l.logprobs?.content!=null&&(_.openai.logprobs=l.logprobs.content),{content:e,finishReason:qI(l.finish_reason),usage:{inputTokens:t.usage?.prompt_tokens??void 0,outputTokens:t.usage?.completion_tokens??void 0,totalTokens:t.usage?.total_tokens??void 0,reasoningTokens:$?.reasoning_tokens??void 0,cachedInputTokens:v?.cached_tokens??void 0},request:{body:n},response:{...zI(t),headers:u,body:o},warnings:r,providerMetadata:_}}async doStream(i){let{args:n,warnings:r}=await this.getArgs(i),u={...n,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:t,value:o}=await Bn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:u,failedResponseHandler:jn,successfulResponseHandler:X0($Y),abortSignal:i.abortSignal,fetch:this.config.fetch}),l=[],e="unknown",c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},$=!0,v=!1,_={openai:{}};return{stream:o.pipeThrough(new TransformStream({start(w){w.enqueue({type:"stream-start",warnings:r})},transform(w,h){if(i.includeRawChunks&&h.enqueue({type:"raw",rawValue:w.rawValue}),!w.success){e="error",h.enqueue({type:"error",error:w.error});return}let f=w.value;if("error"in f){e="error",h.enqueue({type:"error",error:f.error});return}$&&($=!1,h.enqueue({type:"response-metadata",...zI(f)})),f.usage!=null&&(c.inputTokens=f.usage.prompt_tokens??void 0,c.outputTokens=f.usage.completion_tokens??void 0,c.totalTokens=f.usage.total_tokens??void 0,c.reasoningTokens=f.usage.completion_tokens_details?.reasoning_tokens??void 0,c.cachedInputTokens=f.usage.prompt_tokens_details?.cached_tokens??void 0,f.usage.completion_tokens_details?.accepted_prediction_tokens!=null&&(_.openai.acceptedPredictionTokens=f.usage.completion_tokens_details?.accepted_prediction_tokens),f.usage.completion_tokens_details?.rejected_prediction_tokens!=null&&(_.openai.rejectedPredictionTokens=f.usage.completion_tokens_details?.rejected_prediction_tokens));let U=f.choices[0];if(U?.finish_reason!=null&&(e=qI(U.finish_reason)),U?.logprobs?.content!=null&&(_.openai.logprobs=U.logprobs.content),U?.delta==null)return;let j=U.delta;if(j.content!=null&&(v||=(h.enqueue({type:"text-start",id:"0"}),!0),h.enqueue({type:"text-delta",id:"0",delta:j.content})),j.tool_calls!=null)for(let q of j.tool_calls){let D=q.index;if(l[D]==null){if(q.type!=="function")throw new w0({data:q,message:"Expected \'function\' type."});if(q.id==null)throw new w0({data:q,message:"Expected \'id\' to be a string."});if(q.function?.name==null)throw new w0({data:q,message:"Expected \'function.name\' to be a string."});h.enqueue({type:"tool-input-start",id:q.id,toolName:q.function.name}),l[D]={id:q.id,type:"function",function:{name:q.function.name,arguments:q.function.arguments??""},hasFinished:!1};let b=l[D];b.function?.name!=null&&b.function?.arguments!=null&&(b.function.arguments.length>0&&h.enqueue({type:"tool-input-delta",id:b.id,delta:b.function.arguments}),JI(b.function.arguments)&&(h.enqueue({type:"tool-input-end",id:b.id}),h.enqueue({type:"tool-call",toolCallId:b.id??Qn(),toolName:b.function.name,input:b.function.arguments}),b.hasFinished=!0));continue}let O=l[D];O.hasFinished||(q.function?.arguments!=null&&(O.function.arguments+=q.function?.arguments??""),h.enqueue({type:"tool-input-delta",id:O.id,delta:q.function.arguments??""}),O.function?.name!=null&&O.function?.arguments!=null&&JI(O.function.arguments)&&(h.enqueue({type:"tool-input-end",id:O.id}),h.enqueue({type:"tool-call",toolCallId:O.id??Qn(),toolName:O.function.name,input:O.function.arguments}),O.hasFinished=!0))}if(j.annotations!=null)for(let q of j.annotations)h.enqueue({type:"source",sourceType:"url",id:Qn(),url:q.url,title:q.title})},flush(w){v&&w.enqueue({type:"text-end",id:"0"}),w.enqueue({type:"finish",finishReason:e,usage:c,..._==null?{}:{providerMetadata:_}})}})),request:{body:u},response:{headers:t}}}},Pj=g.object({prompt_tokens:g.number().nullish(),completion_tokens:g.number().nullish(),total_tokens:g.number().nullish(),prompt_tokens_details:g.object({cached_tokens:g.number().nullish()}).nullish(),completion_tokens_details:g.object({reasoning_tokens:g.number().nullish(),accepted_prediction_tokens:g.number().nullish(),rejected_prediction_tokens:g.number().nullish()}).nullish()}).nullish(),cY=g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({message:g.object({role:g.literal("assistant").nullish(),content:g.string().nullish(),tool_calls:g.array(g.object({id:g.string().nullish(),type:g.literal("function"),function:g.object({name:g.string(),arguments:g.string()})})).nullish(),annotations:g.array(g.object({type:g.literal("url_citation"),start_index:g.number(),end_index:g.number(),url:g.string(),title:g.string()})).nullish()}),index:g.number(),logprobs:g.object({content:g.array(g.object({token:g.string(),logprob:g.number(),top_logprobs:g.array(g.object({token:g.string(),logprob:g.number()}))})).nullish()}).nullish(),finish_reason:g.string().nullish()})),usage:Pj}),$Y=g.union([g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({delta:g.object({role:g.enum(["assistant"]).nullish(),content:g.string().nullish(),tool_calls:g.array(g.object({index:g.number(),id:g.string().nullish(),type:g.literal("function").nullish(),function:g.object({name:g.string().nullish(),arguments:g.string().nullish()})})).nullish(),annotations:g.array(g.object({type:g.literal("url_citation"),start_index:g.number(),end_index:g.number(),url:g.string(),title:g.string()})).nullish()}).nullish(),logprobs:g.object({content:g.array(g.object({token:g.string(),logprob:g.number(),top_logprobs:g.array(g.object({token:g.string(),logprob:g.number()}))})).nullish()}).nullish(),finish_reason:g.string().nullish(),index:g.number()})),usage:Pj}),S0]);function xj(i){return(i.startsWith("o")||i.startsWith("gpt-5"))&&!i.startsWith("gpt-5-chat")}function vY(i){return i.startsWith("o3")||i.startsWith("o4-mini")||i.startsWith("gpt-5")&&!i.startsWith("gpt-5-chat")}function _Y(i){return i.startsWith("gpt-4")||i.startsWith("gpt-5-mini")||i.startsWith("gpt-5")&&!i.startsWith("gpt-5-nano")&&!i.startsWith("gpt-5-chat")||i.startsWith("o3")||i.startsWith("o4-mini")}function wY(i){return xj(i)?hY[i]?.systemMessageMode??"developer":"system"}var hY={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function bY({prompt:i,user:n="user",assistant:r="assistant"}){let u="";i[0].role==="system"&&(u+=`${i[0].content}\n\n`,i=i.slice(1));for(let{role:t,content:o}of i)switch(t){case"system":throw new DS({message:"Unexpected system message in prompt: ${content}",prompt:i});case"user":{let l=o.map((e)=>{switch(e.type){case"text":return e.text}}).filter(Boolean).join("");u+=`${n}:\n${l}\n\n`;break}case"assistant":{let l=o.map((e)=>{switch(e.type){case"text":return e.text;case"tool-call":throw new vi({functionality:"tool-call messages"})}}).join("");u+=`${r}:\n${l}\n\n`;break}case"tool":throw new vi({functionality:"tool messages"});default:throw Error(`Unsupported role: ${t}`)}return u+=`${r}:\n`,{prompt:u,stopSequences:[`\n${n}:`]}}function HI({id:i,model:n,created:r}){return{id:i??void 0,modelId:n??void 0,timestamp:r==null?void 0:new Date(r*1000)}}function WI(i){switch(i){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var GI=g.object({echo:g.boolean().optional(),logitBias:g.record(g.string(),g.number()).optional(),suffix:g.string().optional(),user:g.string().optional(),logprobs:g.union([g.boolean(),g.number()]).optional()}),fY=class{constructor(i,n){this.specificationVersion="v2",this.supportedUrls={},this.modelId=i,this.config=n}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:i,maxOutputTokens:n,temperature:r,topP:u,topK:t,frequencyPenalty:o,presencePenalty:l,stopSequences:e,responseFormat:c,tools:$,toolChoice:v,seed:_,providerOptions:w}){let h=[],f={...await rt({provider:"openai",providerOptions:w,schema:GI}),...await rt({provider:this.providerOptionsName,providerOptions:w,schema:GI})};t!=null&&h.push({type:"unsupported-setting",setting:"topK"}),$?.length&&h.push({type:"unsupported-setting",setting:"tools"}),v!=null&&h.push({type:"unsupported-setting",setting:"toolChoice"}),c!=null&&c.type!=="text"&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:U,stopSequences:j}=bY({prompt:i}),q=[...j??[],...e??[]];return{args:{model:this.modelId,echo:f.echo,logit_bias:f.logitBias,logprobs:f?.logprobs===!0?0:f?.logprobs===!1?void 0:f?.logprobs,suffix:f.suffix,user:f.user,max_tokens:n,temperature:r,top_p:u,frequency_penalty:o,presence_penalty:l,seed:_,prompt:U,stop:q.length>0?q:void 0},warnings:h}}async doGenerate(i){let{args:n,warnings:r}=await this.getArgs(i),{responseHeaders:u,value:t,rawValue:o}=await Bn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:n,failedResponseHandler:jn,successfulResponseHandler:zr(UY),abortSignal:i.abortSignal,fetch:this.config.fetch}),l=t.choices[0],e={openai:{}};return l.logprobs!=null&&(e.openai.logprobs=l.logprobs),{content:[{type:"text",text:l.text}],usage:{inputTokens:t.usage?.prompt_tokens,outputTokens:t.usage?.completion_tokens,totalTokens:t.usage?.total_tokens},finishReason:WI(l.finish_reason),request:{body:n},response:{...HI(t),headers:u,body:o},providerMetadata:e,warnings:r}}async doStream(i){let{args:n,warnings:r}=await this.getArgs(i),u={...n,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:t,value:o}=await Bn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:u,failedResponseHandler:jn,successfulResponseHandler:X0(OY),abortSignal:i.abortSignal,fetch:this.config.fetch}),l="unknown",e={openai:{}},c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},$=!0;return{stream:o.pipeThrough(new TransformStream({start(v){v.enqueue({type:"stream-start",warnings:r})},transform(v,_){if(i.includeRawChunks&&_.enqueue({type:"raw",rawValue:v.rawValue}),!v.success){l="error",_.enqueue({type:"error",error:v.error});return}let w=v.value;if("error"in w){l="error",_.enqueue({type:"error",error:w.error});return}$&&($=!1,_.enqueue({type:"response-metadata",...HI(w)}),_.enqueue({type:"text-start",id:"0"})),w.usage!=null&&(c.inputTokens=w.usage.prompt_tokens,c.outputTokens=w.usage.completion_tokens,c.totalTokens=w.usage.total_tokens);let h=w.choices[0];h?.finish_reason!=null&&(l=WI(h.finish_reason)),h?.logprobs!=null&&(e.openai.logprobs=h.logprobs),h?.text!=null&&h.text.length>0&&_.enqueue({type:"text-delta",id:"0",delta:h.text})},flush(v){$||v.enqueue({type:"text-end",id:"0"}),v.enqueue({type:"finish",finishReason:l,providerMetadata:e,usage:c})}})),request:{body:u},response:{headers:t}}}},Cj=g.object({prompt_tokens:g.number(),completion_tokens:g.number(),total_tokens:g.number()}),UY=g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({text:g.string(),finish_reason:g.string(),logprobs:g.object({tokens:g.array(g.string()),token_logprobs:g.array(g.number()),top_logprobs:g.array(g.record(g.string(),g.number())).nullish()}).nullish()})),usage:Cj.nullish()}),OY=g.union([g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({text:g.string(),finish_reason:g.string().nullish(),index:g.number(),logprobs:g.object({tokens:g.array(g.string()),token_logprobs:g.array(g.number()),top_logprobs:g.array(g.record(g.string(),g.number())).nullish()}).nullish()})),usage:Cj.nullish()}),S0]),IY=g.object({dimensions:g.number().optional(),user:g.string().optional()}),jY=class{constructor(i,n){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=i,this.config=n}get provider(){return this.config.provider}async doEmbed({values:i,headers:n,abortSignal:r,providerOptions:u}){if(i.length>this.maxEmbeddingsPerCall)throw new hj({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:i});let t=await rt({provider:"openai",providerOptions:u,schema:IY})??{},{responseHeaders:o,value:l,rawValue:e}=await Bn({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:In(this.config.headers(),n),body:{model:this.modelId,input:i,encoding_format:"float",dimensions:t.dimensions,user:t.user},failedResponseHandler:jn,successfulResponseHandler:zr(DY),abortSignal:r,fetch:this.config.fetch});return{embeddings:l.data.map((c)=>c.embedding),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:o,body:e}}}},DY=g.object({data:g.array(g.object({embedding:g.array(g.number())})),usage:g.object({prompt_tokens:g.number()}).nullish()}),NY={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},EY=new Set(["gpt-image-1"]),JY=class{constructor(i,n){this.modelId=i,this.config=n,this.specificationVersion="v2"}get maxImagesPerCall(){return NY[this.modelId]??1}get provider(){return this.config.provider}async doGenerate({prompt:i,n,size:r,aspectRatio:u,seed:t,providerOptions:o,headers:l,abortSignal:e}){var c;let $=[];u!=null&&$.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),t!=null&&$.push({type:"unsupported-setting",setting:"seed"});let v=(c=this.config._internal)?.currentDate?.call(c)??new Date,{value:_,responseHeaders:w}=await Bn({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:In(this.config.headers(),l),body:{model:this.modelId,prompt:i,n,size:r,...o.openai??{},...EY.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:jn,successfulResponseHandler:zr(zY),abortSignal:e,fetch:this.config.fetch});return{images:_.data.map((h)=>h.b64_json),warnings:$,response:{timestamp:v,modelId:this.modelId,headers:w},providerMetadata:{openai:{images:_.data.map((h)=>h.revised_prompt?{revisedPrompt:h.revised_prompt}:null)}}}}},zY=g.object({data:g.array(g.object({b64_json:g.string(),revised_prompt:g.string().optional()}))}),qY=g.object({code:g.string().nullish(),containerId:g.string()}),HY=g.object({outputs:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("logs"),logs:g.string()}),g.object({type:g.literal("image"),url:g.string()})])).nullish()}),WY=g.object({container:g.union([g.string(),g.object({fileIds:g.array(g.string()).optional()})]).optional()}),GY=Vg({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:qY,outputSchema:HY}),LY=(i={})=>GY(i),Rj=g.object({key:g.string(),type:g.enum(["eq","ne","gt","gte","lt","lte"]),value:g.union([g.string(),g.number(),g.boolean()])}),dj=g.object({type:g.enum(["and","or"]),filters:g.array(g.union([Rj,g.lazy(()=>dj)]))}),XY=g.object({vectorStoreIds:g.array(g.string()),maxNumResults:g.number().optional(),ranking:g.object({ranker:g.string().optional(),scoreThreshold:g.number().optional()}).optional(),filters:g.union([Rj,dj]).optional()}),SY=g.object({queries:g.array(g.string()),results:g.array(g.object({attributes:g.record(g.string(),g.unknown()),fileId:g.string(),filename:g.string(),score:g.number(),text:g.string()})).nullable()}),mY=Vg({id:"openai.file_search",name:"file_search",inputSchema:g.object({}),outputSchema:SY}),YY=g.object({background:g.enum(["auto","opaque","transparent"]).optional(),inputFidelity:g.enum(["low","high"]).optional(),inputImageMask:g.object({fileId:g.string().optional(),imageUrl:g.string().optional()}).optional(),model:g.string().optional(),moderation:g.enum(["auto"]).optional(),outputCompression:g.number().int().min(0).max(100).optional(),outputFormat:g.enum(["png","jpeg","webp"]).optional(),quality:g.enum(["auto","low","medium","high"]).optional(),size:g.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict(),QY=g.object({result:g.string()}),BY=Vg({id:"openai.image_generation",name:"image_generation",inputSchema:g.object({}),outputSchema:QY}),AY=(i={})=>BY(i),Zj=g.object({action:g.object({type:g.literal("exec"),command:g.array(g.string()),timeoutMs:g.number().optional(),user:g.string().optional(),workingDirectory:g.string().optional(),env:g.record(g.string(),g.string()).optional()})}),aj=g.object({output:g.string()}),VY=Vg({id:"openai.local_shell",name:"local_shell",inputSchema:Zj,outputSchema:aj}),KY=g.object({filters:g.object({allowedDomains:g.array(g.string()).optional()}).optional(),searchContextSize:g.enum(["low","medium","high"]).optional(),userLocation:g.object({type:g.literal("approximate"),country:g.string().optional(),city:g.string().optional(),region:g.string().optional(),timezone:g.string().optional()}).optional()}),yY=Tj({id:"openai.web_search",name:"web_search",inputSchema:g.object({action:g.discriminatedUnion("type",[g.object({type:g.literal("search"),query:g.string().nullish()}),g.object({type:g.literal("open_page"),url:g.string()}),g.object({type:g.literal("find"),url:g.string(),pattern:g.string()})]).nullish()})}),MY=(i={})=>yY(i),kY=g.object({searchContextSize:g.enum(["low","medium","high"]).optional(),userLocation:g.object({type:g.literal("approximate"),country:g.string().optional(),city:g.string().optional(),region:g.string().optional(),timezone:g.string().optional()}).optional()}),FY=Tj({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:g.object({action:g.discriminatedUnion("type",[g.object({type:g.literal("search"),query:g.string().nullish()}),g.object({type:g.literal("open_page"),url:g.string()}),g.object({type:g.literal("find"),url:g.string(),pattern:g.string()})]).nullish()})}),TY={codeInterpreter:LY,fileSearch:mY,imageGeneration:AY,localShell:VY,webSearchPreview:FY,webSearch:MY};function LI(i,n){return n?n.some((r)=>i.startsWith(r)):!1}async function PY({prompt:i,systemMessageMode:n,fileIdPrefixes:r,store:u,hasLocalShellTool:t=!1}){let o=[],l=[];for(let{role:e,content:c}of i)switch(e){case"system":switch(n){case"system":o.push({role:"system",content:c});break;case"developer":o.push({role:"developer",content:c});break;case"remove":l.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${n}`)}break;case"user":o.push({role:"user",content:c.map(($,v)=>{switch($.type){case"text":return{type:"input_text",text:$.text};case"file":if($.mediaType.startsWith("image/")){let _=$.mediaType==="image/*"?"image/jpeg":$.mediaType;return{type:"input_image",...$.data instanceof URL?{image_url:$.data.toString()}:typeof $.data=="string"&&LI($.data,r)?{file_id:$.data}:{image_url:`data:${_};base64,${Jr($.data)}`},detail:$.providerOptions?.openai?.imageDetail}}else if($.mediaType==="application/pdf")return $.data instanceof URL?{type:"input_file",file_url:$.data.toString()}:{type:"input_file",...typeof $.data=="string"&&LI($.data,r)?{file_id:$.data}:{filename:$.filename??`part-${v}.pdf`,file_data:`data:application/pdf;base64,${Jr($.data)}`}};else throw new vi({functionality:`file part media type ${$.mediaType}`})}})});break;case"assistant":{let $={},v={};for(let _ of c)switch(_.type){case"text":o.push({role:"assistant",content:[{type:"output_text",text:_.text}],id:_.providerOptions?.openai?.itemId??void 0});break;case"tool-call":if(v[_.toolCallId]=_,_.providerExecuted)break;if(t&&_.toolName==="local_shell"){let w=Zj.parse(_.input);o.push({type:"local_shell_call",call_id:_.toolCallId,id:_.providerOptions?.openai?.itemId??void 0,action:{type:"exec",command:w.action.command,timeout_ms:w.action.timeoutMs,user:w.action.user,working_directory:w.action.workingDirectory,env:w.action.env}});break}o.push({type:"function_call",call_id:_.toolCallId,name:_.toolName,arguments:JSON.stringify(_.input),id:_.providerOptions?.openai?.itemId??void 0});break;case"tool-result":u?o.push({type:"item_reference",id:_.toolCallId}):l.push({type:"other",message:`Results for OpenAI tool ${_.toolName} are not sent to the API when store is false`});break;case"reasoning":{let w=await rt({provider:"openai",providerOptions:_.providerOptions,schema:xY}),h=w?.itemId;if(h!=null){let f=$[h];if(u)f===void 0&&(o.push({type:"item_reference",id:h}),$[h]={type:"reasoning",id:h,summary:[]});else{let U=[];_.text.length>0?U.push({type:"summary_text",text:_.text}):f!==void 0&&l.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(_)}.`}),f===void 0?($[h]={type:"reasoning",id:h,encrypted_content:w?.reasoningEncryptedContent,summary:U},o.push($[h])):f.summary.push(...U)}}else l.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(_)}.`});break}}break}case"tool":for(let $ of c){let v=$.output;if(t&&$.toolName==="local_shell"&&v.type==="json"){o.push({type:"local_shell_call_output",call_id:$.toolCallId,output:aj.parse(v.value).output});break}let _;switch(v.type){case"text":case"error-text":_=v.value;break;case"content":case"json":case"error-json":_=JSON.stringify(v.value);break}o.push({type:"function_call_output",call_id:$.toolCallId,output:_})}break;default:throw Error(`Unsupported role: ${e}`)}return{input:o,warnings:l}}var xY=g.object({itemId:g.string().nullish(),reasoningEncryptedContent:g.string().nullish()});function XI({finishReason:i,hasFunctionCall:n}){switch(i){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}function CY({tools:i,toolChoice:n,strictJsonSchema:r}){i=i?.length?i:void 0;let u=[];if(i==null)return{tools:void 0,toolChoice:void 0,toolWarnings:u};let t=[];for(let l of i)switch(l.type){case"function":t.push({type:"function",name:l.name,description:l.description,parameters:l.inputSchema,strict:r});break;case"provider-defined":switch(l.id){case"openai.file_search":{let e=XY.parse(l.args);t.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":t.push({type:"local_shell"});break;case"openai.web_search_preview":{let e=kY.parse(l.args);t.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{let e=KY.parse(l.args);t.push({type:"web_search",filters:e.filters==null?void 0:{allowed_domains:e.filters.allowedDomains},search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{let e=WY.parse(l.args);t.push({type:"code_interpreter",container:e.container==null?{type:"auto",file_ids:void 0}:typeof e.container=="string"?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{let e=YY.parse(l.args);t.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:u.push({type:"unsupported-tool",tool:l});break}if(n==null)return{tools:t,toolChoice:void 0,toolWarnings:u};let o=n.type;switch(o){case"auto":case"none":case"required":return{tools:t,toolChoice:o,toolWarnings:u};case"tool":return{tools:t,toolChoice:n.toolName==="code_interpreter"||n.toolName==="file_search"||n.toolName==="image_generation"||n.toolName==="web_search_preview"||n.toolName==="web_search"?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:u};default:throw new vi({functionality:`tool choice type: ${o}`})}}var pj=g.object({type:g.literal("web_search_call"),id:g.string(),status:g.string(),action:g.discriminatedUnion("type",[g.object({type:g.literal("search"),query:g.string().nullish()}),g.object({type:g.literal("open_page"),url:g.string()}),g.object({type:g.literal("find"),url:g.string(),pattern:g.string()})]).nullish()}),sj=g.object({type:g.literal("file_search_call"),id:g.string(),queries:g.array(g.string()),results:g.array(g.object({attributes:g.record(g.string(),g.unknown()),file_id:g.string(),filename:g.string(),score:g.number(),text:g.string()})).nullish()}),iD=g.object({type:g.literal("code_interpreter_call"),id:g.string(),code:g.string().nullable(),container_id:g.string(),outputs:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("logs"),logs:g.string()}),g.object({type:g.literal("image"),url:g.string()})])).nullable()}),nD=g.object({type:g.literal("local_shell_call"),id:g.string(),call_id:g.string(),action:g.object({type:g.literal("exec"),command:g.array(g.string()),timeout_ms:g.number().optional(),user:g.string().optional(),working_directory:g.string().optional(),env:g.record(g.string(),g.string()).optional()})}),tD=g.object({type:g.literal("image_generation_call"),id:g.string(),result:g.string()}),rD=20,uD=g.array(g.object({token:g.string(),logprob:g.number(),top_logprobs:g.array(g.object({token:g.string(),logprob:g.number()}))})),RY=class{constructor(i,n){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\\/\\/.*$/],"application/pdf":[/^https?:\\/\\/.*$/]},this.modelId=i,this.config=n}get provider(){return this.config.provider}async getArgs({maxOutputTokens:i,temperature:n,stopSequences:r,topP:u,topK:t,presencePenalty:o,frequencyPenalty:l,seed:e,prompt:c,providerOptions:$,tools:v,toolChoice:_,responseFormat:w}){let h=[],f=jQ(this.modelId);t!=null&&h.push({type:"unsupported-setting",setting:"topK"}),e!=null&&h.push({type:"unsupported-setting",setting:"seed"}),o!=null&&h.push({type:"unsupported-setting",setting:"presencePenalty"}),l!=null&&h.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&h.push({type:"unsupported-setting",setting:"stopSequences"});let U=await rt({provider:"openai",providerOptions:$,schema:DQ}),{input:j,warnings:q}=await PY({prompt:c,systemMessageMode:f.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:U?.store??!0,hasLocalShellTool:I("openai.local_shell")});h.push(...q);let D=U?.strictJsonSchema??!1,O=U?.include;function b(M){O=O==null?[M]:[...O,M]}function I(M){return v?.find((ii)=>ii.type==="provider-defined"&&ii.id===M)!=null}let z=typeof U?.logprobs=="number"?U?.logprobs:U?.logprobs===!0?rD:void 0;z&&b("message.output_text.logprobs");let Y=v?.find((M)=>M.type==="provider-defined"&&(M.id==="openai.web_search"||M.id==="openai.web_search_preview"))?.name;Y&&b("web_search_call.action.sources"),I("openai.code_interpreter")&&b("code_interpreter_call.outputs");let E={model:this.modelId,input:j,temperature:n,top_p:u,max_output_tokens:i,...(w?.type==="json"||U?.textVerbosity)&&{text:{...w?.type==="json"&&{format:w.schema==null?{type:"json_object"}:{type:"json_schema",strict:D,name:w.name??"response",description:w.description,schema:w.schema}},...U?.textVerbosity&&{verbosity:U.textVerbosity}}},max_tool_calls:U?.maxToolCalls,metadata:U?.metadata,parallel_tool_calls:U?.parallelToolCalls,previous_response_id:U?.previousResponseId,store:U?.store,user:U?.user,instructions:U?.instructions,service_tier:U?.serviceTier,include:O,prompt_cache_key:U?.promptCacheKey,safety_identifier:U?.safetyIdentifier,top_logprobs:z,...f.isReasoningModel&&(U?.reasoningEffort!=null||U?.reasoningSummary!=null)&&{reasoning:{...U?.reasoningEffort!=null&&{effort:U.reasoningEffort},...U?.reasoningSummary!=null&&{summary:U.reasoningSummary}}},...f.requiredAutoTruncation&&{truncation:"auto"}};f.isReasoningModel?(E.temperature!=null&&(E.temperature=void 0,h.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),E.top_p!=null&&(E.top_p=void 0,h.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(U?.reasoningEffort!=null&&h.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),U?.reasoningSummary!=null&&h.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),U?.serviceTier==="flex"&&!f.supportsFlexProcessing&&(h.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete E.service_tier),U?.serviceTier==="priority"&&!f.supportsPriorityProcessing&&(h.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete E.service_tier);let{tools:S,toolChoice:K,toolWarnings:Q}=CY({tools:v,toolChoice:_,strictJsonSchema:D});return{webSearchToolName:Y,args:{...E,tools:S,tool_choice:K},warnings:[...h,...Q]}}async doGenerate(i){var n,r;let{args:u,warnings:t,webSearchToolName:o}=await this.getArgs(i),l=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:e,value:c,rawValue:$}=await Bn({url:l,headers:In(this.config.headers(),i.headers),body:u,failedResponseHandler:jn,successfulResponseHandler:zr(g.object({id:g.string(),created_at:g.number(),error:g.object({code:g.string(),message:g.string()}).nullish(),model:g.string(),output:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("message"),role:g.literal("assistant"),id:g.string(),content:g.array(g.object({type:g.literal("output_text"),text:g.string(),logprobs:uD.nullish(),annotations:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("url_citation"),start_index:g.number(),end_index:g.number(),url:g.string(),title:g.string()}),g.object({type:g.literal("file_citation"),file_id:g.string(),filename:g.string().nullish(),index:g.number().nullish(),start_index:g.number().nullish(),end_index:g.number().nullish(),quote:g.string().nullish()}),g.object({type:g.literal("container_file_citation")})]))}))}),pj,sj,iD,tD,nD,g.object({type:g.literal("function_call"),call_id:g.string(),name:g.string(),arguments:g.string(),id:g.string()}),g.object({type:g.literal("computer_call"),id:g.string(),status:g.string().optional()}),g.object({type:g.literal("reasoning"),id:g.string(),encrypted_content:g.string().nullish(),summary:g.array(g.object({type:g.literal("summary_text"),text:g.string()}))})])),service_tier:g.string().nullish(),incomplete_details:g.object({reason:g.string()}).nullish(),usage:oD})),abortSignal:i.abortSignal,fetch:this.config.fetch});if(c.error)throw new T({message:c.error.message,url:l,requestBodyValues:u,statusCode:400,responseHeaders:e,responseBody:$,isRetryable:!1});let v=[],_=[],w=!1;for(let f of c.output)switch(f.type){case"reasoning":f.summary.length===0&&f.summary.push({type:"summary_text",text:""});for(let U of f.summary)v.push({type:"reasoning",text:U.text,providerMetadata:{openai:{itemId:f.id,reasoningEncryptedContent:f.encrypted_content??null}}});break;case"image_generation_call":v.push({type:"tool-call",toolCallId:f.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),v.push({type:"tool-result",toolCallId:f.id,toolName:"image_generation",result:{result:f.result},providerExecuted:!0});break;case"local_shell_call":v.push({type:"tool-call",toolCallId:f.call_id,toolName:"local_shell",input:JSON.stringify({action:f.action}),providerMetadata:{openai:{itemId:f.id}}});break;case"message":for(let U of f.content){i.providerOptions?.openai?.logprobs&&U.logprobs&&_.push(U.logprobs),v.push({type:"text",text:U.text,providerMetadata:{openai:{itemId:f.id}}});for(let j of U.annotations)j.type==="url_citation"?v.push({type:"source",sourceType:"url",id:(n=this.config).generateId?.call(n)??Qn(),url:j.url,title:j.title}):j.type==="file_citation"&&v.push({type:"source",sourceType:"document",id:(r=this.config).generateId?.call(r)??Qn(),mediaType:"text/plain",title:j.quote??j.filename??"Document",filename:j.filename??j.file_id})}break;case"function_call":w=!0,v.push({type:"tool-call",toolCallId:f.call_id,toolName:f.name,input:f.arguments,providerMetadata:{openai:{itemId:f.id}}});break;case"web_search_call":v.push({type:"tool-call",toolCallId:f.id,toolName:o??"web_search",input:JSON.stringify({action:f.action}),providerExecuted:!0}),v.push({type:"tool-result",toolCallId:f.id,toolName:o??"web_search",result:{status:f.status},providerExecuted:!0});break;case"computer_call":v.push({type:"tool-call",toolCallId:f.id,toolName:"computer_use",input:"",providerExecuted:!0}),v.push({type:"tool-result",toolCallId:f.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:f.status||"completed"},providerExecuted:!0});break;case"file_search_call":v.push({type:"tool-call",toolCallId:f.id,toolName:"file_search",input:"{}",providerExecuted:!0}),v.push({type:"tool-result",toolCallId:f.id,toolName:"file_search",result:{queries:f.queries,results:f.results?.map((U)=>({attributes:U.attributes,fileId:U.file_id,filename:U.filename,score:U.score,text:U.text}))??null},providerExecuted:!0});break;case"code_interpreter_call":v.push({type:"tool-call",toolCallId:f.id,toolName:"code_interpreter",input:JSON.stringify({code:f.code,containerId:f.container_id}),providerExecuted:!0}),v.push({type:"tool-result",toolCallId:f.id,toolName:"code_interpreter",result:{outputs:f.outputs},providerExecuted:!0});break}let h={openai:{responseId:c.id}};return _.length>0&&(h.openai.logprobs=_),typeof c.service_tier=="string"&&(h.openai.serviceTier=c.service_tier),{content:v,finishReason:XI({finishReason:c.incomplete_details?.reason,hasFunctionCall:w}),usage:{inputTokens:c.usage.input_tokens,outputTokens:c.usage.output_tokens,totalTokens:c.usage.input_tokens+c.usage.output_tokens,reasoningTokens:c.usage.output_tokens_details?.reasoning_tokens??void 0,cachedInputTokens:c.usage.input_tokens_details?.cached_tokens??void 0},request:{body:u},response:{id:c.id,timestamp:new Date(c.created_at*1000),modelId:c.model,headers:e,body:$},providerMetadata:h,warnings:t}}async doStream(i){let{args:n,warnings:r,webSearchToolName:u}=await this.getArgs(i),{responseHeaders:t,value:o}=await Bn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:{...n,stream:!0},failedResponseHandler:jn,successfulResponseHandler:X0(gQ),abortSignal:i.abortSignal,fetch:this.config.fetch}),l=this,e="unknown",c={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},$=[],v=null,_={},w=!1,h={},f;return{stream:o.pipeThrough(new TransformStream({start(U){U.enqueue({type:"stream-start",warnings:r})},transform(U,j){var q,D,O;if(i.includeRawChunks&&j.enqueue({type:"raw",rawValue:U.rawValue}),!U.success){e="error",j.enqueue({type:"error",error:U.error});return}let b=U.value;if(gD(b))b.item.type==="function_call"?(_[b.output_index]={toolName:b.item.name,toolCallId:b.item.call_id},j.enqueue({type:"tool-input-start",id:b.item.call_id,toolName:b.item.name})):b.item.type==="web_search_call"?(_[b.output_index]={toolName:u??"web_search",toolCallId:b.item.id},j.enqueue({type:"tool-input-start",id:b.item.id,toolName:u??"web_search"})):b.item.type==="computer_call"?(_[b.output_index]={toolName:"computer_use",toolCallId:b.item.id},j.enqueue({type:"tool-input-start",id:b.item.id,toolName:"computer_use"})):b.item.type==="code_interpreter_call"?(_[b.output_index]={toolName:"code_interpreter",toolCallId:b.item.id,codeInterpreter:{containerId:b.item.container_id}},j.enqueue({type:"tool-input-start",id:b.item.id,toolName:"code_interpreter"}),j.enqueue({type:"tool-input-delta",id:b.item.id,delta:`{"containerId":"${b.item.container_id}","code":"`})):b.item.type==="file_search_call"?j.enqueue({type:"tool-call",toolCallId:b.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):b.item.type==="image_generation_call"?j.enqueue({type:"tool-call",toolCallId:b.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):b.item.type==="message"?j.enqueue({type:"text-start",id:b.item.id,providerMetadata:{openai:{itemId:b.item.id}}}):bQ(b)&&(h[b.item.id]={encryptedContent:b.item.encrypted_content,summaryParts:[0]},j.enqueue({type:"reasoning-start",id:`${b.item.id}:0`,providerMetadata:{openai:{itemId:b.item.id,reasoningEncryptedContent:b.item.encrypted_content??null}}}));else if(lD(b)){if(b.item.type==="function_call")_[b.output_index]=void 0,w=!0,j.enqueue({type:"tool-input-end",id:b.item.call_id}),j.enqueue({type:"tool-call",toolCallId:b.item.call_id,toolName:b.item.name,input:b.item.arguments,providerMetadata:{openai:{itemId:b.item.id}}});else if(b.item.type==="web_search_call")_[b.output_index]=void 0,j.enqueue({type:"tool-input-end",id:b.item.id}),j.enqueue({type:"tool-call",toolCallId:b.item.id,toolName:"web_search",input:JSON.stringify({action:b.item.action}),providerExecuted:!0}),j.enqueue({type:"tool-result",toolCallId:b.item.id,toolName:"web_search",result:{status:b.item.status},providerExecuted:!0});else if(b.item.type==="computer_call")_[b.output_index]=void 0,j.enqueue({type:"tool-input-end",id:b.item.id}),j.enqueue({type:"tool-call",toolCallId:b.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),j.enqueue({type:"tool-result",toolCallId:b.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:b.item.status||"completed"},providerExecuted:!0});else if(b.item.type==="file_search_call")_[b.output_index]=void 0,j.enqueue({type:"tool-result",toolCallId:b.item.id,toolName:"file_search",result:{queries:b.item.queries,results:b.item.results?.map((I)=>({attributes:I.attributes,fileId:I.file_id,filename:I.filename,score:I.score,text:I.text}))??null},providerExecuted:!0});else if(b.item.type==="code_interpreter_call")_[b.output_index]=void 0,j.enqueue({type:"tool-result",toolCallId:b.item.id,toolName:"code_interpreter",result:{outputs:b.item.outputs},providerExecuted:!0});else if(b.item.type==="image_generation_call")j.enqueue({type:"tool-result",toolCallId:b.item.id,toolName:"image_generation",result:{result:b.item.result},providerExecuted:!0});else if(b.item.type==="local_shell_call")_[b.output_index]=void 0,j.enqueue({type:"tool-call",toolCallId:b.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:b.item.action.command,timeoutMs:b.item.action.timeout_ms,user:b.item.action.user,workingDirectory:b.item.action.working_directory,env:b.item.action.env}}),providerMetadata:{openai:{itemId:b.item.id}}});else if(b.item.type==="message")j.enqueue({type:"text-end",id:b.item.id});else if(cQ(b)){let I=h[b.item.id];for(let z of I.summaryParts)j.enqueue({type:"reasoning-end",id:`${b.item.id}:${z}`,providerMetadata:{openai:{itemId:b.item.id,reasoningEncryptedContent:b.item.encrypted_content??null}}});delete h[b.item.id]}}else if(_Q(b)){let I=_[b.output_index];I!=null&&j.enqueue({type:"tool-input-delta",id:I.toolCallId,delta:b.delta})}else if(wQ(b)){let I=_[b.output_index];I!=null&&j.enqueue({type:"tool-input-delta",id:I.toolCallId,delta:JSON.stringify(b.delta).slice(1,-1)})}else if(hQ(b)){let I=_[b.output_index];I!=null&&(j.enqueue({type:"tool-input-delta",id:I.toolCallId,delta:\'"}\'}),j.enqueue({type:"tool-input-end",id:I.toolCallId}),j.enqueue({type:"tool-call",toolCallId:I.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:b.code,containerId:I.codeInterpreter.containerId}),providerExecuted:!0}))}else vQ(b)?(v=b.response.id,j.enqueue({type:"response-metadata",id:b.response.id,timestamp:new Date(b.response.created_at*1000),modelId:b.response.model})):eQ(b)?(j.enqueue({type:"text-delta",id:b.item_id,delta:b.delta}),i.providerOptions?.openai?.logprobs&&b.logprobs&&$.push(b.logprobs)):UQ(b)?b.summary_index>0&&((q=h[b.item_id])==null||q.summaryParts.push(b.summary_index),j.enqueue({type:"reasoning-start",id:`${b.item_id}:${b.summary_index}`,providerMetadata:{openai:{itemId:b.item_id,reasoningEncryptedContent:h[b.item_id]?.encryptedContent??null}}})):OQ(b)?j.enqueue({type:"reasoning-delta",id:`${b.item_id}:${b.summary_index}`,delta:b.delta,providerMetadata:{openai:{itemId:b.item_id}}}):$Q(b)?(e=XI({finishReason:b.response.incomplete_details?.reason,hasFunctionCall:w}),c.inputTokens=b.response.usage.input_tokens,c.outputTokens=b.response.usage.output_tokens,c.totalTokens=b.response.usage.input_tokens+b.response.usage.output_tokens,c.reasoningTokens=b.response.usage.output_tokens_details?.reasoning_tokens??void 0,c.cachedInputTokens=b.response.usage.input_tokens_details?.cached_tokens??void 0,typeof b.response.service_tier=="string"&&(f=b.response.service_tier)):fQ(b)?b.annotation.type==="url_citation"?j.enqueue({type:"source",sourceType:"url",id:(D=l.config).generateId?.call(D)??Qn(),url:b.annotation.url,title:b.annotation.title}):b.annotation.type==="file_citation"&&j.enqueue({type:"source",sourceType:"document",id:(O=l.config).generateId?.call(O)??Qn(),mediaType:"text/plain",title:b.annotation.quote??b.annotation.filename??"Document",filename:b.annotation.filename??b.annotation.file_id}):IQ(b)&&j.enqueue({type:"error",error:b})},flush(U){let j={openai:{responseId:v}};$.length>0&&(j.openai.logprobs=$),f!==void 0&&(j.openai.serviceTier=f),U.enqueue({type:"finish",finishReason:e,usage:c,providerMetadata:j})}})),request:{body:n},response:{headers:t}}}},oD=g.object({input_tokens:g.number(),input_tokens_details:g.object({cached_tokens:g.number().nullish()}).nullish(),output_tokens:g.number(),output_tokens_details:g.object({reasoning_tokens:g.number().nullish()}).nullish()}),dY=g.object({type:g.literal("response.output_text.delta"),item_id:g.string(),delta:g.string(),logprobs:uD.nullish()}),ZY=g.object({type:g.literal("error"),code:g.string(),message:g.string(),param:g.string().nullish(),sequence_number:g.number()}),aY=g.object({type:g.enum(["response.completed","response.incomplete"]),response:g.object({incomplete_details:g.object({reason:g.string()}).nullish(),usage:oD,service_tier:g.string().nullish()})}),pY=g.object({type:g.literal("response.created"),response:g.object({id:g.string(),created_at:g.number(),model:g.string(),service_tier:g.string().nullish()})}),sY=g.object({type:g.literal("response.output_item.added"),output_index:g.number(),item:g.discriminatedUnion("type",[g.object({type:g.literal("message"),id:g.string()}),g.object({type:g.literal("reasoning"),id:g.string(),encrypted_content:g.string().nullish()}),g.object({type:g.literal("function_call"),id:g.string(),call_id:g.string(),name:g.string(),arguments:g.string()}),g.object({type:g.literal("web_search_call"),id:g.string(),status:g.string(),action:g.object({type:g.literal("search"),query:g.string().optional()}).nullish()}),g.object({type:g.literal("computer_call"),id:g.string(),status:g.string()}),g.object({type:g.literal("file_search_call"),id:g.string()}),g.object({type:g.literal("image_generation_call"),id:g.string()}),g.object({type:g.literal("code_interpreter_call"),id:g.string(),container_id:g.string(),code:g.string().nullable(),outputs:g.array(g.discriminatedUnion("type",[g.object({type:g.literal("logs"),logs:g.string()}),g.object({type:g.literal("image"),url:g.string()})])).nullable(),status:g.string()})])}),iQ=g.object({type:g.literal("response.output_item.done"),output_index:g.number(),item:g.discriminatedUnion("type",[g.object({type:g.literal("message"),id:g.string()}),g.object({type:g.literal("reasoning"),id:g.string(),encrypted_content:g.string().nullish()}),g.object({type:g.literal("function_call"),id:g.string(),call_id:g.string(),name:g.string(),arguments:g.string(),status:g.literal("completed")}),iD,tD,pj,sj,nD,g.object({type:g.literal("computer_call"),id:g.string(),status:g.literal("completed")})])}),nQ=g.object({type:g.literal("response.function_call_arguments.delta"),item_id:g.string(),output_index:g.number(),delta:g.string()}),tQ=g.object({type:g.literal("response.code_interpreter_call_code.delta"),item_id:g.string(),output_index:g.number(),delta:g.string()}),rQ=g.object({type:g.literal("response.code_interpreter_call_code.done"),item_id:g.string(),output_index:g.number(),code:g.string()}),uQ=g.object({type:g.literal("response.output_text.annotation.added"),annotation:g.discriminatedUnion("type",[g.object({type:g.literal("url_citation"),url:g.string(),title:g.string()}),g.object({type:g.literal("file_citation"),file_id:g.string(),filename:g.string().nullish(),index:g.number().nullish(),start_index:g.number().nullish(),end_index:g.number().nullish(),quote:g.string().nullish()})])}),oQ=g.object({type:g.literal("response.reasoning_summary_part.added"),item_id:g.string(),summary_index:g.number()}),lQ=g.object({type:g.literal("response.reasoning_summary_text.delta"),item_id:g.string(),summary_index:g.number(),delta:g.string()}),gQ=g.union([dY,aY,pY,sY,iQ,nQ,tQ,rQ,uQ,oQ,lQ,ZY,g.object({type:g.string()}).loose()]);function eQ(i){return i.type==="response.output_text.delta"}function lD(i){return i.type==="response.output_item.done"}function cQ(i){return lD(i)&&i.item.type==="reasoning"}function $Q(i){return i.type==="response.completed"||i.type==="response.incomplete"}function vQ(i){return i.type==="response.created"}function _Q(i){return i.type==="response.function_call_arguments.delta"}function wQ(i){return i.type==="response.code_interpreter_call_code.delta"}function hQ(i){return i.type==="response.code_interpreter_call_code.done"}function gD(i){return i.type==="response.output_item.added"}function bQ(i){return gD(i)&&i.item.type==="reasoning"}function fQ(i){return i.type==="response.output_text.annotation.added"}function UQ(i){return i.type==="response.reasoning_summary_part.added"}function OQ(i){return i.type==="response.reasoning_summary_text.delta"}function IQ(i){return i.type==="error"}function jQ(i){let n=i.startsWith("o3")||i.startsWith("o4-mini")||i.startsWith("gpt-5")&&!i.startsWith("gpt-5-chat"),r=i.startsWith("gpt-4")||i.startsWith("gpt-5-mini")||i.startsWith("gpt-5")&&!i.startsWith("gpt-5-nano")&&!i.startsWith("gpt-5-chat")||i.startsWith("o3")||i.startsWith("o4-mini"),u={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:n,supportsPriorityProcessing:r};return i.startsWith("gpt-5-chat")?{...u,isReasoningModel:!1}:i.startsWith("o")||i.startsWith("gpt-5")||i.startsWith("codex-")||i.startsWith("computer-use")?i.startsWith("o1-mini")||i.startsWith("o1-preview")?{...u,isReasoningModel:!0,systemMessageMode:"remove"}:{...u,isReasoningModel:!0,systemMessageMode:"developer"}:{...u,isReasoningModel:!1}}var DQ=g.object({include:g.array(g.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:g.string().nullish(),logprobs:g.union([g.boolean(),g.number().min(1).max(rD)]).optional(),maxToolCalls:g.number().nullish(),metadata:g.any().nullish(),parallelToolCalls:g.boolean().nullish(),previousResponseId:g.string().nullish(),promptCacheKey:g.string().nullish(),reasoningEffort:g.string().nullish(),reasoningSummary:g.string().nullish(),safetyIdentifier:g.string().nullish(),serviceTier:g.enum(["auto","flex","priority"]).nullish(),store:g.boolean().nullish(),strictJsonSchema:g.boolean().nullish(),textVerbosity:g.enum(["low","medium","high"]).nullish(),user:g.string().nullish()}),NQ=g.object({instructions:g.string().nullish(),speed:g.number().min(0.25).max(4).default(1).nullish()}),EQ=class{constructor(i,n){this.modelId=i,this.config=n,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:i,voice:n="alloy",outputFormat:r="mp3",speed:u,instructions:t,language:o,providerOptions:l}){let e=[],c=await rt({provider:"openai",providerOptions:l,schema:NQ}),$={model:this.modelId,input:i,voice:n,response_format:"mp3",speed:u,instructions:t};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?$.response_format=r:e.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),c){let v={};for(let _ in v){let w=v[_];w!==void 0&&($[_]=w)}}return o&&e.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${o}" was ignored.`}),{requestBody:$,warnings:e}}async doGenerate(i){var n;let r=(n=this.config._internal)?.currentDate?.call(n)??new Date,{requestBody:u,warnings:t}=await this.getArgs(i),{value:o,responseHeaders:l,rawValue:e}=await Bn({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),body:u,failedResponseHandler:jn,successfulResponseHandler:sm(),abortSignal:i.abortSignal,fetch:this.config.fetch});return{audio:o,warnings:t,request:{body:JSON.stringify(u)},response:{timestamp:r,modelId:this.modelId,headers:l,body:e}}}},JQ=g.object({include:g.array(g.string()).optional(),language:g.string().optional(),prompt:g.string().optional(),temperature:g.number().min(0).max(1).default(0).optional(),timestampGranularities:g.array(g.enum(["word","segment"])).default(["segment"]).optional()}),SI={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},zQ=class{constructor(i,n){this.modelId=i,this.config=n,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:i,mediaType:n,providerOptions:r}){let u=[],t=await rt({provider:"openai",providerOptions:r,schema:JQ}),o=new FormData,l=i instanceof Uint8Array?new Blob([i]):new Blob([tY(i)]);o.append("model",this.modelId);let e=Vm(n);if(o.append("file",new File([l],"audio",{type:n}),`audio.${e}`),t){let c={include:t.include,language:t.language,prompt:t.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:t.temperature,timestamp_granularities:t.timestampGranularities};for(let[$,v]of Object.entries(c))if(v!=null)if(Array.isArray(v))for(let _ of v)o.append(`${$}[]`,String(_));else o.append($,String(v))}return{formData:o,warnings:u}}async doGenerate(i){var n;let r=(n=this.config._internal)?.currentDate?.call(n)??new Date,{formData:u,warnings:t}=await this.getArgs(i),{value:o,responseHeaders:l,rawValue:e}=await am({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:In(this.config.headers(),i.headers),formData:u,failedResponseHandler:jn,successfulResponseHandler:zr(qQ),abortSignal:i.abortSignal,fetch:this.config.fetch}),c=o.language!=null&&o.language in SI?SI[o.language]:void 0;return{text:o.text,segments:o.segments?.map(($)=>({text:$.text,startSecond:$.start,endSecond:$.end}))??o.words?.map(($)=>({text:$.word,startSecond:$.start,endSecond:$.end}))??[],language:c,durationInSeconds:o.duration??void 0,warnings:t,response:{timestamp:r,modelId:this.modelId,headers:l,body:e}}}},qQ=g.object({text:g.string(),language:g.string().nullish(),duration:g.number().nullish(),words:g.array(g.object({word:g.string(),start:g.number(),end:g.number()})).nullish(),segments:g.array(g.object({id:g.number(),seek:g.number(),start:g.number(),end:g.number(),text:g.string(),tokens:g.array(g.number()),temperature:g.number(),avg_logprob:g.number(),compression_ratio:g.number(),no_speech_prob:g.number()})).nullish()}),HQ="2.0.42";function WQ(i={}){let n=uY(Am({settingValue:i.baseURL,environmentVariableName:"OPENAI_BASE_URL"}))??"https://api.openai.com/v1",r=i.name??"openai",u=()=>yj({Authorization:`Bearer ${Bm({apiKey:i.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":i.organization,"OpenAI-Project":i.project,...i.headers},`ai-sdk/openai/${HQ}`),t=(h)=>new eY(h,{provider:`${r}.chat`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),o=(h)=>new fY(h,{provider:`${r}.completion`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),l=(h)=>new jY(h,{provider:`${r}.embedding`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),e=(h)=>new JY(h,{provider:`${r}.image`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),c=(h)=>new zQ(h,{provider:`${r}.transcription`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),$=(h)=>new EQ(h,{provider:`${r}.speech`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch}),v=(h)=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return _(h)},_=(h)=>new RY(h,{provider:`${r}.responses`,url:({path:f})=>`${n}${f}`,headers:u,fetch:i.fetch,fileIdPrefixes:["file-"]}),w=function(h){return v(h)};return w.languageModel=v,w.chat=t,w.completion=o,w.responses=_,w.embedding=l,w.textEmbedding=l,w.textEmbeddingModel=l,w.image=e,w.imageModel=e,w.transcription=c,w.transcriptionModel=c,w.speech=$,w.speechModel=$,w.tools=TY,w}WQ();function GQ(...i){return i.reduce((n,r)=>({...n,...r??{}}),{})}function m0(i){return Object.fromEntries([...i.headers])}function LQ(i=globalThis){return i.window?"runtime/browser":i.navigator?.userAgent?`runtime/${i.navigator.userAgent.toLowerCase()}`:i.process?.versions?.node?`runtime/node.js/${i.process.version.substring(0)}`:i.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function XQ(i){return Object.fromEntries(Object.entries(i).filter(([n,r])=>r!=null))}function SQ(i,...n){let r=XQ(i??{}),u=new Headers(r),t=u.get("user-agent")||"";return u.set("user-agent",[t,...n].filter(Boolean).join(" ")),Object.fromEntries(u)}(({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new An({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`})();function D0(i){return(i instanceof Error||i instanceof DOMException)&&(i.name==="AbortError"||i.name==="ResponseAborted"||i.name==="TimeoutError")}var mQ=["fetch failed","failed to fetch"];function YQ({error:i,url:n,requestBodyValues:r}){if(D0(i))return i;if(i instanceof TypeError&&mQ.includes(i.message.toLowerCase())){let u=i.cause;if(u!=null)return new T({message:`Cannot connect to API: ${u.message}`,cause:u,url:n,requestBodyValues:r,isRetryable:!0})}return i}var QQ="3.0.10",BQ=/"__proto__"\\s*:/,AQ=/"constructor"\\s*:/;function VQ(i){let n=JSON.parse(i);return typeof n!="object"||!n||BQ.test(i)===!1&&AQ.test(i)===!1?n:KQ(n)}function KQ(i){let n=[i];for(;n.length;){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__")||Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];o&&typeof o=="object"&&n.push(o)}}}return i}function eD(i){let{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return VQ(i)}finally{Error.stackTraceLimit=n}}var N0=Symbol.for("vercel.ai.validator");function yQ(i){return{[N0]:!0,validate:i}}function MQ(i){return typeof i=="object"&&!!i&&N0 in i&&i[N0]===!0&&"validate"in i}function kQ(i){return MQ(i)?i:FQ(i)}function FQ(i){return yQ(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new gi({value:n,cause:r.issues})}})}async function TQ({value:i,schema:n}){let r=await cD({value:i,schema:n});if(!r.success)throw gi.wrap({value:i,cause:r.error});return r.value}async function cD({value:i,schema:n}){let r=kQ(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);return u.success?{success:!0,value:u.value,rawValue:i}:{success:!1,error:gi.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:gi.wrap({value:i,cause:u}),rawValue:i}}}async function PQ({text:i,schema:n}){try{let r=eD(i);return n==null?r:TQ({value:r,schema:n})}catch(r){throw Ui.isInstance(r)||gi.isInstance(r)?r:new Ui({text:i,cause:r})}}async function xQ({text:i,schema:n}){try{let r=eD(i);return n==null?{success:!0,value:r,rawValue:r}:await cD({value:r,schema:n})}catch(r){return{success:!1,error:Ui.isInstance(r)?r:new Ui({text:i,cause:r}),rawValue:void 0}}}var CQ=()=>globalThis.fetch,RQ=async({url:i,headers:n,body:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>dQ({url:i,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),dQ=async({url:i,headers:n={},body:r,successfulResponseHandler:u,failedResponseHandler:t,abortSignal:o,fetch:l=CQ()})=>{try{let e=await l(i,{method:"POST",headers:SQ(n,`ai-sdk/provider-utils/${QQ}`,LQ()),body:r.content,signal:o}),c=m0(e);if(!e.ok){let $;try{$=await t({response:e,url:i,requestBodyValues:r.values})}catch(v){throw D0(v)||T.isInstance(v)?v:new T({message:"Failed to process error response",cause:v,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}throw $.value}try{return await u({response:e,url:i,requestBodyValues:r.values})}catch($){throw $ instanceof Error&&(D0($)||T.isInstance($))?$:new T({message:"Failed to process successful response",cause:$,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}}catch(e){throw YQ({error:e,url:i,requestBodyValues:r.values})}},ZQ=({errorSchema:i,errorToMessage:n,isRetryable:r})=>async({response:u,url:t,requestBodyValues:o})=>{let l=await u.text(),e=m0(u);if(l.trim()==="")return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})};try{let c=await PQ({text:l,schema:i});return{responseHeaders:e,value:new T({message:n(c),url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,data:c,isRetryable:r?.(u,c)})}}catch{return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})}}},aQ=(i)=>async({response:n,url:r,requestBodyValues:u})=>{let t=await n.text(),o=await xQ({text:t,schema:i}),l=m0(n);if(!o.success)throw new T({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:l,responseBody:t,url:r,requestBodyValues:u});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}};g.object({user:g.string().optional(),reasoningEffort:g.string().optional()});var pQ={errorSchema:g.object({error:g.object({message:g.string(),type:g.string().nullish(),param:g.any().nullish(),code:g.union([g.string(),g.number()]).nullish()})}),errorToMessage:(i)=>i.error.message},sQ=g.object({prompt_tokens:g.number().nullish(),completion_tokens:g.number().nullish(),total_tokens:g.number().nullish(),prompt_tokens_details:g.object({cached_tokens:g.number().nullish()}).nullish(),completion_tokens_details:g.object({reasoning_tokens:g.number().nullish(),accepted_prediction_tokens:g.number().nullish(),rejected_prediction_tokens:g.number().nullish()}).nullish()}).nullish();g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({message:g.object({role:g.literal("assistant").nullish(),content:g.string().nullish(),reasoning_content:g.string().nullish(),reasoning:g.string().nullish(),tool_calls:g.array(g.object({id:g.string().nullish(),function:g.object({name:g.string(),arguments:g.string()})})).nullish()}),finish_reason:g.string().nullish()})),usage:sQ}),g.object({echo:g.boolean().optional(),logitBias:g.record(g.string(),g.number()).optional(),suffix:g.string().optional(),user:g.string().optional()});var i9=g.object({prompt_tokens:g.number(),completion_tokens:g.number(),total_tokens:g.number()});g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({text:g.string(),finish_reason:g.string()})),usage:i9.nullish()}),g.object({dimensions:g.number().optional(),user:g.string().optional()}),g.object({data:g.array(g.object({embedding:g.array(g.number())})),usage:g.object({prompt_tokens:g.number()}).nullish(),providerMetadata:g.record(g.string(),g.record(g.string(),g.any())).optional()});var n9=class{constructor(i,n){this.modelId=i,this.config=n,this.specificationVersion="v2",this.maxImagesPerCall=10}get provider(){return this.config.provider}async doGenerate({prompt:i,n,size:r,aspectRatio:u,seed:t,providerOptions:o,headers:l,abortSignal:e}){var c;let $=[];u!=null&&$.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),t!=null&&$.push({type:"unsupported-setting",setting:"seed"});let v=(c=this.config._internal)?.currentDate?.call(c)??new Date,{value:_,responseHeaders:w}=await RQ({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:GQ(this.config.headers(),l),body:{model:this.modelId,prompt:i,n,size:r,...o.openai??{},response_format:"b64_json"},failedResponseHandler:ZQ(this.config.errorStructure??pQ),successfulResponseHandler:aQ(t9),abortSignal:e,fetch:this.config.fetch});return{images:_.data.map((h)=>h.b64_json),warnings:$,response:{timestamp:v,modelId:this.modelId,headers:w}}}},t9=g.object({data:g.array(g.object({b64_json:g.string()}))});function mI(...i){return i.reduce((n,r)=>({...n,...r??{}}),{})}function Kg(i){return Object.fromEntries([...i.headers])}function r9(i=globalThis){return i.window?"runtime/browser":i.navigator?.userAgent?`runtime/${i.navigator.userAgent.toLowerCase()}`:i.process?.versions?.node?`runtime/node.js/${i.process.version.substring(0)}`:i.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function u9(i){return Object.fromEntries(Object.entries(i).filter(([n,r])=>r!=null))}function $D(i,...n){let r=u9(i??{}),u=new Headers(r),t=u.get("user-agent")||"";return u.set("user-agent",[t,...n].filter(Boolean).join(" ")),Object.fromEntries(u)}var o9=(({prefix:i,size:n=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:u="-"}={})=>{let t=()=>{let o=r.length,l=Array(n);for(let e=0;e<n;e++)l[e]=r[Math.random()*o|0];return l.join("")};if(i==null)return t;if(r.includes(u))throw new An({argument:"separator",message:`The separator "${u}" must not be part of the alphabet "${r}".`});return()=>`${i}${u}${t()}`})();function E0(i){return(i instanceof Error||i instanceof DOMException)&&(i.name==="AbortError"||i.name==="ResponseAborted"||i.name==="TimeoutError")}var l9=["fetch failed","failed to fetch"];function g9({error:i,url:n,requestBodyValues:r}){if(E0(i))return i;if(i instanceof TypeError&&l9.includes(i.message.toLowerCase())){let u=i.cause;if(u!=null)return new T({message:`Cannot connect to API: ${u.message}`,cause:u,url:n,requestBodyValues:r,isRetryable:!0})}return i}var e9="3.0.10";function c9({apiKey:i,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:u}){if(typeof i=="string")return i;if(i!=null)throw new Li({message:`${u} API key must be a string.`});if(typeof process>"u")throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter. Environment variables is not supported in this environment.`});if(i=process.env[n],i==null)throw new Li({message:`${u} API key is missing. Pass it using the \'${r}\' parameter or the ${n} environment variable.`});if(typeof i!="string")throw new Li({message:`${u} API key must be a string. The value of the ${n} environment variable is not a string.`});return i}var $9=/"__proto__"\\s*:/,v9=/"constructor"\\s*:/;function _9(i){let n=JSON.parse(i);return typeof n!="object"||!n||$9.test(i)===!1&&v9.test(i)===!1?n:w9(n)}function w9(i){let n=[i];for(;n.length;){let r=n;n=[];for(let u of r){if(Object.prototype.hasOwnProperty.call(u,"__proto__")||Object.prototype.hasOwnProperty.call(u,"constructor")&&Object.prototype.hasOwnProperty.call(u.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let t in u){let o=u[t];o&&typeof o=="object"&&n.push(o)}}}return i}function vD(i){let{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return _9(i)}finally{Error.stackTraceLimit=n}}var J0=Symbol.for("vercel.ai.validator");function h9(i){return{[J0]:!0,validate:i}}function b9(i){return typeof i=="object"&&!!i&&J0 in i&&i[J0]===!0&&"validate"in i}function f9(i){return b9(i)?i:U9(i)}function U9(i){return h9(async(n)=>{let r=await i["~standard"].validate(n);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new gi({value:n,cause:r.issues})}})}async function O9({value:i,schema:n}){let r=await Y0({value:i,schema:n});if(!r.success)throw gi.wrap({value:i,cause:r.error});return r.value}async function Y0({value:i,schema:n}){let r=f9(n);try{if(r.validate==null)return{success:!0,value:i,rawValue:i};let u=await r.validate(i);return u.success?{success:!0,value:u.value,rawValue:i}:{success:!1,error:gi.wrap({value:i,cause:u.error}),rawValue:i}}catch(u){return{success:!1,error:gi.wrap({value:i,cause:u}),rawValue:i}}}async function I9({text:i,schema:n}){try{let r=vD(i);return n==null?r:O9({value:r,schema:n})}catch(r){throw Ui.isInstance(r)||gi.isInstance(r)?r:new Ui({text:i,cause:r})}}async function _D({text:i,schema:n}){try{let r=vD(i);return n==null?{success:!0,value:r,rawValue:r}:await Y0({value:r,schema:n})}catch(r){return{success:!1,error:Ui.isInstance(r)?r:new Ui({text:i,cause:r}),rawValue:void 0}}}function j9({stream:i,schema:n}){return i.pipeThrough(new TextDecoderStream).pipeThrough(new Yg).pipeThrough(new TransformStream({async transform({data:r},u){r!=="[DONE]"&&u.enqueue(await _D({text:r,schema:n}))}}))}async function D9({provider:i,providerOptions:n,schema:r}){if(n?.[i]==null)return;let u=await Y0({value:n[i],schema:r});if(!u.success)throw new An({argument:"providerOptions",message:`invalid ${i} provider options`,cause:u.error});return u.value}var N9=()=>globalThis.fetch,YI=async({url:i,headers:n,body:r,failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l})=>E9({url:i,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:u,successfulResponseHandler:t,abortSignal:o,fetch:l}),E9=async({url:i,headers:n={},body:r,successfulResponseHandler:u,failedResponseHandler:t,abortSignal:o,fetch:l=N9()})=>{try{let e=await l(i,{method:"POST",headers:$D(n,`ai-sdk/provider-utils/${e9}`,r9()),body:r.content,signal:o}),c=Kg(e);if(!e.ok){let $;try{$=await t({response:e,url:i,requestBodyValues:r.values})}catch(v){throw E0(v)||T.isInstance(v)?v:new T({message:"Failed to process error response",cause:v,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}throw $.value}try{return await u({response:e,url:i,requestBodyValues:r.values})}catch($){throw $ instanceof Error&&(E0($)||T.isInstance($))?$:new T({message:"Failed to process successful response",cause:$,statusCode:e.status,url:i,responseHeaders:c,requestBodyValues:r.values})}}catch(e){throw g9({error:e,url:i,requestBodyValues:r.values})}},J9=({errorSchema:i,errorToMessage:n,isRetryable:r})=>async({response:u,url:t,requestBodyValues:o})=>{let l=await u.text(),e=Kg(u);if(l.trim()==="")return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})};try{let c=await I9({text:l,schema:i});return{responseHeaders:e,value:new T({message:n(c),url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,data:c,isRetryable:r?.(u,c)})}}catch{return{responseHeaders:e,value:new T({message:u.statusText,url:t,requestBodyValues:o,statusCode:u.status,responseHeaders:e,responseBody:l,isRetryable:r?.(u)})}}},z9=(i)=>async({response:n})=>{let r=Kg(n);if(n.body==null)throw new Qg({});return{responseHeaders:r,value:j9({stream:n.body,schema:i})}},q9=(i)=>async({response:n,url:r,requestBodyValues:u})=>{let t=await n.text(),o=await _D({text:t,schema:i}),l=Kg(n);if(!o.success)throw new T({message:"Invalid JSON response",cause:o.error,statusCode:n.status,responseHeaders:l,responseBody:t,url:r,requestBodyValues:u});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}},{btoa:H9,atob:z7}=globalThis;function W9(i){let n="";for(let r=0;r<i.length;r++)n+=String.fromCodePoint(i[r]);return H9(n)}function G9(i){return i instanceof Uint8Array?W9(i):i}function L9(i){return i?.replace(/\\/$/,"")}function X9(i){let n=[],r=[];for(let{role:u,content:t}of i)switch(u){case"system":n.push({role:"system",content:t});break;case"user":if(t.length===1&&t[0].type==="text"){n.push({role:"user",content:t[0].text});break}n.push({role:"user",content:t.map((o)=>{switch(o.type){case"text":return{type:"text",text:o.text};case"file":if(o.mediaType.startsWith("image/")){let l=o.mediaType==="image/*"?"image/jpeg":o.mediaType;return{type:"image_url",image_url:{url:o.data instanceof URL?o.data.toString():`data:${l};base64,${G9(o.data)}`}}}else throw new vi({functionality:`file part media type ${o.mediaType}`})}})});break;case"assistant":{let o="",l=[];for(let e of t)switch(e.type){case"text":o+=e.text;break;case"tool-call":l.push({id:e.toolCallId,type:"function",function:{name:e.toolName,arguments:JSON.stringify(e.input)}});break}n.push({role:"assistant",content:o,tool_calls:l.length>0?l:void 0});break}case"tool":for(let o of t){let l=o.output,e;switch(l.type){case"text":case"error-text":e=l.value;break;case"content":case"json":case"error-json":e=JSON.stringify(l.value);break}n.push({role:"tool",tool_call_id:o.toolCallId,content:e})}break;default:throw Error(`Unsupported role: ${u}`)}return{messages:n,warnings:r}}function QI({id:i,model:n,created:r}){return{id:i??void 0,modelId:n??void 0,timestamp:r==null?void 0:new Date(r*1000)}}function BI(i){switch(i){case"stop":return"stop";case"length":return"length";case"tool_calls":case"function_call":return"tool-calls";case"content_filter":return"content-filter";default:return"unknown"}}var S9=g.object({type:g.literal("web"),country:g.string().length(2).optional(),excludedWebsites:g.array(g.string()).max(5).optional(),allowedWebsites:g.array(g.string()).max(5).optional(),safeSearch:g.boolean().optional()}),m9=g.object({type:g.literal("x"),excludedXHandles:g.array(g.string()).optional(),includedXHandles:g.array(g.string()).optional(),postFavoriteCount:g.number().int().optional(),postViewCount:g.number().int().optional(),xHandles:g.array(g.string()).optional()}),Y9=g.object({type:g.literal("news"),country:g.string().length(2).optional(),excludedWebsites:g.array(g.string()).max(5).optional(),safeSearch:g.boolean().optional()}),Q9=g.object({type:g.literal("rss"),links:g.array(g.string().url()).max(1)}),B9=g.discriminatedUnion("type",[S9,m9,Y9,Q9]),A9=g.object({reasoningEffort:g.enum(["low","high"]).optional(),searchParameters:g.object({mode:g.enum(["off","auto","on"]),returnCitations:g.boolean().optional(),fromDate:g.string().optional(),toDate:g.string().optional(),maxSearchResults:g.number().min(1).max(50).optional(),sources:g.array(B9).optional()}).optional()}),wD=g.object({error:g.object({message:g.string(),type:g.string().nullish(),param:g.any().nullish(),code:g.union([g.string(),g.number()]).nullish()})}),AI=J9({errorSchema:wD,errorToMessage:(i)=>i.error.message});function V9({tools:i,toolChoice:n}){i=i?.length?i:void 0;let r=[];if(i==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let u=[];for(let o of i)o.type==="provider-defined"?r.push({type:"unsupported-tool",tool:o}):u.push({type:"function",function:{name:o.name,description:o.description,parameters:o.inputSchema}});if(n==null)return{tools:u,toolChoice:void 0,toolWarnings:r};let t=n.type;switch(t){case"auto":case"none":return{tools:u,toolChoice:t,toolWarnings:r};case"required":return{tools:u,toolChoice:"required",toolWarnings:r};case"tool":return{tools:u,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:r};default:throw new vi({functionality:`tool choice type: ${t}`})}}var K9=class{constructor(i,n){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\\/\\/.*$/]},this.modelId=i,this.config=n}get provider(){return this.config.provider}async getArgs({prompt:i,maxOutputTokens:n,temperature:r,topP:u,topK:t,frequencyPenalty:o,presencePenalty:l,stopSequences:e,seed:c,responseFormat:$,providerOptions:v,tools:_,toolChoice:w}){let h=[],f=await D9({provider:"xai",providerOptions:v,schema:A9})??{};t!=null&&h.push({type:"unsupported-setting",setting:"topK"}),o!=null&&h.push({type:"unsupported-setting",setting:"frequencyPenalty"}),l!=null&&h.push({type:"unsupported-setting",setting:"presencePenalty"}),e!=null&&h.push({type:"unsupported-setting",setting:"stopSequences"}),$!=null&&$.type==="json"&&$.schema!=null&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let{messages:U,warnings:j}=X9(i);h.push(...j);let{tools:q,toolChoice:D,toolWarnings:O}=V9({tools:_,toolChoice:w});return h.push(...O),{args:{model:this.modelId,max_tokens:n,temperature:r,top_p:u,seed:c,reasoning_effort:f.reasoningEffort,response_format:$?.type==="json"?$.schema==null?{type:"json_object"}:{type:"json_schema",json_schema:{name:$.name??"response",schema:$.schema,strict:!0}}:void 0,search_parameters:f.searchParameters?{mode:f.searchParameters.mode,return_citations:f.searchParameters.returnCitations,from_date:f.searchParameters.fromDate,to_date:f.searchParameters.toDate,max_search_results:f.searchParameters.maxSearchResults,sources:f.searchParameters.sources?.map((b)=>({type:b.type,...b.type==="web"&&{country:b.country,excluded_websites:b.excludedWebsites,allowed_websites:b.allowedWebsites,safe_search:b.safeSearch},...b.type==="x"&&{excluded_x_handles:b.excludedXHandles,included_x_handles:b.includedXHandles??b.xHandles,post_favorite_count:b.postFavoriteCount,post_view_count:b.postViewCount},...b.type==="news"&&{country:b.country,excluded_websites:b.excludedWebsites,safe_search:b.safeSearch},...b.type==="rss"&&{links:b.links}}))}:void 0,messages:U,tools:q,tool_choice:D},warnings:h}}async doGenerate(i){let{args:n,warnings:r}=await this.getArgs(i),{responseHeaders:u,value:t,rawValue:o}=await YI({url:`${this.config.baseURL??"https://api.x.ai/v1"}/chat/completions`,headers:mI(this.config.headers(),i.headers),body:n,failedResponseHandler:AI,successfulResponseHandler:q9(y9),abortSignal:i.abortSignal,fetch:this.config.fetch}),l=t.choices[0],e=[];if(l.message.content!=null&&l.message.content.length>0){let c=l.message.content,$=n.messages[n.messages.length-1];$?.role==="assistant"&&c===$.content&&(c=""),c.length>0&&e.push({type:"text",text:c})}if(l.message.reasoning_content!=null&&l.message.reasoning_content.length>0&&e.push({type:"reasoning",text:l.message.reasoning_content}),l.message.tool_calls!=null)for(let c of l.message.tool_calls)e.push({type:"tool-call",toolCallId:c.id,toolName:c.function.name,input:c.function.arguments});if(t.citations!=null)for(let c of t.citations)e.push({type:"source",sourceType:"url",id:this.config.generateId(),url:c});return{content:e,finishReason:BI(l.finish_reason),usage:{inputTokens:t.usage.prompt_tokens,outputTokens:t.usage.completion_tokens,totalTokens:t.usage.total_tokens,reasoningTokens:t.usage.completion_tokens_details?.reasoning_tokens??void 0},request:{body:n},response:{...QI(t),headers:u,body:o},warnings:r}}async doStream(i){let{args:n,warnings:r}=await this.getArgs(i),u={...n,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:t,value:o}=await YI({url:`${this.config.baseURL??"https://api.x.ai/v1"}/chat/completions`,headers:mI(this.config.headers(),i.headers),body:u,failedResponseHandler:AI,successfulResponseHandler:z9(M9),abortSignal:i.abortSignal,fetch:this.config.fetch}),l="unknown",e={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},c=!0,$={},v={},_=this;return{stream:o.pipeThrough(new TransformStream({start(w){w.enqueue({type:"stream-start",warnings:r})},transform(w,h){if(i.includeRawChunks&&h.enqueue({type:"raw",rawValue:w.rawValue}),!w.success){h.enqueue({type:"error",error:w.error});return}let f=w.value;if(c&&=(h.enqueue({type:"response-metadata",...QI(f)}),!1),f.citations!=null)for(let D of f.citations)h.enqueue({type:"source",sourceType:"url",id:_.config.generateId(),url:D});f.usage!=null&&(e.inputTokens=f.usage.prompt_tokens,e.outputTokens=f.usage.completion_tokens,e.totalTokens=f.usage.total_tokens,e.reasoningTokens=f.usage.completion_tokens_details?.reasoning_tokens??void 0);let U=f.choices[0];if(U?.finish_reason!=null&&(l=BI(U.finish_reason)),U?.delta==null)return;let{delta:j,index:q}=U;if(j.content!=null&&j.content.length>0){let D=j.content,O=u.messages[u.messages.length-1];if(O?.role==="assistant"&&D===O.content)return;let b=`text-${f.id||q}`;$[b]??($[b]={type:"text"},h.enqueue({type:"text-start",id:b})),h.enqueue({type:"text-delta",id:b,delta:D})}if(j.reasoning_content!=null&&j.reasoning_content.length>0){let D=`reasoning-${f.id||q}`;if(v[D]===j.reasoning_content)return;v[D]=j.reasoning_content,$[D]??($[D]={type:"reasoning"},h.enqueue({type:"reasoning-start",id:D})),h.enqueue({type:"reasoning-delta",id:D,delta:j.reasoning_content})}if(j.tool_calls!=null)for(let D of j.tool_calls){let O=D.id;h.enqueue({type:"tool-input-start",id:O,toolName:D.function.name}),h.enqueue({type:"tool-input-delta",id:O,delta:D.function.arguments}),h.enqueue({type:"tool-input-end",id:O}),h.enqueue({type:"tool-call",toolCallId:O,toolName:D.function.name,input:D.function.arguments})}},flush(w){for(let[h,f]of Object.entries($))w.enqueue({type:f.type==="text"?"text-end":"reasoning-end",id:h});w.enqueue({type:"finish",finishReason:l,usage:e})}})),request:{body:u},response:{headers:t}}}},hD=g.object({prompt_tokens:g.number(),completion_tokens:g.number(),total_tokens:g.number(),completion_tokens_details:g.object({reasoning_tokens:g.number().nullish()}).nullish()}),y9=g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({message:g.object({role:g.literal("assistant"),content:g.string().nullish(),reasoning_content:g.string().nullish(),tool_calls:g.array(g.object({id:g.string(),type:g.literal("function"),function:g.object({name:g.string(),arguments:g.string()})})).nullish()}),index:g.number(),finish_reason:g.string().nullish()})),object:g.literal("chat.completion"),usage:hD,citations:g.array(g.string().url()).nullish()}),M9=g.object({id:g.string().nullish(),created:g.number().nullish(),model:g.string().nullish(),choices:g.array(g.object({delta:g.object({role:g.enum(["assistant"]).optional(),content:g.string().nullish(),reasoning_content:g.string().nullish(),tool_calls:g.array(g.object({id:g.string(),type:g.literal("function"),function:g.object({name:g.string(),arguments:g.string()})})).nullish()}),finish_reason:g.string().nullish(),index:g.number()})),usage:hD.nullish(),citations:g.array(g.string().url()).nullish()}),k9="2.0.23",F9={errorSchema:wD,errorToMessage:(i)=>i.error.message};function T9(i={}){let n=L9(i.baseURL??"https://api.x.ai/v1"),r=()=>$D({Authorization:`Bearer ${c9({apiKey:i.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...i.headers},`ai-sdk/xai/${k9}`),u=(l)=>new K9(l,{provider:"xai.chat",baseURL:n,headers:r,generateId:o9,fetch:i.fetch}),t=(l)=>new n9(l,{provider:"xai.image",url:({path:e})=>`${n}${e}`,headers:r,fetch:i.fetch,errorStructure:F9}),o=(l)=>u(l);return o.languageModel=u,o.chat=u,o.textEmbeddingModel=(l)=>{throw new h0({modelId:l,modelType:"textEmbeddingModel"})},o.imageModel=t,o.image=t,o}T9();var bD="BLINK_API_URL";var fD=(i,n,r)=>(u,t)=>{let o=-1;return l(0);async function l(e){if(e<=o)throw Error("next() called multiple times");o=e;let c,$=!1,v;if(i[e]?(v=i[e][0][0],u.req.routeIndex=e):v=e===i.length&&t||void 0,v)try{c=await v(u,()=>l(e+1))}catch(_){if(_ instanceof Error&&n)u.error=_,c=await n(_,u),$=!0;else throw _}else u.finalized===!1&&r&&(c=await r(u));return c&&(u.finalized===!1||$)&&(u.res=c),u}},P9=Symbol(),x9=async(i,n=Object.create(null))=>{let{all:r=!1,dot:u=!1}=n,t=(i instanceof jD?i.raw.headers:i.headers).get("Content-Type");return t?.startsWith("multipart/form-data")||t?.startsWith("application/x-www-form-urlencoded")?C9(i,{all:r,dot:u}):{}};async function C9(i,n){let r=await i.formData();return r?R9(r,n):{}}function R9(i,n){let r=Object.create(null);return i.forEach((u,t)=>{n.all||t.endsWith("[]")?d9(r,t,u):r[t]=u}),n.dot&&Object.entries(r).forEach(([u,t])=>{u.includes(".")&&(Z9(r,u,t),delete r[u])}),r}var d9=(i,n,r)=>{i[n]===void 0?n.endsWith("[]")?i[n]=[r]:i[n]=r:Array.isArray(i[n])?i[n].push(r):i[n]=[i[n],r]},Z9=(i,n,r)=>{let u=i,t=n.split(".");t.forEach((o,l)=>{l===t.length-1?u[o]=r:((!u[o]||typeof u[o]!="object"||Array.isArray(u[o])||u[o]instanceof File)&&(u[o]=Object.create(null)),u=u[o])})},UD=(i)=>ku(i,Wg),jD=class{raw;#n;#i;routeIndex=0;path;bodyCache={};constructor(i,n="/",r=[[]]){this.raw=i,this.path=n,this.#i=r,this.#n={}}param(i){return i?this.#r(i):this.#t()}#r(i){let n=this.#i[0][this.routeIndex][1][i],r=this.#u(n);return r&&/\\%/.test(r)?UD(r):r}#t(){let i={},n=Object.keys(this.#i[0][this.routeIndex][1]);for(let r of n){let u=this.#u(this.#i[0][this.routeIndex][1][r]);u!==void 0&&(i[r]=/\\%/.test(u)?UD(u):u)}return i}#u(i){return this.#i[1]?this.#i[1][i]:i}query(i){return vI(this.url,i)}queries(i){return _I(this.url,i)}header(i){if(i)return this.raw.headers.get(i)??void 0;let n={};return this.raw.headers.forEach((r,u)=>{n[u]=r}),n}async parseBody(i){return this.bodyCache.parsedBody??=await x9(this,i)}#o=(i)=>{let{bodyCache:n,raw:r}=this,u=n[i];if(u)return u;let t=Object.keys(n)[0];return t?n[t].then((o)=>(t==="json"&&(o=JSON.stringify(o)),new Response(o)[i]())):n[i]=r[i]()};json(){return this.#o("text").then((i)=>JSON.parse(i))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(i,n){this.#n[i]=n}valid(i){return this.#n[i]}get url(){return this.raw.url}get method(){return this.raw.method}get[P9](){return this.#i}get matchedRoutes(){return this.#i[0].map(([[,i]])=>i)}get routePath(){return this.#i[0].map(([[,i]])=>i)[this.routeIndex].path}},a9={Stringify:1,BeforeStream:2,Stream:3},p9=(i,n)=>{let r=new String(i);return r.isEscaped=!0,r.callbacks=n,r},DD=async(i,n,r,u,t)=>{typeof i=="object"&&!(i instanceof String)&&(i instanceof Promise||(i=i.toString()),i instanceof Promise&&(i=await i));let o=i.callbacks;if(!o?.length)return Promise.resolve(i);t?t[0]+=i:t=[i];let l=Promise.all(o.map((e)=>e({phase:n,buffer:t,context:u}))).then((e)=>Promise.all(e.filter(Boolean).map((c)=>DD(c,n,!1,u,t))).then(()=>t[0]));return r?p9(await l,o):l},s9="text/plain; charset=UTF-8",Q0=(i,n)=>({"Content-Type":i,...n}),i8=class{#n;#i;env={};#r;finalized=!1;error;#t;#u;#o;#g;#_;#w;#$;#l;#f;constructor(i,n){this.#n=i,n&&(this.#u=n.executionCtx,this.env=n.env,this.#w=n.notFoundHandler,this.#f=n.path,this.#l=n.matchResult)}get req(){return this.#i??=new jD(this.#n,this.#f,this.#l),this.#i}get event(){if(this.#u&&"respondWith"in this.#u)return this.#u;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#u)return this.#u;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#$??=new Headers})}set res(i){if(this.#o&&i){i=new Response(i.body,i);for(let[n,r]of this.#o.headers.entries())if(n!=="content-type")if(n==="set-cookie"){let u=this.#o.headers.getSetCookie();i.headers.delete("set-cookie");for(let t of u)i.headers.append("set-cookie",t)}else i.headers.set(n,r)}this.#o=i,this.finalized=!0}render=(...i)=>(this.#_??=(n)=>this.html(n),this.#_(...i));setLayout=(i)=>this.#g=i;getLayout=()=>this.#g;setRenderer=(i)=>{this.#_=i};header=(i,n,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let u=this.#o?this.#o.headers:this.#$??=new Headers;n===void 0?u.delete(i):r?.append?u.append(i,n):u.set(i,n)};status=(i)=>{this.#t=i};set=(i,n)=>{this.#r??=new Map,this.#r.set(i,n)};get=(i)=>this.#r?this.#r.get(i):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#v(i,n,r){let u=this.#o?new Headers(this.#o.headers):this.#$??new Headers;if(typeof n=="object"&&"headers"in n){let o=n.headers instanceof Headers?n.headers:new Headers(n.headers);for(let[l,e]of o)l.toLowerCase()==="set-cookie"?u.append(l,e):u.set(l,e)}if(r)for(let[o,l]of Object.entries(r))if(typeof l=="string")u.set(o,l);else{u.delete(o);for(let e of l)u.append(o,e)}let t=typeof n=="number"?n:n?.status??this.#t;return new Response(i,{status:t,headers:u})}newResponse=(...i)=>this.#v(...i);body=(i,n,r)=>this.#v(i,n,r);text=(i,n,r)=>!this.#$&&!this.#t&&!n&&!r&&!this.finalized?new Response(i):this.#v(i,n,Q0(s9,r));json=(i,n,r)=>this.#v(JSON.stringify(i),n,Q0("application/json",r));html=(i,n,r)=>{let u=(t)=>this.#v(t,n,Q0("text/html; charset=UTF-8",r));return typeof i=="object"?DD(i,a9.Stringify,!1,{}).then(u):u(i)};redirect=(i,n)=>{let r=String(i);return this.header("Location",/[^\\x00-\\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,n??302)};notFound=()=>(this.#w??=()=>new Response,this.#w(this))},Ii="ALL",n8="all",t8=["get","post","put","delete","options","patch"],ND="Can not add a route since the matcher is already built.",ED=class extends Error{},r8="__COMPOSED_HANDLER",u8=(i)=>i.text("404 Not Found",404),OD=(i,n)=>{if("getResponse"in i){let r=i.getResponse();return n.newResponse(r.body,r)}return console.error(i),n.text("Internal Server Error",500)},JD=class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#n="/";routes=[];constructor(i={}){[...t8,n8].forEach((u)=>{this[u]=(t,...o)=>(typeof t=="string"?this.#n=t:this.#t(u,this.#n,t),o.forEach((l)=>{this.#t(u,this.#n,l)}),this)}),this.on=(u,t,...o)=>{for(let l of[t].flat()){this.#n=l;for(let e of[u].flat())o.map((c)=>{this.#t(e.toUpperCase(),this.#n,c)})}return this},this.use=(u,...t)=>(typeof u=="string"?this.#n=u:(this.#n="*",t.unshift(u)),t.forEach((o)=>{this.#t(Ii,this.#n,o)}),this);let{strict:n,...r}=i;Object.assign(this,r),this.getPath=n??!0?i.getPath??c0:cI}#i(){let i=new JD({router:this.router,getPath:this.getPath});return i.errorHandler=this.errorHandler,i.#r=this.#r,i.routes=this.routes,i}#r=u8;errorHandler=OD;route(i,n){let r=this.basePath(i);return n.routes.map((u)=>{let t;n.errorHandler===OD?t=u.handler:(t=async(o,l)=>(await fD([],n.errorHandler)(o,()=>u.handler(o,l))).res,t[r8]=u.handler),r.#t(u.method,u.path,t)}),this}basePath(i){let n=this.#i();return n._basePath=Lt(this._basePath,i),n}onError=(i)=>(this.errorHandler=i,this);notFound=(i)=>(this.#r=i,this);mount(i,n,r){let u,t;r&&(typeof r=="function"?t=r:(t=r.optionHandler,u=r.replaceRequest===!1?(l)=>l:r.replaceRequest));let o=t?(l)=>{let e=t(l);return Array.isArray(e)?e:[e]}:(l)=>{let e;try{e=l.executionCtx}catch{}return[l.env,e]};return u||=(()=>{let l=Lt(this._basePath,i),e=l==="/"?0:l.length;return(c)=>{let $=new URL(c.url);return $.pathname=$.pathname.slice(e)||"/",new Request($,c)}})(),this.#t(Ii,Lt(i,"*"),async(l,e)=>{let c=await n(u(l.req.raw),...o(l));if(c)return c;await e()}),this}#t(i,n,r){i=i.toUpperCase(),n=Lt(this._basePath,n);let u={basePath:this._basePath,path:n,method:i,handler:r};this.router.add(i,n,[r,u]),this.routes.push(u)}#u(i,n){if(i instanceof Error)return this.errorHandler(i,n);throw i}#o(i,n,r,u){if(u==="HEAD")return(async()=>new Response(null,await this.#o(i,n,r,"GET")))();let t=this.getPath(i,{env:r}),o=this.router.match(u,t),l=new i8(i,{path:t,matchResult:o,env:r,executionCtx:n,notFoundHandler:this.#r});if(o[0].length===1){let c;try{c=o[0][0][0][0](l,async()=>{l.res=await this.#r(l)})}catch($){return this.#u($,l)}return c instanceof Promise?c.then(($)=>$||(l.finalized?l.res:this.#r(l))).catch(($)=>this.#u($,l)):c??this.#r(l)}let e=fD(o[0],this.errorHandler,this.#r);return(async()=>{try{let c=await e(l);if(!c.finalized)throw Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return this.#u(c,l)}})()}fetch=(i,...n)=>this.#o(i,n[1],n[0],i.method);request=(i,n,r,u)=>i instanceof Request?this.fetch(n?new Request(i,n):i,r,u):(i=i.toString(),this.fetch(new Request(/^https?:\\/\\//.test(i)?i:`http://localhost${Lt("/",i)}`,n),r,u));fire=()=>{addEventListener("fetch",(i)=>{i.respondWith(this.#o(i.request,i,void 0,i.request.method))})}},yg="[^/]+",du=".*",Zu="(?:|/.*)",Ru=Symbol(),o8=new Set(".\\\\+*[^]$()");function l8(i,n){return i.length===1?n.length===1?i<n?-1:1:-1:n.length===1||i===du||i===Zu?1:n===du||n===Zu?-1:i===yg?1:n===yg?-1:i.length===n.length?i<n?-1:1:n.length-i.length}var A0=class{#n;#i;#r=Object.create(null);insert(i,n,r,u,t){if(i.length===0){if(this.#n!==void 0)throw Ru;if(t)return;this.#n=n;return}let[o,...l]=i,e=o==="*"?l.length===0?["","",du]:["","",yg]:o==="/*"?["","",Zu]:o.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/),c;if(e){let $=e[1],v=e[2]||yg;if($&&e[2]&&(v===".*"||(v=v.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/,"(?:"),/\\((?!\\?:)/.test(v))))throw Ru;if(c=this.#r[v],!c){if(Object.keys(this.#r).some((_)=>_!==du&&_!==Zu))throw Ru;if(t)return;c=this.#r[v]=new A0,$!==""&&(c.#i=u.varIndex++)}!t&&$!==""&&r.push([$,c.#i])}else if(c=this.#r[o],!c){if(Object.keys(this.#r).some(($)=>$.length>1&&$!==du&&$!==Zu))throw Ru;if(t)return;c=this.#r[o]=new A0}c.insert(l,n,r,u,t)}buildRegExpStr(){let i=Object.keys(this.#r).sort(l8).map((n)=>{let r=this.#r[n];return(typeof r.#i=="number"?`(${n})@${r.#i}`:o8.has(n)?`\\\\${n}`:n)+r.buildRegExpStr()});return typeof this.#n=="number"&&i.unshift(`#${this.#n}`),i.length===0?"":i.length===1?i[0]:"(?:"+i.join("|")+")"}},g8=class{#n={varIndex:0};#i=new A0;insert(i,n,r){let u=[],t=[];for(let l=0;;){let e=!1;if(i=i.replace(/\\{[^}]+\\}/g,(c)=>{let $=`@\\\\${l}`;return t[l]=[$,c],l++,e=!0,$}),!e)break}let o=i.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g)||[];for(let l=t.length-1;l>=0;l--){let[e]=t[l];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(e)!==-1){o[c]=o[c].replace(e,t[l][1]);break}}return this.#i.insert(o,n,u,this.#n,r),u}buildRegExp(){let i=this.#i.buildRegExpStr();if(i==="")return[/^$/,[],[]];let n=0,r=[],u=[];return i=i.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g,(t,o,l)=>o===void 0?(l===void 0||(u[Number(l)]=++n),""):(r[++n]=Number(o),"$()")),[RegExp(`^${i}`),r,u]}},zD=[],e8=[/^$/,[],Object.create(null)],qD=Object.create(null);function HD(i){return qD[i]??=RegExp(i==="*"?"":`^${i.replace(/\\/\\*$|([.\\\\+*[^\\]$()])/g,(n,r)=>r?`\\\\${r}`:"(?:|/.*)")}$`)}function c8(){qD=Object.create(null)}function $8(i){let n=new g8,r=[];if(i.length===0)return e8;let u=i.map(($)=>[!/\\*|\\/:/.test($[0]),...$]).sort(([$,v],[_,w])=>$?1:_?-1:v.length-w.length),t=Object.create(null);for(let $=0,v=-1,_=u.length;$<_;$++){let[w,h,f]=u[$];w?t[h]=[f.map(([j])=>[j,Object.create(null)]),zD]:v++;let U;try{U=n.insert(h,v,w)}catch(j){throw j===Ru?new ED(h):j}w||(r[v]=f.map(([j,q])=>{let D=Object.create(null);for(--q;q>=0;q--){let[O,b]=U[q];D[O]=b}return[j,D]}))}let[o,l,e]=n.buildRegExp();for(let $=0,v=r.length;$<v;$++)for(let _=0,w=r[$].length;_<w;_++){let h=r[$][_]?.[1];if(!h)continue;let f=Object.keys(h);for(let U=0,j=f.length;U<j;U++)h[f[U]]=e[h[f[U]]]}let c=[];for(let $ in l)c[$]=r[l[$]];return[o,c,t]}function qr(i,n){if(i){for(let r of Object.keys(i).sort((u,t)=>t.length-u.length))if(HD(r).test(n))return[...i[r]]}}var v8=class{name="RegExpRouter";#n;#i;constructor(){this.#n={[Ii]:Object.create(null)},this.#i={[Ii]:Object.create(null)}}add(i,n,r){let u=this.#n,t=this.#i;if(!u||!t)throw Error(ND);u[i]||[u,t].forEach((e)=>{e[i]=Object.create(null),Object.keys(e[Ii]).forEach((c)=>{e[i][c]=[...e[Ii][c]]})}),n==="/*"&&(n="*");let o=(n.match(/\\/:/g)||[]).length;if(/\\*$/.test(n)){let e=HD(n);i===Ii?Object.keys(u).forEach((c)=>{u[c][n]||=qr(u[c],n)||qr(u[Ii],n)||[]}):u[i][n]||=qr(u[i],n)||qr(u[Ii],n)||[],Object.keys(u).forEach((c)=>{(i===Ii||i===c)&&Object.keys(u[c]).forEach(($)=>{e.test($)&&u[c][$].push([r,o])})}),Object.keys(t).forEach((c)=>{(i===Ii||i===c)&&Object.keys(t[c]).forEach(($)=>e.test($)&&t[c][$].push([r,o]))});return}let l=$0(n)||[n];for(let e=0,c=l.length;e<c;e++){let $=l[e];Object.keys(t).forEach((v)=>{(i===Ii||i===v)&&(t[v][$]||=[...qr(u[v],$)||qr(u[Ii],$)||[]],t[v][$].push([r,o-c+e+1]))})}}match(i,n){c8();let r=this.#r();return this.match=(u,t)=>{let o=r[u]||r[Ii],l=o[2][t];if(l)return l;let e=t.match(o[0]);if(!e)return[[],zD];let c=e.indexOf("",1);return[o[1][c],e]},this.match(i,n)}#r(){let i=Object.create(null);return Object.keys(this.#i).concat(Object.keys(this.#n)).forEach((n)=>{i[n]||=this.#t(n)}),this.#n=this.#i=void 0,i}#t(i){let n=[],r=i===Ii;return[this.#n,this.#i].forEach((u)=>{let t=u[i]?Object.keys(u[i]).map((o)=>[o,u[i][o]]):[];t.length===0?i!==Ii&&n.push(...Object.keys(u[Ii]).map((o)=>[o,u[Ii][o]])):(r||=!0,n.push(...t))}),r?$8(n):null}},_8=class{name="SmartRouter";#n=[];#i=[];constructor(i){this.#n=i.routers}add(i,n,r){if(!this.#i)throw Error(ND);this.#i.push([i,n,r])}match(i,n){if(!this.#i)throw Error("Fatal error");let r=this.#n,u=this.#i,t=r.length,o=0,l;for(;o<t;o++){let e=r[o];try{for(let c=0,$=u.length;c<$;c++)e.add(...u[c]);l=e.match(i,n)}catch(c){if(c instanceof ED)continue;throw c}this.match=e.match.bind(e),this.#n=[e],this.#i=void 0;break}if(o===t)throw Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,l}get activeRouter(){if(this.#i||this.#n.length!==1)throw Error("No active router has been determined yet.");return this.#n[0]}},Cu=Object.create(null),WD=class{#n;#i;#r;#t=0;#u=Cu;constructor(i,n,r){if(this.#i=r||Object.create(null),this.#n=[],i&&n){let u=Object.create(null);u[i]={handler:n,possibleKeys:[],score:0},this.#n=[u]}this.#r=[]}insert(i,n,r){this.#t=++this.#t;let u=this,t=gI(n),o=[];for(let l=0,e=t.length;l<e;l++){let c=t[l],$=t[l+1],v=eI(c,$),_=Array.isArray(v)?v[0]:c;if(_ in u.#i){u=u.#i[_],v&&o.push(v[1]);continue}u.#i[_]=new WD,v&&(u.#r.push(v),o.push(v[1])),u=u.#i[_]}return u.#n.push({[i]:{handler:r,possibleKeys:o.filter((l,e,c)=>c.indexOf(l)===e),score:this.#t}}),u}#o(i,n,r,u){let t=[];for(let o=0,l=i.#n.length;o<l;o++){let e=i.#n[o],c=e[n]||e[Ii],$={};if(c!==void 0&&(c.params=Object.create(null),t.push(c),r!==Cu||u&&u!==Cu))for(let v=0,_=c.possibleKeys.length;v<_;v++){let w=c.possibleKeys[v],h=$[c.score];c.params[w]=u?.[w]&&!h?u[w]:r[w]??u?.[w],$[c.score]=!0}}return t}search(i,n){let r=[];this.#u=Cu;let u=[this],t=e0(n),o=[];for(let l=0,e=t.length;l<e;l++){let c=t[l],$=l===e-1,v=[];for(let _=0,w=u.length;_<w;_++){let h=u[_],f=h.#i[c];f&&(f.#u=h.#u,$?(f.#i["*"]&&r.push(...this.#o(f.#i["*"],i,h.#u)),r.push(...this.#o(f,i,h.#u))):v.push(f));for(let U=0,j=h.#r.length;U<j;U++){let q=h.#r[U],D=h.#u===Cu?{}:{...h.#u};if(q==="*"){let E=h.#i["*"];E&&(r.push(...this.#o(E,i,h.#u)),E.#u=D,v.push(E));continue}let[O,b,I]=q;if(!c&&!(I instanceof RegExp))continue;let z=h.#i[O],Y=t.slice(l).join("/");if(I instanceof RegExp){let E=I.exec(Y);if(E){if(D[b]=E[0],r.push(...this.#o(z,i,h.#u,D)),Object.keys(z.#i).length){z.#u=D;let S=E[0].match(/\\//)?.length??0;(o[S]||=[]).push(z)}continue}}(I===!0||I.test(c))&&(D[b]=c,$?(r.push(...this.#o(z,i,D,h.#u)),z.#i["*"]&&r.push(...this.#o(z.#i["*"],i,D,h.#u))):(z.#u=D,v.push(z)))}}u=v.concat(o.shift()??[])}return r.length>1&&r.sort((l,e)=>l.score-e.score),[r.map(({handler:l,params:e})=>[l,e])]}},w8=class{name="TrieRouter";#n;constructor(){this.#n=new WD}add(i,n,r){let u=$0(n);if(u){for(let t=0,o=u.length;t<o;t++)this.#n.insert(i,u[t],r);return}this.#n.insert(i,n,r)}match(i,n){return this.#n.search(i,n)}},GD=class extends JD{constructor(i={}){super(i),this.router=i.router??new _8({routers:[new v8,new w8]})}},h8=(i,n,r)=>{let u=i.req.raw.headers.get("Cookie");if(typeof n=="string"){if(!u)return;let t=n;return r==="secure"?t="__Secure-"+n:r==="host"&&(t="__Host-"+n),v0(u,t)[t]}return u?v0(u):{}},ID=class extends Error{res;status;constructor(i=500,n){super(n?.message,{cause:n?.cause}),this.res=n?.res,this.status=i}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},b8=(i,n)=>new Response(i,{headers:{"Content-Type":n}}).formData(),f8=/^application\\/([a-z-\\.]+\\+)?json(;\\s*[a-zA-Z0-9\\-]+\\=([^;]+))*$/,U8=/^multipart\\/form-data(;\\s?boundary=[a-zA-Z0-9\'"()+_,\\-./:=?]+)?$/,O8=/^application\\/x-www-form-urlencoded(;\\s*[a-zA-Z0-9\\-]+\\=([^;]+))*$/,Mg=(i,n)=>async(r,u)=>{let t={},o=r.req.header("Content-Type");switch(i){case"json":if(!o||!f8.test(o))break;try{t=await r.req.json()}catch{throw new ID(400,{message:"Malformed JSON in request body"})}break;case"form":{if(!o||!(U8.test(o)||O8.test(o)))break;let e;if(r.req.bodyCache.formData)e=await r.req.bodyCache.formData;else try{let $=await r.req.arrayBuffer();e=await b8($,o),r.req.bodyCache.formData=e}catch($){let v="Malformed FormData request.";throw v+=$ instanceof Error?` ${$.message}`:` ${String($)}`,new ID(400,{message:v})}let c={};e.forEach(($,v)=>{v.endsWith("[]")?(c[v]??=[]).push($):Array.isArray(c[v])?c[v].push($):(v in c)?c[v]=[c[v],$]:c[v]=$}),t=c;break}case"query":t=Object.fromEntries(Object.entries(r.req.queries()).map(([e,c])=>c.length===1?[e,c[0]]:[e,c]));break;case"param":t=r.req.param();break;case"header":t=r.req.header();break;case"cookie":t=h8(r);break}let l=await n(t,r);if(l instanceof Response)return l;r.req.addValidatedData(i,l),await u()},ot=(i,n)=>i.json({error:n},400),B0=(i)=>{let n=i.req.param("key");return!n||n===""?{key:n,err:"Key is required"}:n.length>475?{key:n,err:"Key is too long. Max length is 475 characters."}:{key:n}},V0=()=>new GD,I8=V0().get("/:key",async(i)=>{let{key:n,err:r}=B0(i);if(r)return ot(i,r);let u=await i.env.store.get(n);return i.json({value:u},200)}).post("/:key",Mg("json",(i,n)=>{let r=i.value;return r?typeof r=="string"?r.length>20000?ot(n,"Value is too long. Max length is 20,000 characters."):{value:r}:ot(n,"Value must be a string"):ot(n,"Value is required")}),async(i)=>{let{key:n,err:r}=B0(i);if(r)return ot(i,r);let{value:u}=i.req.valid("json");return await i.env.store.set(n,u),i.body(null,204)}).delete("/:key",async(i)=>{let{key:n,err:r}=B0(i);return r?ot(i,r):(await i.env.store.delete(n),i.body(null,204))}).get("/",async(i)=>{let{cursor:n,limit:r,prefix:u}=i.req.query(),{entries:t,cursor:o}=await i.env.store.list(u,{cursor:n?String(n):void 0,limit:r?Number(r):100});return i.json({entries:t,cursor:o})}),j8=(i)=>{let n=i.req.param("key");return n?n.length>475?{key:n,err:"Key is too long. Max length is 475 characters."}:{key:n}:{key:n,err:"Key is required"}},Hr=Mg("param",(i)=>({id:i.id})),D8=V0().post("/:key",async(i)=>{let{key:n,err:r}=j8(i);return r?ot(i,r):i.json(await i.env.chat.upsert(n),200)}).get("/:id",Hr,async(i)=>{let{id:n}=i.req.valid("param");return i.json(await i.env.chat.get(n),200)}).get("/:id/messages",Hr,async(i)=>{let{id:n}=i.req.valid("param");return i.json(await i.env.chat.getMessages(n),200)}).post("/:id/sendMessages",Mg("json",(i)=>({id:i.id,messages:i.messages,options:i.options})),async(i)=>{let{id:n,messages:r,options:u}=i.req.valid("json");return n?(await i.env.chat.sendMessages(n,r,u),i.body(null,204)):ot(i,"ID is required")}).delete("/:id/messages",Hr,Mg("query",(i)=>(typeof i.message=="string"&&(i.message=[i.message]),{messages:i.message})),async(i)=>{let{id:n}=i.req.valid("param"),{messages:r}=i.req.valid("query");return await i.env.chat.deleteMessages(n,r),i.body(null,204)}).post("/:id/start",Hr,async(i)=>{let{id:n}=i.req.valid("param");return await i.env.chat.start(n),i.body(null,204)}).post("/:id/stop",Hr,async(i)=>{let{id:n}=i.req.valid("param");return await i.env.chat.stop(n),i.body(null,204)}).delete("/:id",Hr,async(i)=>{let{id:n}=i.req.valid("param");return await i.env.chat.delete(n),i.body(null,204)}),N8=V0().post("/v1/traces",async(i)=>i.env.otlp?i.env.otlp.traces(i.req.raw):i.body(null,204)),LD=new GD().onError((i,n)=>n.json({error:i instanceof Error?i.message:"Unknown error"},500)).route("/kv",I8).route("/chat",D8).route("/otlp",N8);import{createServer as E8,Server as K0}from"node:http";var y0="x-blink-internal-auth";function XD(i){let n=globalThis.fetch,r=(u,t)=>{if((typeof u==="string"?u:u instanceof URL?u.href:u.url).startsWith(i)){let l=pu()??process.env[au];if(l){let e=new Headers(t?.headers);e.set(y0,l),t={...t,headers:e}}}return n(u,t)};Object.assign(r,n),globalThis.fetch=r}async function SD(){let i=process.env[Tg]?parseInt(process.env[Tg],10):12345,n=E8(pe((u)=>{let t=u.headers.get(y0)??void 0,o=new su({baseURL:process.env[k0],authToken:t,deploymentToken:process.env[F0]}),l={get($){return o.getStorage($)},set($,v){return o.setStorage($,v)},delete($){return o.deleteStorage($)},list($,v){return o.listStorage($,v)}},e={traces($){return o.proxyOtlpTraces($)}},c={upsert:async($)=>{let v=await o.upsertChat(JSON.stringify($));return{created:v.created,id:v.id,createdAt:v.created_at}},delete:async($)=>{await o.deleteChat($)},deleteMessages:async($,v)=>{await o.deleteMessages($,v)},get:async($)=>{let v=await o.getChat($);if(!v)return;return{id:v.id,createdAt:v.createdAt}},getMessages:async($)=>{return(await o.getMessages($)).map((_)=>({id:_.id,role:_.role,parts:_.parts,metadata:_.metadata}))},start:async($)=>{await o.startChat($)},stop:async($)=>{await o.stopChat($)},sendMessages:async($,v,_)=>{await o.sendMessages($,{messages:v.map((w)=>({id:w.id,role:w.role,parts:w.parts,metadata:w.metadata})),behavior:_?.behavior??"enqueue"})}};return LD.fetch(u,{chat:c,store:l,otlp:e})})),r=await new Promise((u,t)=>{let o=(l)=>t(l);n.once("error",o),n.listen(i,"127.0.0.1",()=>{n.off("error",o);let l=n.address();if(l&&typeof l!=="string")u(l.port);else u(i)})});return process.env[bD]=`http://127.0.0.1:${r}`,{server:n,port:r}}async function mD(i,n,r=!1){let u=process.env.PORT;process.env.PORT=n.toString();let t=K0.prototype.listen,o=!1,l=()=>{if(!o)K0.prototype.listen=t,o=!0},e=new Promise((_,w)=>{K0.prototype.listen=function(...h){if(this.once("listening",()=>{let f=this.address(),U=f&&typeof f!=="string"?f.port:n;l(),_(U)}),this.once("error",(f)=>{l(),w(f)}),r)this.unref();return t.apply(this,h)}});try{await import(i)}catch(_){throw l(),_}finally{process.env.PORT=u}let c=await e,$=`http://127.0.0.1:${c}`;return{handler:pe((_)=>{let w=new URL(_.url),h=new URL($);h.pathname=w.pathname,h.search=w.search;let f=pu(),U=new Headers(_.headers);if(f)U.set(y0,f);return fetch(h.toString(),{method:_.method,headers:U,body:_.body,duplex:"half"})}),port:c}}var{server:q8,port:H8}=await SD();q8.unref();XD(`http://127.0.0.1:${H8}`);if(!process.env.ENTRYPOINT)throw Error("developer error: ENTRYPOINT is not set");var YD=process.env.PORT?parseInt(process.env.PORT,10):12345,{handler:W8}=await mD(z8(process.env.ENTRYPOINT),0),QD=J8.createServer((i,n)=>{let r=i.headers[M0];process.env[au]=r,Cg(r,()=>{W8(i,n)})});QD.listen(YD,()=>{let i=QD.address(),n=i&&typeof i!=="string"?i.port:YD;console.log(`BLINK_EXTERNAL_PORT:${n}`),console.log(`Server is running on port ${n}`)});\n';
